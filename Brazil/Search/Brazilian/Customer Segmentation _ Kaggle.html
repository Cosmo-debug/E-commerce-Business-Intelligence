<!DOCTYPE html>
<!-- saved from url=(0066)https://www.kaggle.com/fabiendaniel/customer-segmentation/notebook -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style id="react-tooltip">.__react_component_tooltip{border-radius:3px;display:inline-block;font-size:13px;left:-999em;opacity:0;padding:8px 21px;position:fixed;pointer-events:none;transition:opacity 0.3s ease-out;top:-999em;visibility:hidden;z-index:999}.__react_component_tooltip.allow_hover,.__react_component_tooltip.allow_click{pointer-events:auto}.__react_component_tooltip:before,.__react_component_tooltip:after{content:"";width:0;height:0;position:absolute}.__react_component_tooltip.show{opacity:0.9;margin-top:0px;margin-left:0px;visibility:visible}.__react_component_tooltip.type-dark{color:#fff;background-color:#222}.__react_component_tooltip.type-dark.place-top:after{border-top-color:#222;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-dark.place-bottom:after{border-bottom-color:#222;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-dark.place-left:after{border-left-color:#222;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-dark.place-right:after{border-right-color:#222;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-dark.border{border:1px solid #fff}.__react_component_tooltip.type-dark.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-dark.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-dark.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-dark.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-success{color:#fff;background-color:#8DC572}.__react_component_tooltip.type-success.place-top:after{border-top-color:#8DC572;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-success.place-bottom:after{border-bottom-color:#8DC572;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-success.place-left:after{border-left-color:#8DC572;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-success.place-right:after{border-right-color:#8DC572;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-success.border{border:1px solid #fff}.__react_component_tooltip.type-success.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-success.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-success.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-success.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-warning{color:#fff;background-color:#F0AD4E}.__react_component_tooltip.type-warning.place-top:after{border-top-color:#F0AD4E;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-warning.place-bottom:after{border-bottom-color:#F0AD4E;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-warning.place-left:after{border-left-color:#F0AD4E;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-warning.place-right:after{border-right-color:#F0AD4E;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-warning.border{border:1px solid #fff}.__react_component_tooltip.type-warning.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-warning.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-warning.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-warning.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-error{color:#fff;background-color:#BE6464}.__react_component_tooltip.type-error.place-top:after{border-top-color:#BE6464;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-error.place-bottom:after{border-bottom-color:#BE6464;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-error.place-left:after{border-left-color:#BE6464;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-error.place-right:after{border-right-color:#BE6464;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-error.border{border:1px solid #fff}.__react_component_tooltip.type-error.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-error.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-error.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-error.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-info{color:#fff;background-color:#337AB7}.__react_component_tooltip.type-info.place-top:after{border-top-color:#337AB7;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-info.place-bottom:after{border-bottom-color:#337AB7;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-info.place-left:after{border-left-color:#337AB7;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-info.place-right:after{border-right-color:#337AB7;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-info.border{border:1px solid #fff}.__react_component_tooltip.type-info.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-info.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-info.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-info.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-light{color:#222;background-color:#fff}.__react_component_tooltip.type-light.place-top:after{border-top-color:#fff;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-light.place-bottom:after{border-bottom-color:#fff;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-light.place-left:after{border-left-color:#fff;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-light.place-right:after{border-right-color:#fff;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-light.border{border:1px solid #222}.__react_component_tooltip.type-light.border.place-top:before{border-top:8px solid #222}.__react_component_tooltip.type-light.border.place-bottom:before{border-bottom:8px solid #222}.__react_component_tooltip.type-light.border.place-left:before{border-left:8px solid #222}.__react_component_tooltip.type-light.border.place-right:before{border-right:8px solid #222}.__react_component_tooltip.place-top{margin-top:-10px}.__react_component_tooltip.place-top:before{border-left:10px solid transparent;border-right:10px solid transparent;bottom:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-top:after{border-left:8px solid transparent;border-right:8px solid transparent;bottom:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-bottom{margin-top:10px}.__react_component_tooltip.place-bottom:before{border-left:10px solid transparent;border-right:10px solid transparent;top:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-bottom:after{border-left:8px solid transparent;border-right:8px solid transparent;top:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-left{margin-left:-10px}.__react_component_tooltip.place-left:before{border-top:6px solid transparent;border-bottom:6px solid transparent;right:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-left:after{border-top:5px solid transparent;border-bottom:5px solid transparent;right:-6px;top:50%;margin-top:-4px}.__react_component_tooltip.place-right{margin-left:10px}.__react_component_tooltip.place-right:before{border-top:6px solid transparent;border-bottom:6px solid transparent;left:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-right:after{border-top:5px solid transparent;border-bottom:5px solid transparent;left:-6px;top:50%;margin-top:-4px}.__react_component_tooltip .multi-line{display:block;padding:2px 0px;text-align:center}</style>
    <title>Customer Segmentation | Kaggle</title>
    
    <meta name="robots" content="index, follow">
    <meta name="description" content="Explore and run machine learning code with Kaggle Notebooks | Using data from E-Commerce Data">
    <meta name="turbolinks-cache-control" content="no-cache">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">
    <meta name="theme-color" content="#008ABC">
    <script type="text/javascript" async="" src="./Customer Segmentation _ Kaggle_files/koj6gxx6"></script><script type="text/javascript" async="" src="./Customer Segmentation _ Kaggle_files/js" nonce=""></script><script src="./Customer Segmentation _ Kaggle_files/cb=gapi.loaded_0" nonce="" async=""></script><script type="text/javascript" async="" src="./Customer Segmentation _ Kaggle_files/analytics.js.download" nonce=""></script><script nonce="" type="text/javascript">
        window["initialPageLoadStartTime"] = new Date().getTime();
    </script>
    <link rel="preconnect" href="https://www.google-analytics.com/" crossorigin="anonymous"><link rel="preconnect" href="https://stats.g.doubleclick.net/"><link rel="preconnect" href="https://js.intercomcdn.com/"><link rel="preconnect" href="https://storage.googleapis.com/"><link rel="preconnect" href="https://apis.google.com/"><link rel="preload" href="https://www.kaggle.com/static/assets/fontawesome-webfont.woff2" as="font" crossorigin="anonymous">
    <link href="https://www.kaggle.com/static/images/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link rel="manifest" href="https://www.kaggle.com/static/json/manifest.json" crossorigin="use-credentials">
    <link href="./Customer Segmentation _ Kaggle_files/css" rel="stylesheet" type="text/css">
    <link href="./Customer Segmentation _ Kaggle_files/icon" rel="stylesheet" type="text/css">
        <link rel="canonical" href="https://www.kaggle.com/fabiendaniel/customer-segmentation">
        <link rel="stylesheet" type="text/css" href="./Customer Segmentation _ Kaggle_files/vendor.css">
        <link rel="stylesheet" type="text/css" href="./Customer Segmentation _ Kaggle_files/app.css">
    
    
 
        <script nonce="">
        try{(function(a,s,y,n,c,h,i,d,e){d=s.createElement("style");
        d.appendChild(s.createTextNode(""));s.head.appendChild(d);d=d.sheet;
        y=y.map(x => d.insertRule(x + "{ opacity: 0 !important }"));
        h.start=1*new Date;h.end=i=function(){y.forEach(x => x<d.cssRules.length ? d.deleteRule(x) : {})};
        (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
        })(window,document,['.site-header-react__nav'],'dataLayer',2000,{'GTM-52LNT9S':true});}catch(ex){}
    </script><style></style>
    <script nonce="">
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-12629138-1', {
            'optimize_id': 'GTM-52LNT9S',
            'displayFeaturesTask': null,
            'send_page_view': false
        });
    </script>
    <script nonce="" async="" src="./Customer Segmentation _ Kaggle_files/js(1)"></script>

<script nonce="">window.intercomSettings = {"app_id":"koj6gxx6","name":"Alireza Alizadegan","email":"a.r.alizadegan@gmail.com","user_hash":"8f613f4c8b475efb37322dc98c275b062a693a9173a0e4a9e32eff4724ffbc91","created_at":1569088294,"last_visit_date_at":1580460804,"status_id":2,"performance_tier":0,"user_name":"alizadegan","display_name":"Alireza Alizadegan","is_admin":false,"experiment_group":1,"newsletter_subscriber":false,"competition_mailing_list_subscriber":false,"block_emails":false,"competitions_tier":0,"competitions_tier_attained_at":1569097835,"kernels_tier":0,"kernels_tier_attained_at":1569097835,"discussion_tier":0,"discussion_tier_attained_at":1569097835,"datasets_count":0,"host_page_visits":0,"in_class_competitions_hosted_count":0,"last_hour_searches_count":0,"api_has_token":false,"api_has_requests":false};</script>        <script nonce="">(function () { var w = window; var ic = w.Intercom; if (typeof ic === "function") { ic('reattach_activator'); ic('update', intercomSettings); } else { var d = document; var i = function () { i.c(arguments) }; i.q = []; i.c = function (args) { i.q.push(args) }; w.Intercom = i; function l() { var s = d.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'https://widget.intercom.io/widget/koj6gxx6'; var x = d.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); } if (w.attachEvent) { w.attachEvent('onload', l); } else { w.addEventListener('load', l, false); } } })()</script>
    
    
    <meta name="og:url" content="https://kaggle.com/fabiendaniel/customer-segmentation">
    <meta property="og:title" content="Customer Segmentation">
    <meta property="og:description" content="Explore and run machine learning code with Kaggle Notebooks | Using data from E-Commerce Data">
    <meta property="og:type" content="website">
    <meta name="og:image" content="https://storage.googleapis.com/kaggle-avatars/thumbnails/826901-kg.jpg">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@kaggledatasets">


    
    
    <script nonce="" type="application/ld+json">{"@context":"http://schema.org/","@type":"Article","author":{"@type":"Person","name":"fabiendaniel","sameAs":"/fabiendaniel"},"headline":"Customer Segmentation","url":"https://www.kaggle.com/fabiendaniel/customer-segmentation","dateModified":"2019-03-21T14:19:41.35","datePublished":"2019-03-21T14:19:41.35","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.kaggle.com/fabiendaniel/customer-segmentation"},"publisher":{"@type":"Organization","name":"Kaggle","sameAs":"https://www.kaggle.com","logo":{"type":"ImageObject","url":"https://www.kaggle.com/static/images/site-logo.png"}},"image":["https://storage.googleapis.com/kaggle-avatars/thumbnails/826901-kg.jpg"]}</script>


    
    
    
<script nonce="" type="text/javascript">
    var Kaggle = Kaggle || {};

    Kaggle.Current = {
        userId: 3743521,
        userProfileUrl: '/alizadegan',
        userDisplayNameEscaped: 'Alireza Alizadegan',
        userThumbnailUrl: 'https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png',
        userEmail: 'a.r.alizadegan@gmail.com',
        userIsPhoneVerified: false,
        userName: 'alizadegan',
        tier: 'Novice',
        antiForgeryToken: 'CfDJ8LdUzqlsSWBPr4Ce3rb9VL-DKi-OzqOcP1SQBFknAtRCkz3B-KHsLpIBAVYQvMHqG3aUlS8eVJiSi7RLodfroIg6mGWix_t9EjT1dP4Olb00hzhSGtXShWNF1tIECtVBovtKzqU-9X_BFMpkcFbNwacPQDbuBhIJm3cI8ype3pUHzWlW6LBUuM5oItpCh_4_0Q',
        isAnonymous: false,
        analyticsToken: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1ODA0NjE3MDQsIlVzZXJJZCI6Mzc0MzUyMX0.IsPVazIoZvv0poRWcBtm4L81CkS4cxVz1y7cRwREM6g',
        analyticsTokenExpiry: 15,
        internetKernelsEnabled: false,
        
        
        
        
        
        
        mdeImageUploader: true,
        
        
        
        
    }
        Kaggle.Current.log = function(){};
        Kaggle.Current.warn = function(){};

    var decodeUserDisplayName = function () {
        var escapedUserDisplayName = Kaggle.Current.userDisplayNameEscaped || "";
        try {
            var textVersion = new DOMParser().parseFromString(escapedUserDisplayName, "text/html").documentElement.textContent;
            if (textVersion) {
                return textVersion;
            }
        } catch(ex) {}
        return escapedUserDisplayName;
    }
    Kaggle.Current.userDisplayName = decodeUserDisplayName();
</script>

    

<script nonce="" type="text/javascript">
    var Kaggle = Kaggle || {};
    Kaggle.PageMessages = [];
</script>

        <script nonce="" type="text/javascript">
/* <![CDATA[ */
goog_snippet_vars = function() {
    var w = window;
    w.google_conversion_id = 955616553;
    w.google_conversion_label = "QSjvCKDksHMQqZrWxwM";
    w.google_conversion_value = 0.00;
    w.google_conversion_currency = "USD";
    w.google_remarketing_only = false;
    w.google_conversion_language = "en";
    w.google_conversion_format = "3";
    w.google_conversion_color = "ffffff";
}
// DO NOT CHANGE THE CODE BELOW.
goog_report_conversion = function(url) {
    goog_snippet_vars();
    window.google_conversion_format = "3";
    var opt = new Object();
    opt.onload_callback = function() {
        if (typeof(url) != 'undefined') {
            window.location = url;
        }
    }
    var conv_handler = window['google_trackConversion'];
    if (typeof(conv_handler) == 'function') {
        conv_handler(opt);
    }
}
/* ]]> */
    </script>
    <script nonce="" type="text/javascript" src="./Customer Segmentation _ Kaggle_files/f.txt">
    </script>



        <script nonce="">window['useKaggleAnalytics'] = true;</script>

    <script id="gapi-target" nonce="" src="./Customer Segmentation _ Kaggle_files/api.js.download" defer="" async="" gapi_processed="true"></script>
    <script nonce="" src="./Customer Segmentation _ Kaggle_files/vendor.js.download" data-turbolinks-track="reload"></script>
    <script nonce="" src="./Customer Segmentation _ Kaggle_files/app.js.download" data-turbolinks-track="reload"></script><style data-styled="" data-styled-version="4.4.0" id="kaggle-sc-1" data-turbolinks-permanent="true"></style><style data-styled="" data-styled-version="4.4.0" id="kaggle-sc-2" data-turbolinks-permanent="true"></style><style data-styled="" data-styled-version="4.4.0" id="kaggle-sc-3" data-turbolinks-permanent="true"></style><style data-styled="" data-styled-version="4.4.0"></style><style data-emotion=""></style>
        <script nonce="">
            (function() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register("/static/assets/service-worker.js").then(function(reg) {
                        reg.onupdatefound = function() {
                            var installingWorker = reg.installing;
                            installingWorker.onstatechange = function() {
                                switch (installingWorker.state) {
                                case 'installed':
                                    if (navigator.serviceWorker.controller) {
                                        console.log('New or updated content is available.');
                                    } else {
                                        console.log('Content is now available offline!');
                                    }
                                    break;
                                case 'redundant':
                                    console.error('The installing service worker became redundant.');
                                    break;
                                }
                            };
                        };
                    }).catch(function(e) {
                      console.error('Error during service worker registration:', e);
                    });
                }
            })();
        </script>
        <script nonce="" defer="" src="./Customer Segmentation _ Kaggle_files/stackdriver-errors-concat.min.js.download"></script>
        <script nonce="" type="text/javascript">
            window.addEventListener('DOMContentLoaded', function () {
                var errorHandler = new StackdriverErrorReporter();
                errorHandler.start({
                    key: 'AIzaSyDANGXFHtSIVc51MIdGwg4mQFgm3oNrKoo',
                    projectId: 'kaggle-161607',
                    service: 'web-fe',
                    version: '90c042534a5ff7aa4e59ada9b54911e8e9d8bde7',
                    context: { user: '3743521' }
                });
            });
        </script>
<script charset="utf-8" src="./Customer Segmentation _ Kaggle_files/5.bc5bec4d289dab7992b7.js.download"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body class="legacyNav" data-turbolinks="false"><div id="MathJax_Message" style="display: none;"></div>
    <main>
        






    <div class="site-layout">
            <div class="site-layout__header">
                <div data-component-name="SiteHeaderContainer" style="display: flex; flex-direction: column; flex: 1 0 auto;"><div style="--mdc-theme-on-primary:#fff; --mdc-theme-on-surface:rgba(0, 0, 0, 0.87); --mdc-theme-text-primary-on-background:rgba(0, 0, 0, 0.87); --mdc-theme-text-secondary-on-background:rgba(0, 0, 0, 0.54); --mdc-theme-text-hint-on-background:rgba(0, 0, 0, 0.38); --mdc-theme-text-disabled-on-background:rgba(0, 0, 0, 0.38); --mdc-theme-text-icon-on-background:rgba(0, 0, 0, 0.38); --mdc-theme-primary:#20BEFF; --mdc-theme-error:#F58B8A; --mdc-theme-background:#F8F8F8; --mdc-theme-surface:#F8F8F8; --mdc-theme-primary-bg:#20BEFF; --mdc-theme-secondary-bg:#919294;"><div class="site-header-react"><div class="site-header-react__wrapper-cookies-header"><div class="site-header-react__mobile-content"><span class="fa fa-bars site-header-react__mobile-menu-button"></span><div class="site-header-react__mobile-logo"><a href="https://www.kaggle.com/"><img alt="Kaggle" src="./Customer Segmentation _ Kaggle_files/site-logo.png"></a></div><div class="NotificationContainer_NotificationContainerWrapper-sc-bb4fan jzSiza"><span class="tooltip-container NotificationContainer_NotificationTooltipWrapper-sc-1jdjwer bEGeae" data-tooltip="Notifications"><div class="NotificationIcon_NotificationIconWrapper-sc-3rbk7d dBubSX"><div class="NotificationIcon_NotificationIconIcon-sc-wpy2fb bdBygo"><span name="bell" class="fa fa-bell"></span></div></div></span></div></div></div><div data-testid="searchContainer" class="sc-fcdeBU cHhVvA"><div class="sc-cooIXK bDoDlc"><div class="sc-cqCuEk bOcgNj"><div class="sc-ipZHIp OhWid"><button aria-hidden="true" color="#20BEFF" sizevalue="24px" role="button" tabindex="0" data-mdc-ripple-is-unbounded="true" class="rmwc-icon google-material-icons sc-hmXxxW dCmHib sc-dliRfk kyiMuB mdc-ripple-upgraded--unbounded mdc-ripple-upgraded sc-hmXxxW dCmHib sc-dliRfk kyiMuB mdc-icon-button" style="--mdc-ripple-fg-size:0px; --mdc-ripple-fg-scale:NaN; --mdc-ripple-left:0px; --mdc-ripple-top:0px;">arrow_back</button><form data-testid="searchInputBarFormElement" class="sc-qrIAp gObpqQ"><input data-testid="searchInputBarInputElement" class="sc-iqzUVk fiYDAQ searchTarget" type="text" size="1" value=""></form></div><div class="sc-iGrrsa dRgAOy"><button aria-hidden="true" color="#20BEFF" sizevalue="24px" role="button" tabindex="0" data-mdc-ripple-is-unbounded="true" class="rmwc-icon google-material-icons sc-hmXxxW dCmHib sc-dliRfk sc-kLIISr leLmbz mdc-ripple-upgraded--unbounded mdc-ripple-upgraded sc-hmXxxW dCmHib sc-dliRfk sc-kLIISr leLmbz mdc-icon-button" style="--mdc-ripple-fg-size:0px; --mdc-ripple-fg-scale:NaN; --mdc-ripple-left:0px; --mdc-ripple-top:0px;">search</button><button aria-hidden="true" color="#20BEFF" sizevalue="24px" role="button" tabindex="0" data-mdc-ripple-is-unbounded="true" class="rmwc-icon google-material-icons sc-hmXxxW dCmHib sc-dliRfk kyiMuB mdc-ripple-upgraded--unbounded mdc-ripple-upgraded sc-hmXxxW dCmHib sc-dliRfk kyiMuB mdc-icon-button" style="--mdc-ripple-fg-size:0px; --mdc-ripple-fg-scale:NaN; --mdc-ripple-left:0px; --mdc-ripple-top:0px;">close</button></div></div></div><div class="sc-gmeYpB cxWeGB"><div class="sc-fZwumE fDTcvm"><div data-testid="searchInitialPage" class="sc-jVODtj iqifca"><div class="sc-rBLzX gcgxuO"><div tabindex="0" class="sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-ripple-upgraded sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-list-item"><div class="sc-CtfFt bqyRwi"><i sizevalue="24px" class="rmwc-icon google-material-icons sc-eNQAEJ elAFxb sc-laTMn huaZcL">history</i></div><div class="sc-TFwJa ceVIkk"><h6 class="sc-dnqmqq sc-fjmCvl hkxPki">ecommerce</h6><div class="sc-giadOv ldzHYE"></div></div></div></div><div class="sc-rBLzX gcgxuO"><div tabindex="0" class="sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-ripple-upgraded sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-list-item"><div class="sc-CtfFt bqyRwi"><i sizevalue="24px" class="rmwc-icon google-material-icons sc-eNQAEJ elAFxb sc-laTMn huaZcL">history</i></div><div class="sc-TFwJa ceVIkk"><h6 class="sc-dnqmqq sc-fjmCvl hkxPki">starbucks</h6><div class="sc-giadOv ldzHYE"></div></div></div></div><div class="sc-rBLzX gcgxuO"><div tabindex="0" class="sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-ripple-upgraded sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-list-item"><div class="sc-CtfFt bqyRwi"><i sizevalue="24px" class="rmwc-icon google-material-icons sc-eNQAEJ elAFxb sc-laTMn huaZcL">history</i></div><div class="sc-TFwJa ceVIkk"><h6 class="sc-dnqmqq sc-fjmCvl hkxPki">bixi</h6><div class="sc-giadOv ldzHYE"></div></div></div></div><div class="sc-VJcYb eHzyuQ"><p class="sc-fjdhpX sc-kUaPvJ jsjsMY">Trending Searches</p><div class="sc-rBLzX gcgxuO"><div tabindex="0" class="sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-ripple-upgraded sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-list-item"><div class="sc-CtfFt bqyRwi"><i sizevalue="24px" class="rmwc-icon google-material-icons sc-eNQAEJ elAFxb sc-laTMn huaZcL">trending_up</i></div><div class="sc-TFwJa ceVIkk"><h6 class="sc-dnqmqq sc-fjmCvl hkxPki">iris dataset</h6></div></div></div><div class="sc-rBLzX gcgxuO"><div tabindex="0" class="sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-ripple-upgraded sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-list-item"><div class="sc-CtfFt bqyRwi"><i sizevalue="24px" class="rmwc-icon google-material-icons sc-eNQAEJ elAFxb sc-laTMn huaZcL">trending_up</i></div><div class="sc-TFwJa ceVIkk"><h6 class="sc-dnqmqq sc-fjmCvl hkxPki">coronavirus</h6></div></div></div><div class="sc-rBLzX gcgxuO"><div tabindex="0" class="sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-ripple-upgraded sc-kafWEX dNChzQ sc-bMvGRv ebVBAF searchTarget mdc-list-item"><div class="sc-CtfFt bqyRwi"><i sizevalue="24px" class="rmwc-icon google-material-icons sc-eNQAEJ elAFxb sc-laTMn huaZcL">trending_up</i></div><div class="sc-TFwJa ceVIkk"><h6 class="sc-dnqmqq sc-fjmCvl hkxPki">corona</h6></div></div></div></div><div class="sc-VJcYb eHzyuQ"><p class="sc-fjdhpX sc-kUaPvJ jsjsMY">Popular Tags</p><div class="sc-ipXKqB dDfBzb"><div class="sc-dTdPqK cWIThu mdc-chip-set"><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">starter code</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">37689</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">beginner</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">15012</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">data visualization</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">9093</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">deep learning</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">7361</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">eda</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">5461</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">business</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">5387</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">classification</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">4943</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">tutorial</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">4694</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">utility script</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">4186</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">computing</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">3343</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">feature engineering</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">2951</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">natural and physical sciences</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">2902</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">data cleaning</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">2817</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">arts and entertainment</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">2779</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">computer science</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">2318</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">statistics</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">2149</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">internet</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">1819</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">reference</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">1737</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">education</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">1518</span></div></div></button><button tabindex="0" customsize="medium" class="sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-upgraded sc-jlyJG efIrdC sc-gPWkxV lgkuAq mdc-ripple-surface mdc-chip"><div class="mdc-chip__text"><div class="sc-itybZL fsulOK"><p class="sc-fjdhpX sc-eMigcr kMfCaI">dailychallenge</p><span class="sc-jzJRlG sc-fzsDOv fSAMXI">1388</span></div></div></button></div></div></div></div></div></div></div></div></div></div><script nonce="">var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({});performance && performance.mark && performance.mark("SiteHeaderContainer.componentCouldBootstrap");</script>
            </div>

        <div class="site-layout__main-content">
            



<div data-component-name="KernelViewer" style="display: flex; flex-direction: column; flex: 1 0 auto;"><div style="--mdc-theme-on-primary:#fff; --mdc-theme-on-surface:rgba(0, 0, 0, 0.87); --mdc-theme-text-primary-on-background:rgba(0, 0, 0, 0.87); --mdc-theme-text-secondary-on-background:rgba(0, 0, 0, 0.54); --mdc-theme-text-hint-on-background:rgba(0, 0, 0, 0.38); --mdc-theme-text-disabled-on-background:rgba(0, 0, 0, 0.38); --mdc-theme-text-icon-on-background:rgba(0, 0, 0, 0.38); --mdc-theme-primary:#20BEFF; --mdc-theme-error:#F58B8A; --mdc-theme-background:#F8F8F8; --mdc-theme-surface:#F8F8F8; --mdc-theme-primary-bg:#20BEFF; --mdc-theme-secondary-bg:#919294;"><div id="kernel-container" class="KernelViewer_KernelContainer-sc-pqp17m geIfSj"><div id="kernel-header-wrapper" class="KernelViewer_HeaderWrapper-sc-8tipmk bHUTQM" style="top: -86px;"><div class="KernelViewerContext_ViewerHeader-sc-rb9dne gsvLRR"><span class="KernelViewerContext_PrimaryInfoWrapper-sc-ia2f3h iJGizJ"><span class="KernelViewerContext_AuthorThumbnailWrapper-sc-16ybk5w gKyUfk"><span class="tooltip-container tooltip-container--left" data-tooltip="FabienDaniel"><a class="avatar" href="https://www.kaggle.com/fabiendaniel" style="width: 37px;"><img class="avatar__thumbnail" src="./Customer Segmentation _ Kaggle_files/826901-kg.jpg" alt="FabienDaniel" width="37" height="37" style="border-radius: 3.7px;"><img class="avatar__tier" src="./Customer Segmentation _ Kaggle_files/avatier-master@2x.png" alt="master tier" width="37" style="margin-top: 1.85px;"></a></span><span class="KernelViewerContext_TruncatedCollaboratorsWrapper-sc-t3tbmb gucpcS"><span><span class="TruncatedCollaborators_CollaboratorThumbnailWrapper-sc-soe92h eyJHdD"></span></span></span></span><span class="KernelViewerContext_TitleBlock-sc-jekzgk iwNYec"><img src="./Customer Segmentation _ Kaggle_files/goldl@1x.png" alt="gold medal" class="KernelViewerContext_KernelMedal-sc-1dzga2t fjtRyK"><a class="KernelViewerContext_KernelTitle-sc-jsmupn dioqyE">Customer Segmentation</a><br><span class="KernelViewerContext_KernelSubtitle-sc-1joh4f8 VvzXw"><span class="KernelViewerContext_KernelTypeInfo-sc-1l6fza6 cCZXYa">Python notebook using data from</span><a href="https://www.kaggle.com/carrie1/ecommerce-data" class="KernelViewerContext_DataSourceUrl-sc-1dm3ij9 jFvyqr"> E-Commerce Data</a><span> · <span>84,431</span> views</span><span> · <span title="Thu Mar 21 2019 07:19:40 GMT-0700 (Pacific Daylight Time)">10mo ago</span></span><span class="KernelViewerContext_CategoriesWrapper-sc-8yrjj dLfERf"><span><span class="Categories_CategorySeparator-sc-b5hptt igJPSm category_separator">·</span><span><span class="Categories_TagIcon-sc-1xao8k8 ipoyJt fa fa-tag"></span><span><a href="https://www.kaggle.com/tags/classification" class="Categories_CategoryLink-sc-qnv6v2 iBndII">classification</a>, </span><span><a href="https://www.kaggle.com/tags/tutorial" class="Categories_CategoryLink-sc-qnv6v2 iBndII">tutorial</a>, </span><span><a href="https://www.kaggle.com/tags/clustering" class="Categories_CategoryLink-sc-qnv6v2 iBndII">clustering</a></span><span class="tooltip-multiline"><span class="tooltip-multiline__before" style="opacity: 0;"></span><span class="Categories_ViewMoreButton-sc-xekkxr emBMvM">, +2 more</span><span class="tooltip-multiline__after" style="opacity: 0;"><span><span><a href="https://www.kaggle.com/tags/forecasting" class="Categories_CategoryLink-sc-qnv6v2 iBndII">forecasting</a>, </span><span><a href="https://www.kaggle.com/tags/marketing" class="Categories_CategoryLink-sc-qnv6v2 iBndII">marketing</a></span></span></span></span></span></span></span></span></span></span><span class="HeaderOptionsContext_CommunityWrapper-sc-1xsfcpi kWGhbv"><span class="KernelVoteButton_VoteButtonWrapper-sc-2bmt8m grkOhB"><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">334</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="ForkButton_Wrapper-sc-1t7l405 cjbHxG"><span class="ForkButton_JoinedCopyAndEditContainer-sc-lcxjzz frwGeq fork-button"><a href="https://www.kaggle.com/kernels/fork/374483" class="button__anchor-wrapper"><div class="button ForkButton_CreateCopyAndEditButton-sc-1dnwfvb bANhPZ"><span><span class="ForkButton_CopyAndEditTextContainer-sc-m90zur jPVKcN"><span class="ForkButton_CodeForkIcon-sc-5oak8 bDOIjy fa fa-code-fork"></span> Copy and Edit</span></span></div></a><a class="button__anchor-wrapper"><div class="button ForkButton_CreateCopyAndEditButton-sc-1dnwfvb ForkButton_CopyAndEditCountButton-sc-2wqg9l jBXMWu"><span><div>1358</div></span></div></a></span></div><span class="HeaderOptionsContext_InlineDropdown-sc-183b1ux eVsYcS"><div class="NewsfeedDropdown_DropdownContainer-sc-1t1dgyy hYJeFY"><div class="NewsfeedDropdown_DropdownIconContainer-sc-vzs67v iCpUqc"><span name="ellipsis-h" class="fa fa-ellipsis-h"></span> </div></div></span></span></div><div class="sc-cFlMtL jlsdUn"></div></div><div class="KernelViewer_ViewerContent-sc-8uapew fGqQuV"><div class="kernel-viewer"><span class="KernelViewer_NavigationSidebarWrapper-sc-m3cp4m kvCEgv"><div class="KernelViewerContext_FullNavigationMenu-sc-1n0pzuj iNdcun"><span><div class="VersionsInfoBox_VersionTitle-sc-1a29ina ejMWrH">Version 65</div><div class="VersionsInfoBox_VersionTitle-sc-1a29ina VersionsInfoBox_VersionSubtitle-sc-so54uw eLUMyL"><span class="VersionsInfoBox_RecentCommitsIcon-sc-1gnl07a nEcTI fa fa-history"><span> <span>65 commits</span></span></span></div></span><div class="navbox__container"><div class="navbox__nav-wrapper"><nav class="navbox__nav"><a class="navbox__nav-item--selected" href="https://www.kaggle.com/fabiendaniel/customer-segmentation/notebook" title="Notebook">Notebook</a><div class="navbox__page"><span class="KernelViewerContext_ContentsMenu-sc-8en2wv huDVCR"><div class="navbox__container"><div class="navbox__nav-wrapper"><nav class="navbox__nav"><a class="navbox__nav-item--selected-with-bar" href="https://www.kaggle.com/fabiendaniel/customer-segmentation/notebook#Customer-segmentation" title="">Customer segmentation</a><div class="navbox__page"></div></nav></div></div></span></div><a class="navbox__nav-item" href="https://www.kaggle.com/fabiendaniel/customer-segmentation/data" title="Data">Data</a><a class="navbox__nav-item" href="https://www.kaggle.com/fabiendaniel/customer-segmentation/comments" title="Comments">Comments</a></nav></div></div></div></span><div class="kernel-viewer__container"><div class="kernel-viewer__pane-container" id="kernel-viewer__pane-container"><div class="KernelViewer_SubmissionWrapper-sc-13mikru bHRCEj"></div><div id="notebook"><div><div class="kernel-notebook-pane" style="display: block;"><div class="content-box"><div><div class="content-box__title-bar"><div class="ContentBox_Title-sc-6fbrxj bkvjMN" style="line-height: 46px;">Notebook</div></div></div><div class="content-box__content-section"><div class="kernel-notebook-pane__container"><iframe id="rendered-kernel-content" src="./Customer Segmentation _ Kaggle_files/__results__.html" scrolling="no" title="Main Kernel Content" style="height: 41613px; display: block;"></iframe><div class="kernel-notebook-pane__loading" style="display: none;"><div class="Spinner_SpinnerContainer-sc-fllvzl cBVAFE"><i class="fa fa-circle-o-notch fa-spin fa-2x"></i></div></div></div></div></div></div><div class="kernel-code-pane__subtitle" id="notebook-pane-license-info">This Notebook has been released under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0</a> open source license.</div><div class="upvote-suggestion upvote-suggestion__kernel"><div class="upvote-suggestion__text"><div class="upvote-suggestion__main-text">Did you find this Notebook useful?</div><div class="upvote-suggestion__sub-text">Show your appreciation with an upvote</div></div><div class="upvote-suggestion__button"><div class="vote-button__container "><div class="vote-button vote-button--enabled"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-caret-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">334</span></div><div class="vote-button__button-placeholder"></div></div></div></div><div class="upvote-suggestion__voters"><div class="upvote-suggestion__voter upvote-suggestion__voter-top"><span class="tooltip-container" data-tooltip="Adrián Plattner" data-tooltip-size="small"><a href="https://www.kaggle.com/adrianplattner" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/49985-gp.jpg" alt="Adrián Plattner" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-top"><span class="tooltip-container" data-tooltip="Taeho Hong" data-tooltip-size="small"><a href="https://www.kaggle.com/idealab" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/102662-fb.jpg" alt="Taeho Hong" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-top"><span class="tooltip-container" data-tooltip="Bukun" data-tooltip-size="small"><a href="https://www.kaggle.com/ambarish" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/103225-kg.jpg" alt="Bukun" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-more"><span class="tooltip-container" data-tooltip="Pratj" data-tooltip-size="small"><a href="https://www.kaggle.com/pratjain" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/104579-kg.jpg" alt="Pratj" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-more"><span class="tooltip-container" data-tooltip="Dan Ofer" data-tooltip-size="small"><a href="https://www.kaggle.com/danofer" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/109123-gr.jpg" alt="Dan Ofer" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-more"><span class="tooltip-container" data-tooltip="Anoop Madhusudanan" data-tooltip-size="small"><a href="https://www.kaggle.com/amazedsaint" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/114317-fb.jpg" alt="Anoop Madhusudanan" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-more"><span class="tooltip-container" data-tooltip="Ish Yadav" data-tooltip-size="small"><a href="https://www.kaggle.com/ishyadav" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/122248-fb.jpg" alt="Ish Yadav" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-more"><span class="tooltip-container" data-tooltip="Thang Vo" data-tooltip-size="small"><a href="https://www.kaggle.com/thangvo" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/208547-fb.jpg" alt="Thang Vo" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-more"><span class="tooltip-container" data-tooltip="Mukunde Gael" data-tooltip-size="small"><a href="https://www.kaggle.com/mukunde" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/default-thumb.png" alt="Mukunde Gael" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-more"><span class="tooltip-container" data-tooltip="sushmit roy" data-tooltip-size="small"><a href="https://www.kaggle.com/sushmit" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/default-thumb.png" alt="sushmit roy" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-other"><span class="tooltip-container" data-tooltip="Jermyn " data-tooltip-size="small"><a href="https://www.kaggle.com/jermynbek" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/224465-gp.jpg" alt="Jermyn " class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-other"><span class="tooltip-container" data-tooltip="Xiaoyu Sun" data-tooltip-size="small"><a href="https://www.kaggle.com/sumi25" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/235748-gp.jpg" alt="Xiaoyu Sun" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-other"><span class="tooltip-container" data-tooltip="Christina Boididou" data-tooltip-size="small"><a href="https://www.kaggle.com/christinampoid" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/260853-kg.JPG" alt="Christina Boididou" class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-other"><span class="tooltip-container" data-tooltip="TheRahib786 ." data-tooltip-size="small"><a href="https://www.kaggle.com/rahib4" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/266498-fb.jpg" alt="TheRahib786 ." class="upvote-suggestion__voter-img"></a></span></div><div class="upvote-suggestion__voter upvote-suggestion__voter-other"><span class="tooltip-container" data-tooltip="Vaibhav Sahu" data-tooltip-size="small"><a href="https://www.kaggle.com/sahuvaib" class="upvote-suggestion__voter-link"><img src="./Customer Segmentation _ Kaggle_files/284275-fb.jpg" alt="Vaibhav Sahu" class="upvote-suggestion__voter-img"></a></span></div></div></div></div></div><div id="data"><div class="DataExplorer_Container-sc-3uk7qa koHlGt"><div class="content-box"><div><div class="content-box__title-bar"><div class="ContentBox_Title-sc-6fbrxj bkvjMN" style="line-height: 46px;">Data</div><div class="content-box__right-side"><div class="DataExplorerOverview_TitleBarRight-sc-41u5ex fQnYEh"><div class="DataExplorerOverview_TitleBarItem-sc-7z0gmy jyhbDO"><span name="arrows-alt" class="DataExplorerPreview_TitleButtonInactive-sc-bzj2yc fpIVxw DataExplorerOverview_ModalButton-sc-16rlqid iDhVYC fa fa-arrows-alt"></span></div></div></div></div></div><div class="content-box__content-section"><div class="DataExplorerOverview_MainContentFlexHeight-sc-mttnn1 lnvRMd"><div class="DataExplorerOverview_Column-sc-1xt9894 DataExplorerOverview_ListColumn-sc-1njtlh9 yQpPz"><div class="DataExplorerList_ExplorerContainer-sc-1a88ctb cTVrfV"><div class="DataExplorerList_Header-sc-kx3nd2 iKHbXp data-explorer-list__header"><div class="DataExplorerList_HeaderTitle-sc-b3zndu eydspt">Data Sources</div><div class="DataExplorerList_HeaderRight-sc-17seut1 gAngP"></div></div><div class="DataExplorerList_Content-sc-t0yrr2 fXPaho"><div class="DataExplorerList_Entry-sc-1uffrzs khXEaG"><div class="DataExplorerList_UnselectedEntry-sc-1lv5br0 DataExplorerList_SelectedEntry-sc-tsuri7 cWTFrR"><div style="width: 16px; min-width: 16px; max-width: 16px;"></div><span name="chevron-down" class="DataExplorerList_CollapsedIcon-sc-1qjwt1i jUrboE fa fa-chevron-down"></span><span name="cube" class="DataExplorerList_TypeIcon-sc-mjsupj kUeJgO fa fa-cube"></span><div class="ToolTip_ToolTipContainer-sc-f0vhmk eHUYTV DataExplorerList_EntryNameToolTip2-sc-kc4oz cMQbPv"><div data-tip="true" data-for="tooltip_0" class="DataExplorerList_EntryName-sc-12cja4h eKEqwz" currentitem="false">E-Commerce Data</div><div class="__react_component_tooltip place-top type-dark " id="tooltip_0" data-id="tooltip"><div class="ToolTip_ToolTipView-sc-1ci7zcv johoye"><span>E-Commerce Data</span></div></div></div><div class="DataExplorerList_EntryInfoSpacer-sc-6qxfsx Hmlgy"></div></div><div class="DataExplorerList_EntryChildren-sc-1x9zgty fGsVOx"><div class="DataExplorerList_Entry-sc-1uffrzs khXEaG"><div class="DataExplorerList_UnselectedEntry-sc-1lv5br0 bgskLU"><div style="width: 32px; min-width: 32px; max-width: 32px;"></div><span name="chevron-right" class="DataExplorerList_CollapsedIcon-sc-1qjwt1i DataExplorerList_DisabledCollapsedIcon-sc-1qkqjxo fZbCWh fa fa-chevron-right"></span><span name="table" class="DataExplorerList_TypeIcon-sc-mjsupj kUeJgO fa fa-table"></span><div class="ToolTip_ToolTipContainer-sc-f0vhmk eHUYTV DataExplorerList_EntryNameToolTip2-sc-kc4oz cMQbPv"><div data-tip="true" data-for="tooltip_1" class="DataExplorerList_EntryName-sc-12cja4h eKEqwz" currentitem="false">data.csv</div><div class="__react_component_tooltip place-top type-dark " id="tooltip_1" data-id="tooltip"><div class="ToolTip_ToolTipView-sc-1ci7zcv johoye"><span>data.csv</span></div></div></div><div class="DataExplorerList_EntryInfo-sc-lll5vk gqOAgi">8 columns</div></div><a href="https://www.kaggle.com/carrie1/ecommerce-data/download/PeVmyRQrh932uhA9Xmhq%2Fversions%2F7Qe65Ha6QVTxG5dcMliP%2Ffiles%2Fdata.csv?datasetVersionNumber=1" class="DataExplorerList_EntryAction-sc-1hkyq01 kJGSCc"><span name="download" class="DataExplorerList_EntryActionIconBackground-sc-aljf47 gfXnRe fa fa-download"></span></a></div></div><a href="https://www.kaggle.com/carrie1/ecommerce-data" target="_blank" class="DataExplorerList_EntryAction-sc-1hkyq01 kJGSCc"><span name="external-link" class="DataExplorerList_EntryActionIconBackground-sc-aljf47 gfXnRe fa fa-external-link"></span></a></div></div></div></div><div class="DataExplorerOverview_Column-sc-1xt9894 DataExplorerOverview_ObjectColumn-sc-v8kz4s ihDqUe"><div class="DataExplorerDescription_Container-sc-rtvgew bNXSrs"><div class="DataExplorerDescription_DatasourceHeader-sc-1jjl64y hYvtkD"><img src="./Customer Segmentation _ Kaggle_files/dataset-thumbnail.jpg" alt="E-Commerce Data source image" class="DataExplorerDescription_DatasourceImage-sc-124hjw6 faQqwa"><div class="DataExplorerDescription_DatasourceDetails-sc-6z9az5 cgraVO"><div class="DataExplorerDescription_DatasourceName-sc-16246cx dGdqfj"><a href="https://www.kaggle.com/carrie1/ecommerce-data" class="DataExplorerDescription_DatasourceLink-sc-40is1k jLoTGh">E-Commerce Data</a></div><div class="DataExplorerDescription_DatasourceOverview-sc-64u3xx dthRbg">Actual transactions from UK retailer</div><div class="DataExplorerDescription_DatasourceLastUpdated-sc-1bnzx7s htUSRH">Last Updated: <span title="Wed Aug 16 2017 19:44:30 GMT-0700 (Pacific Daylight Time)">2 years ago</span> (Version 1)</div></div></div><div class="DataExplorerDescription_Header-sc-9udzgu kagSZQ"><div class="DataExplorerDescription_HeaderTitle-sc-8yzcy8 hTEPjQ">About this Dataset</div><div class="DataExplorerDescription_HeaderRight-sc-m2iwyg fyjBEU"></div></div><div class="DataExplorerDescription_Content-sc-yp9anb iVzuqu"><div class="markdown-converter__text--rendered data-explorer-overview-description"><h3>Context</h3>

<p>Typically e-commerce datasets are proprietary and consequently hard to find among publicly available data.  However, <a href="http://archive.ics.uci.edu/ml/index.php">The UCI Machine Learning Repository</a> has made this dataset containing actual transactions from 2010 and 2011.  The dataset is maintained  on their site, where it can be found by the title "Online Retail".</p>

<h3>Content</h3>

<p>"This is a transnational data set which contains all the transactions occurring between 01/12/2010 and 09/12/2011 for a UK-based and registered non-store online retail.The company mainly sells unique all-occasion gifts. Many customers of the company are wholesalers."</p>

<h3>Acknowledgements</h3>

<p>Per the UCI Machine Learning Repository, this data was made available by Dr Daqing Chen, Director: Public Analytics group. chend '@' lsbu.ac.uk, School of Engineering, London South Bank University, London SE1 0AA, UK.</p>

<p>Image from stocksnap.io.</p>

<h3>Inspiration</h3>

<p>Analyses for this dataset could include time series, clustering, classification and more. </p></div></div></div></div></div></div></div></div></div><div id="output"></div><div id="comments"><div class="comment-list"><div><div class="off-canvas__wrapper"></div></div><div class="comment-list__header"><span class="comment-list__title">Comments <span class="comment-list__title-count">(34)</span></span><span class="comment-list__spacer"></span><span class="comment-list__sort-pane-button">Filter/sort&nbsp;<i class="fa fa-angle-right"></i></span></div><div class="comment-wrapper comment-wrapper--mini-form"><div class="discussion-comment discussion-comment--parent"><div class="discussion-comment__body discussion-comment__body--mini discussion-comment__body--editing"><div class="Comment_PlaceholderInputWrapper-sc-17xtcz1 iHYFsY"><textarea id="placeholder-input" placeholder="Click here to comment..." aria-label="Enter new comment" class="Comment_PlaceholderInput-sc-1wlma0j iTRWsT"></textarea></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="295413"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/charalamposargyriou" title="Charalampos">Charalampos</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Tue Mar 13 2018 09:10:24 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">7</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Hello, fist of all thank you for this perfect report and then i have a question..<br>
In both 5 and 6 sections, why do we have to use the classifiers and train the model as a supervised one and dont use the kmeans.pedict command to classify the new entries in the store?? </p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="284697"><div class="discussion-comment discussion-comment--parent"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/nicapotato" title="nicapotato">nicapotato</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Sat Feb 17 2018 16:50:22 GMT-0800 (Pacific Standard Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">2</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Don't fix what aint broke :P. Good thing I forked this. Merci Bien!</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div><div class="discussion-comment__replies"><div class="discussion-comment__linking-line"><div><div id="284771"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link discussion-comment__title-author-link--topic-author" href="https://www.kaggle.com/fabiendaniel" title="FabienDaniel">FabienDaniel</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Sun Feb 18 2018 01:30:35 GMT-0800 (Pacific Standard Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">2</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Indeed … I just wanted to try the new editor and i just can't commit this notebook anymore … the version you forked works fine entirely ?</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div><div id="284923"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/nicapotato" title="nicapotato">nicapotato</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Sun Feb 18 2018 12:28:06 GMT-0800 (Pacific Standard Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">1</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>I forked and ran it a month ago. While it also ran over 3600 seconds, and got killed, all the output actually went through..?  <em>Note, I was already beta testing the new editor at that time.</em></p>
<p>Here I made it public for reference: <a href="https://www.kaggle.com/nicapotato/customer-segmentation?scriptVersionId=2096497/notebook" target="_blank">https://www.kaggle.com/nicapotato/customer-segmentation?scriptVersionId=2096497/notebook</a></p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div><div id="285084"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link discussion-comment__title-author-link--topic-author" href="https://www.kaggle.com/fabiendaniel" title="FabienDaniel">FabienDaniel</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Mon Feb 19 2018 01:08:26 GMT-0800 (Pacific Standard Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">1</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Thanks a lot for the help and for testing the script. Sincerely, I don't know what to do and I hope people from Kaggle could have a look at it …. I notified this problem <a href="https://www.kaggle.com/product-feedback/50059" target="_blank">there</a></p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div></div></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="244532"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/mireinhold" title="Michael">Michael</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Thu Nov 16 2017 06:10:24 GMT-0800 (Pacific Standard Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">1</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Thanks for this comprehensive analysis. Planning to do the rfm und clv analysis on these data. Genuine transaction data are extremely hard to find, indeed.</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="227269"><div class="discussion-comment discussion-comment--parent"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/dongxu027" title="DSEverything">DSEverything</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Tue Oct 03 2017 21:26:52 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">1</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Hi FabienDaniel, you are pretty thorough here. I am reading through and get lots of insights.</p>
<p>Just one quick notice here, you may want to cross entropy function, which uses the raw predicted probability to evaluate the classifier performance as that wouldn't depend on your cutoff threshold (so potentially avoid the issue that the accuracy values of some classifiers get really close and hard to differentiate). </p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div><div class="discussion-comment__replies"><div class="discussion-comment__linking-line"><div><div id="227283"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link discussion-comment__title-author-link--topic-author" href="https://www.kaggle.com/fabiendaniel" title="FabienDaniel">FabienDaniel</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Tue Oct 03 2017 22:07:36 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Thanks ! I would be happy to have a look at the cross entropy function: any link where I could see an example of what you have in mind ?</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div><div id="230497"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/dongxu027" title="DSEverything">DSEverything</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Wed Oct 11 2017 21:00:33 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">2</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Hi FabienDaniel, </p>
<p>unfortunately there are not many kernels or plots related to the cross entropy as this mostly applies to multi-category classification case.  It is especially overlooked as there are AUC, Gini metrics to use in binary classification scenarios.</p>
<p>Essentially the smaller this cross entropy value is, the model is performing better.  This link below is a simplified version of explanations, you should have known I believe.      <br>
<a href="https://pmirla.github.io/2016/10/09/Basics-crossEntropy.html" target="_blank">https://pmirla.github.io/2016/10/09/Basics-crossEntropy.html</a>   </p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div><div id="230515"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link discussion-comment__title-author-link--topic-author" href="https://www.kaggle.com/fabiendaniel" title="FabienDaniel">FabienDaniel</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Wed Oct 11 2017 22:05:13 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Many thanks for the link, I'll have a look at it !</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div></div></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="232213"><div class="discussion-comment discussion-comment--parent"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/gsdeepakkumar" title="GSD">GSD</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Mon Oct 16 2017 22:23:45 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">2</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Excellent coding and visualisation. Pardon my ignorance for this question .I have been creating kernals using R markdown notebooks and I was under the assumption that with python you cannot create excellent reports like this.I would appreciate if you could explain how to go about creating such wonderful reports in notebooks..</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div><div class="discussion-comment__replies"><div class="discussion-comment__linking-line"><div><div id="232235"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link discussion-comment__title-author-link--topic-author" href="https://www.kaggle.com/fabiendaniel" title="FabienDaniel">FabienDaniel</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Mon Oct 16 2017 23:48:52 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">1</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Thanks a lot for the compliment :) <br></p>
<p>In fact, I also believe that R allows a better rendering of the work, mainly because of the graphical facilities. For example I recently looked at <a href="https://www.kaggle.com/headsortails/steering-wheel-of-fortune-porto-seguro-eda" target="_blank">this notebook</a> where many plots are embedded in a single graph: each plot is made accessible through a given tab. The text that appear below each plot is also tab dependent. This makes everything much more concise and easier to read and as far as I know, we can't do anything similar in Python. <br></p>
<p>Well, in Kaggle's kernels, they recently added the possibility to hide cells in Python which allows to make much nice looking notebooks.</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div><div id="232262"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/gsdeepakkumar" title="GSD">GSD</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Tue Oct 17 2017 01:24:41 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Thats Awesome …Thank you …and did you type the introduction part and index by yourself ?I thought there would be markdown kind of features where you could specify everything prior and knitr will take care of everything else…</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div></div></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="229710"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/ambarish" title="Bukun">Bukun</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Tue Oct 10 2017 01:02:49 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">2</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Awesome! I plan to go through this in detail</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="700340"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/amrmahmoud123" title="Amr Mahmoud">Amr Mahmoud</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Sat Dec 21 2019 11:56:10 GMT-0800 (Pacific Standard Time)">a month ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>thanks for sharing,<br>
I just don't understand what is next?<br>
now I have clusters then what is the role of these clusters? if I have a compagn and I want to target  an ad to specific cluster how to do that ? how can I identify that this cluster will fit with my ad?</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="664945"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/rabbit0116" title="Cola Jiang">Cola Jiang</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Mon Nov 04 2019 04:51:20 GMT-0800 (Pacific Standard Time)">3 months ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>excellent!!!!!</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="581793"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/wikifed" title="fwiktor">fwiktor</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Mon Jul 22 2019 04:58:52 GMT-0700 (Pacific Daylight Time)">6 months ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Hi! That's very interesting :)</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="539142"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/teamowu" title="Harrywu">Harrywu</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Wed May 29 2019 08:33:22 GMT-0700 (Pacific Daylight Time)">8 months ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Thanks for your sharing.I have some confusions about the data set.<br>
The  thing is about the canceled order.<br>
For example, If the customer make an order  at 1/18/2011 10:01<br>
and the InvoiceNo is recorded as <strong>541431</strong>, but not a long while there is a canceled order record at 1/18/2011 10:17 which have the same Qty(but negative)  and Description. This canceled order have another InvoiceNo: <strong>C541433</strong>.  <br>
Is that a situation  like i order something but after a moment i don't want it and cancel it?<br>
It's so weird because i consider if it's the same order, the canceled order should be the origin InvoiceNo of Order plus a <strong>C</strong> prefix, just like <strong>C541431</strong> rather than <strong>C541433</strong>.<br>
Wish to get your reply.Thanks</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="532045"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/arpitagupta2915" title="arpita">arpita</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Wed May 15 2019 21:55:08 GMT-0700 (Pacific Daylight Time)">9 months ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Nice work!!</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="528113"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/rohanj76" title="Rohan Jadhav">Rohan Jadhav</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Mon May 06 2019 22:07:37 GMT-0700 (Pacific Daylight Time)">9 months ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Awesome and detailed work. Thanks a lot.</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="465644"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/tulasij" title="Tulasi J">Tulasi J</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Sun Feb 03 2019 09:09:25 GMT-0800 (Pacific Standard Time)">a year ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>is this also called as product recommendation?</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="438303"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/jhazdk" title="JhazDK">JhazDK</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Thu Dec 13 2018 05:01:30 GMT-0800 (Pacific Standard Time)">a year ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>I wish this is in R</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="433845"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/chagajami3451" title="chakri">chakri</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Wed Dec 05 2018 06:57:48 GMT-0800 (Pacific Standard Time)">a year ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>it's very good use case to practice the code and  model as well. Please keep post similar example.</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="430404"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/cenkkiran" title="Cenk KIRAN">Cenk KIRAN</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Fri Nov 30 2018 02:37:40 GMT-0800 (Pacific Standard Time)">a year ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Hi there! <br>
First of all great job! Thanks for the effort.<br>
I just want to ask, i couldn't plot <strong>choropleth</strong> graph. Is it only me or is there a problem in the kernel?<br>
I tried it on Kaggle and on local Jupyter notebook as well.<br>
Thanks</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="374097"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/ashutoshds" title="AshuDS">AshuDS</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Wed Aug 22 2018 05:34:08 GMT-0700 (Pacific Daylight Time)">a year ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Awesome visualizations and analysis….!!</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="374015"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/sahuvaib" title="Vaibhav Sahu">Vaibhav Sahu</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Wed Aug 22 2018 02:19:09 GMT-0700 (Pacific Daylight Time)">a year ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Great work</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="322680"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/sfernamer" title="Sergi Fernandez">Sergi Fernandez</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Thu May 03 2018 05:25:57 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Excellent job. It's really useful to analyze the data.</p>
<p>I'm working with R and, as a beginner, I would be interested in knowing the equivalence in R or how to code in R the codes starting in [11] to detect and remove the cancellation orders with the counterparts. Could you tell me a bit, please? Thank you.</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="322065"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/dgmunoz" title="DGarcia">DGarcia</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Wed May 02 2018 04:30:24 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Amazing example! Thank you very much! Just wanted to know if it would be possible to see the predicted  class against the real one.</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="309765"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/pahojas" title="Pedro Hojas">Pedro Hojas</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Thu Apr 05 2018 16:49:03 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Great example. Thanks for all the details in your work. </p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="306851"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/insarn" title="AlOtaibi,Intisar">AlOtaibi,Intisar</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Sat Mar 31 2018 00:03:19 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>great work </p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="249058"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/gangjeleski" title="Goran">Goran</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Mon Nov 27 2017 08:09:28 GMT-0800 (Pacific Standard Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Great!</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="244533"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/mireinhold" title="Michael">Michael</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Thu Nov 16 2017 06:10:38 GMT-0800 (Pacific Standard Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="228315"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/del=4fcbf600fc8cfc29" title="[Deleted User]">[Deleted User]</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Fri Oct 06 2017 05:30:19 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>Wow. Thanks for the detailed explanations.</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div><div><div id="227855"><div class="discussion-comment"><span class="discussion-comment__title"><a class="discussion-comment__title-author-link" href="https://www.kaggle.com/mbkinaci" title="Muhammed Buyukkinaci">Muhammed Buyukkinaci</a><span class="discussion-comment__title-element">•</span><span class="discussion-comment__title-element"><span title="Thu Oct 05 2017 02:34:20 GMT-0700 (Pacific Daylight Time)">2 years ago</span></span><span class="discussion-comment__title-element--spacer"></span><div class="vote-button__container "><div class="vote-button vote-button--compact vote-button--enabled vote-button--has-downvote"><div class="vote-button__button vote-button__button--up vb-upvote"><span class="fa fa-angle-up"></span></div><div class="vote-button__button vote-button__button--up vote-button__vote-count-container"><span class="vote-button__vote-count">0</span></div><div class="vote-button__button-placeholder"></div></div></div></span><div class="discussion-comment__body"><div class="discussion-comment__content"><div><div class="markdown-converter__text--rendered"><p>GREAT</p></div><span class=""></span><div class="file-list file-list--compact"></div><div class="file-list file-list--compact"></div></div></div><div class="discussion-comment__title-elements"><a class="discussion-comment__title-element discussion-comment__title-element--link">Options</a><a class="discussion-comment__title-element discussion-comment__title-element--link">Reply</a></div></div></div></div></div><div class="comment-list__comment-linking-spacer"></div></div></div><div class="content-box"><div><div class="content-box__title-bar"><div class="ContentBox_Title-sc-6fbrxj bkvjMN" style="line-height: 46px;">Similar Kernels</div></div></div><div class="content-box__content-section"><div class="Suggestions_SuggestionsWrapper-sc-1xk7v0c gxoTYN"><div class="block-link Suggestions_SuggestionWrapper-sc-1ef3k08 gVGJvK block-link--bordered"><a class="block-link__anchor" href="https://www.kaggle.com/bobirino/"></a><div class="Suggestions_ContentWrapper-sc-135ctbi gFcYoH"><div class="Suggestions_SuggestionImageWrapper-sc-148gjh6 hSPlUZ"><img src="./Customer Segmentation _ Kaggle_files/dataset-thumbnail.png" class="Suggestions_SuggestionImage-sc-1c4g2wk MKUr"></div><div class="Suggestions_InfoWrapper-sc-iy14r8 bQiOdQ"><span class="Suggestions_InfoTitle-sc-1w3dl99 ffiwep"></span></div></div></div><div class="block-link Suggestions_SuggestionWrapper-sc-1ef3k08 gVGJvK block-link--bordered"><a class="block-link__anchor" href="https://www.kaggle.com/aniketg11/"></a><div class="Suggestions_ContentWrapper-sc-135ctbi gFcYoH"><div class="Suggestions_SuggestionImageWrapper-sc-148gjh6 hSPlUZ"><img src="./Customer Segmentation _ Kaggle_files/dataset-thumbnail(1).jpg" class="Suggestions_SuggestionImage-sc-1c4g2wk MKUr"></div><div class="Suggestions_InfoWrapper-sc-iy14r8 bQiOdQ"><span class="Suggestions_InfoTitle-sc-1w3dl99 ffiwep"></span></div></div></div><div class="block-link Suggestions_SuggestionWrapper-sc-1ef3k08 gVGJvK block-link--bordered"><a class="block-link__anchor" href="https://www.kaggle.com/nanomathias/"></a><div class="Suggestions_ContentWrapper-sc-135ctbi gFcYoH"><div class="Suggestions_SuggestionImageWrapper-sc-148gjh6 hSPlUZ"><img src="./Customer Segmentation _ Kaggle_files/dataset-thumbnail(2).png" class="Suggestions_SuggestionImage-sc-1c4g2wk MKUr"></div><div class="Suggestions_InfoWrapper-sc-iy14r8 bQiOdQ"><span class="Suggestions_InfoTitle-sc-1w3dl99 ffiwep"></span></div></div></div><div class="block-link Suggestions_SuggestionWrapper-sc-1ef3k08 gVGJvK block-link--bordered"><a class="block-link__anchor" href="https://www.kaggle.com/roshansharma/"></a><div class="Suggestions_ContentWrapper-sc-135ctbi gFcYoH"><div class="Suggestions_SuggestionImageWrapper-sc-148gjh6 hSPlUZ"><img src="./Customer Segmentation _ Kaggle_files/dataset-thumbnail(3).jpg" class="Suggestions_SuggestionImage-sc-1c4g2wk MKUr"></div><div class="Suggestions_InfoWrapper-sc-iy14r8 bQiOdQ"><span class="Suggestions_InfoTitle-sc-1w3dl99 ffiwep"></span></div></div></div><div class="block-link Suggestions_SuggestionWrapper-sc-1ef3k08 gVGJvK block-link--bordered"><a class="block-link__anchor" href="https://www.kaggle.com/oliversinn/"></a><div class="Suggestions_ContentWrapper-sc-135ctbi gFcYoH"><div class="Suggestions_SuggestionImageWrapper-sc-148gjh6 hSPlUZ"><img src="./Customer Segmentation _ Kaggle_files/multiple-datasource.png" class="Suggestions_SuggestionImage-sc-1c4g2wk MKUr"></div><div class="Suggestions_InfoWrapper-sc-iy14r8 bQiOdQ"><span class="Suggestions_InfoTitle-sc-1w3dl99 ffiwep"></span></div></div></div></div></div></div></div></div><div class="KernelViewer_EmptyColumn-sc-1ubq290 PBvJq"></div></div></div><span class="KernelViewer_NavigationFooterWrapper-sc-wrdi08 hOWXJV"><div class="StickyFooter-sc-17zvw1m fWlDXE"><nav class="NavBoxFooter_NavigationBar-sc-fpq4iw cMYHPq"><a href="https://www.kaggle.com/fabiendaniel/customer-segmentation/notebook" title="Notebook" class="NavBoxFooter_NavigationElement-sc-1a4m5yz NavBoxFooter_SelectedNavigationElement-sc-128c1nx cbSEkc"><div><span name="book" size="20" class="fa fa-book fa-stack-20x"></span></div><div class="NavBoxFooter_NavigationText-sc-p8ascv fWncVd">Notebook</div></a><a href="https://www.kaggle.com/fabiendaniel/customer-segmentation/data" title="Data" class="NavBoxFooter_NavigationElement-sc-1a4m5yz hmfEdB"><div><span name="table" size="20" class="fa fa-table fa-stack-20x"></span></div><div class="NavBoxFooter_NavigationText-sc-p8ascv fWncVd">Data</div></a><a href="https://www.kaggle.com/fabiendaniel/customer-segmentation/comments" title="Comments" class="NavBoxFooter_NavigationElement-sc-1a4m5yz hmfEdB"><div><span name="comment" size="20" class="fa fa-comment fa-stack-20x"></span></div><div class="NavBoxFooter_NavigationText-sc-p8ascv fWncVd">Comments</div></a></nav><div class="navbox__page"></div></div></span></div></div></div><script nonce="">var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({"kernel":{"id":374483,"title":"Customer Segmentation","forkParent":null,"currentRunId":11888176,"mostRecentRunId":11888176,"url":"/fabiendaniel/customer-segmentation","tags":[{"name":"marketing","slug":"marketing","url":"/tags/marketing"},{"name":"tutorial","slug":"tutorial","url":"/tags/tutorial"},{"name":"classification","slug":"classification","url":"/tags/classification"},{"name":"clustering","slug":"clustering","url":"/tags/clustering"},{"name":"forecasting","slug":"forecasting","url":"/tags/forecasting"}],"commentCount":0,"upvoteCount":334,"viewCount":84431,"forkCount":1358,"bestPublicScore":null,"author":{"id":826901,"displayName":"FabienDaniel","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"fabiendaniel","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/826901-kg.jpg","profileUrl":"/fabiendaniel","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":3,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"isPhoneVerified":false},"isPrivate":false,"updatedTime":"2019-03-21T14:19:41.35Z","selfLink":"/kernels/374483","pinnedDockerImageVersionId":null,"dockerImagePinningType":"original","originalDockerImageId":null,"isLanguageTemplate":false,"medal":"gold","topicId":40535,"readGroupId":null,"writeGroupId":null,"slug":"customer-segmentation"},"kernelBlob":{"id":230744237,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"DatasetVersion","sourceId":3404,"databundleVersionId":null,"mountSlug":null}],"sourceType":"notebook","language":"python","accelerator":"none","isInternetEnabled":false},"source":"{\u0022cells\u0022:[{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002277841518-29e7-4001-9aeb-6267400da121\u0022,\u0022_uuid\u0022:\u0022baf39e29f412685d42adbf39a6030e5f00255d0d\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022# Customer segmentation\\n_F. Daniel (September 2017)_\\n____\\n\\nThis notebook aims at analyzing the content of an E-commerce database that lists purchases made by $\\\\sim$4000 customers over a period of one year (from 2010/12/01 to 2011/12/09). Based on this analysis, I develop a model that allows to anticipate the purchases that will be made by a new customer, during the following year and this, from its first purchase. \u003cbr\u003e\\n\\n___\\n**Acknowledgement**: many thanks to [J. Abécassis](https://www.kaggle.com/judithabk6) for the advices and help provided during the writing of this notebook \\n___\\n**1. Data Preparation**\\n\\n**2. Exploring the content of variables**\\n\\n   - 2.1 Countries\\n   - 2.2 Customers and products\\n       * 2.2.1 Cancelling orders\\n       * 2.2.2 StockCode\\n       * 2.2.3 Basket price\\n\\n**3. Insight on product categories**\\n\\n   - 3.1 Product description \\n   - 3.2 Defining product categories \\n       * 3.2.1 Data encoding\\n       * 3.2.2 Clusters of products\\n       * 3.2.3 Characterizing the content of clusters\\n   \\n**4. Customer categories**\\n\\n   - 4.1 Formating data\\n       * 4.1.1 Grouping products \\n       * 4.1.2 Time spliting of the dataset\\n       * 4.1.3 Grouping orders \\n   - 4.2 Creating customer categories\\n       * 4.2.1 Data enconding\\n       * 4.2.2 Creating categories\\n\\n**5. Classifying customers**\\n\\n   - 5.1 Support Vector Machine Classifier (SVC)\\n       * 5.1.1 Confusion matrix\\n       * 5.1.2 Leraning curves \\n   - 5.2 Logistic regression \\n   - 5.3 k-Nearest Neighbors\\n   - 5.4 Decision Tree\\n   - 5.5 Random Forest\\n   - 5.6 AdaBoost\\n   - 5.7 Gradient Boosting Classifier\\n   - 5.8 Let\u0027s vote !\\n   \\n**6. Testing the predictions**\\n\\n**7. Conclusion**\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022151b89ad-6783-483e-8cf9-081f23052f7f\u0022,\u0022_uuid\u0022:\u0022b2c01e22363fb1afa2ea2b080659cbfbe0416465\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022## 1. Data preparation\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022c2c4a258-c804-4622-9155-b01ac0ee2412\u0022,\u0022_uuid\u0022:\u0022f1bb865aa1a9dfc9906cf6cfdb869f871d82e36e\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022As a first step, I load all the modules that will be used in this notebook:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022705714b1-870b-4f34-b5bf-cd027dafaefe\u0022,\u0022_uuid\u0022:\u0022bb40a7b23734d82876d812fab6daecd83a46368c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022import pandas as pd\\nimport numpy as np\\nimport matplotlib as mpl\\nimport matplotlib.pyplot as plt\\nimport seaborn as sns\\nimport datetime, nltk, warnings\\nimport matplotlib.cm as cm\\nimport itertools\\nfrom pathlib import Path\\nfrom sklearn.preprocessing import StandardScaler\\nfrom sklearn.cluster import KMeans\\nfrom sklearn.metrics import silhouette_samples, silhouette_score\\nfrom sklearn import preprocessing, model_selection, metrics, feature_selection\\nfrom sklearn.model_selection import GridSearchCV, learning_curve\\nfrom sklearn.svm import SVC\\nfrom sklearn.metrics import confusion_matrix\\nfrom sklearn import neighbors, linear_model, svm, tree, ensemble\\nfrom wordcloud import WordCloud, STOPWORDS\\nfrom sklearn.ensemble import AdaBoostClassifier\\nfrom sklearn.decomposition import PCA\\nfrom IPython.display import display, HTML\\nimport plotly.graph_objs as go\\nfrom plotly.offline import init_notebook_mode,iplot\\ninit_notebook_mode(connected=True)\\nwarnings.filterwarnings(\\\u0022ignore\\\u0022)\\nplt.rcParams[\\\u0022patch.force_edgecolor\\\u0022] = True\\nplt.style.use(\u0027fivethirtyeight\u0027)\\nmpl.rc(\u0027patch\u0027, edgecolor = \u0027dimgray\u0027, linewidth=1)\\n%matplotlib inline\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002200704161-ee27-45e5-8abe-582799682a6a\u0022,\u0022_uuid\u0022:\u00229fef0af109df66769564679418201e09990a5dea\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Then, I load the data. Once done, I also give some basic informations on the content of the dataframe: the type of the various variables, the number of null values and their percentage with respect to the total number of entries:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00221063f9e0-e494-4873-939f-8aa5ca40cc89\u0022,\u0022_uuid\u0022:\u0022227fc0cb1d5216d52e057e1d2d7debd0e29abe46\u0022,\u0022scrolled\u0022:false,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#__________________\\n# read the datafile\\ndf_initial = pd.read_csv(\u0027../input/data.csv\u0027,encoding=\\\u0022ISO-8859-1\\\u0022,\\n                         dtype={\u0027CustomerID\u0027: str,\u0027InvoiceID\u0027: str})\\nprint(\u0027Dataframe dimensions:\u0027, df_initial.shape)\\n#______\\ndf_initial[\u0027InvoiceDate\u0027] = pd.to_datetime(df_initial[\u0027InvoiceDate\u0027])\\n#____________________________________________________________\\n# gives some infos on columns types and numer of null values\\ntab_info=pd.DataFrame(df_initial.dtypes).T.rename(index={0:\u0027column type\u0027})\\ntab_info=tab_info.append(pd.DataFrame(df_initial.isnull().sum()).T.rename(index={0:\u0027null values (nb)\u0027}))\\ntab_info=tab_info.append(pd.DataFrame(df_initial.isnull().sum()/df_initial.shape[0]*100).T.\\n                         rename(index={0:\u0027null values (%)\u0027}))\\ndisplay(tab_info)\\n#__________________\\n# show first lines\\ndisplay(df_initial[:5])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002206c4d159-30b1-49d5-8704-e799e62d920e\u0022,\u0022_uuid\u0022:\u00220bd74433ee980fa630f68bb213fb73cd2cb9c0f2\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022While looking at the number of null values in the dataframe, it is interesting to note that $\\\\sim$25% of the entries are not assigned to a particular customer. With the data available, it is impossible to impute values for the user and these entries are thus useless for the current exercise. So I delete them from the dataframe:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f9de6b67-a588-43ab-8f51-b28efdee9e32\u0022,\u0022_uuid\u0022:\u00229b915fa18b311e8f93ac862bd49d08d90e03ca48\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_initial.dropna(axis = 0, subset = [\u0027CustomerID\u0027], inplace = True)\\nprint(\u0027Dataframe dimensions:\u0027, df_initial.shape)\\n#____________________________________________________________\\n# gives some infos on columns types and numer of null values\\ntab_info=pd.DataFrame(df_initial.dtypes).T.rename(index={0:\u0027column type\u0027})\\ntab_info=tab_info.append(pd.DataFrame(df_initial.isnull().sum()).T.rename(index={0:\u0027null values (nb)\u0027}))\\ntab_info=tab_info.append(pd.DataFrame(df_initial.isnull().sum()/df_initial.shape[0]*100).T.\\n                         rename(index={0:\u0027null values (%)\u0027}))\\ndisplay(tab_info)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022ebbe5646-3bb8-41fa-a723-ceca20d23305\u0022,\u0022_uuid\u0022:\u00227ac7f800756405f801d09d290624c0767a3b5ef6\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022OK, therefore, by removing these entries we end up with a dataframe filled at 100% for all variables! Finally, I check for duplicate entries and delete them:\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022baf1ff2e-646b-468b-b7b4-68343f388387\u0022,\u0022_uuid\u0022:\u00226b988d1dee3deecafd54f2b3555d1f84b509d213\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022print(\u0027Entrées dupliquées: {}\u0027.format(df_initial.duplicated().sum()))\\ndf_initial.drop_duplicates(inplace = True)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022ba32e71f-0e94-4d44-81cf-8409d644fc8b\u0022,\u0022_uuid\u0022:\u0022bd5c8b02bb28eaa95b66c941143794440e4ef53b\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n## 2. Exploring the content of variables\\n\\nThis dataframe contains 8 variables that correspond to: \\n\\n**InvoiceNo**: Invoice number. Nominal, a 6-digit integral number uniquely assigned to each transaction. If this code starts with letter \u0027c\u0027, it indicates a cancellation.  \u003cbr\u003e\\n**StockCode**: Product (item) code. Nominal, a 5-digit integral number uniquely assigned to each distinct product. \u003cbr\u003e\\n**Description**: Product (item) name. Nominal. \u003cbr\u003e\\n**Quantity**: The quantities of each product (item) per transaction. Numeric.\\t\u003cbr\u003e\\n**InvoiceDate**: Invice Date and time. Numeric, the day and time when each transaction was generated. \u003cbr\u003e\\n**UnitPrice**: Unit price. Numeric, Product price per unit in sterling. \u003cbr\u003e\\n**CustomerID**: Customer number. Nominal, a 5-digit integral number uniquely assigned to each customer. \u003cbr\u003e\\n**Country**: Country name. Nominal, the name of the country where each customer resides.\u003cbr\u003e\\n\\n___\\n### 2.1 Countries\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022cd84a8f6-4ee5-43f1-bf29-6a0b38cbc545\u0022,\u0022_uuid\u0022:\u0022f43c23fe62b4183bbe9ee4beb1759f6c9802b15c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Here, I quickly look at the countries from which orders were made:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002244abc17d-8858-457a-94e1-f012143fda87\u0022,\u0022_uuid\u0022:\u0022c4141f12a8b2c733539a75d398cadf0817ca0969\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022temp = df_initial[[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027, \u0027Country\u0027]].groupby([\u0027CustomerID\u0027, \u0027InvoiceNo\u0027, \u0027Country\u0027]).count()\\ntemp = temp.reset_index(drop = False)\\ncountries = temp[\u0027Country\u0027].value_counts()\\nprint(\u0027Nb. de pays dans le dataframe: {}\u0027.format(len(countries)))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022f4e80201-fe50-4668-9d71-8b820e3f483e\u0022,\u0022_uuid\u0022:\u0022f9a0565eeb7b4c3dc802ebe9c4b810d8b938a3f7\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and show the result on a chloropleth map:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022993e237f-8fbc-47b6-a2f9-6418a7221f07\u0022,\u0022_uuid\u0022:\u00227b84b31aa58c137c8bb05fe5a3ebcb791b13100b\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022data = dict(type=\u0027choropleth\u0027,\\nlocations = countries.index,\\nlocationmode = \u0027country names\u0027, z = countries,\\ntext = countries.index, colorbar = {\u0027title\u0027:\u0027Order nb.\u0027},\\ncolorscale=[[0, \u0027rgb(224,255,255)\u0027],\\n            [0.01, \u0027rgb(166,206,227)\u0027], [0.02, \u0027rgb(31,120,180)\u0027],\\n            [0.03, \u0027rgb(178,223,138)\u0027], [0.05, \u0027rgb(51,160,44)\u0027],\\n            [0.10, \u0027rgb(251,154,153)\u0027], [0.20, \u0027rgb(255,255,0)\u0027],\\n            [1, \u0027rgb(227,26,28)\u0027]],    \\nreversescale = False)\\n#_______________________\\nlayout = dict(title=\u0027Number of orders per country\u0027,\\ngeo = dict(showframe = True, projection={\u0027type\u0027:\u0027mercator\u0027}))\\n#______________\\nchoromap = go.Figure(data = [data], layout = layout)\\niplot(choromap, validate=False)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022a0a41461-7f22-4ca8-bc97-5aba4249dde7\u0022,\u0022_uuid\u0022:\u00227a29044f1d76c8fb064a3262f5877ab27673a836\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We see that the dataset is largely dominated by orders made from the UK.\\n\\n___\\n### 2.2 Customers and products\\n\\nThe dataframe contains $\\\\sim$400,000 entries. What are the number of users and products in these entries ?\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022677f103d-d199-480c-bca4-fc08f7aa2e92\u0022,\u0022_uuid\u0022:\u0022dc2f4b48b76615721e6718efbd31fcd3faf16bec\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pd.DataFrame([{\u0027products\u0027: len(df_initial[\u0027StockCode\u0027].value_counts()),    \\n               \u0027transactions\u0027: len(df_initial[\u0027InvoiceNo\u0027].value_counts()),\\n               \u0027customers\u0027: len(df_initial[\u0027CustomerID\u0027].value_counts()),  \\n              }], columns = [\u0027products\u0027, \u0027transactions\u0027, \u0027customers\u0027], index = [\u0027quantity\u0027])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002222a37aef-ac7c-4369-ac7e-14d4d221fb36\u0022,\u0022_uuid\u0022:\u00226aac31ab7152f883a9fe5f67624a75ba2d6111c2\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022It can be seen that the data concern 4372 users and that they bought 3684 different products. The total number of transactions carried out is of the order of $\\\\sim$22\u0027000.\\n\\nNow I will determine the number of products purchased in every transaction:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002272d6dede-4280-4afd-b61b-085ea8c73d67\u0022,\u0022_uuid\u0022:\u0022dd0d84bd4275a04e361b5b41924d11b7f6f2e9ff\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022temp = df_initial.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[\u0027InvoiceDate\u0027].count()\\nnb_products_per_basket = temp.rename(columns = {\u0027InvoiceDate\u0027:\u0027Number of products\u0027})\\nnb_products_per_basket[:10].sort_values(\u0027CustomerID\u0027)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022ac04f52f-3847-400b-abc8-2e04a4145ac8\u0022,\u0022_uuid\u0022:\u0022b4d634aa7a7a44548f5e20d4c84c9c5b16e3b5a7\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022The first lines of this list shows several things worthy of interest:\\n- the existence of entries with the prefix C for the **InvoiceNo** variable: this indicates transactions that have been canceled\\n- the existence of users who only came once and only purchased one product (e.g. nº12346)\\n- the existence of frequent users that buy a large number of items at each order\\n\\n___\\n#### 2.2.1 Cancelling orders\\n\\nFirst of all, I count the number of transactions corresponding to canceled orders:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00229b0e32d8-fc9c-4301-ac18-9c1d7cc5b54f\u0022,\u0022_uuid\u0022:\u0022076fba25ed8a2b38fddd83ff862fa21e7f790a11\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022nb_products_per_basket[\u0027order_canceled\u0027] = nb_products_per_basket[\u0027InvoiceNo\u0027].apply(lambda x:int(\u0027C\u0027 in x))\\ndisplay(nb_products_per_basket[:5])\\n#______________________________________________________________________________________________\\nn1 = nb_products_per_basket[\u0027order_canceled\u0027].sum()\\nn2 = nb_products_per_basket.shape[0]\\nprint(\u0027Number of orders canceled: {}/{} ({:.2f}%) \u0027.format(n1, n2, n1/n2*100))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00227f7e8633-b8c2-4c20-a4ad-7abccb17ae91\u0022,\u0022_uuid\u0022:\u00228bfcf5e4bf4dc23e54537f254605792677d3a6b4\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We note that the number of cancellations is quite large ($\\\\sim$16% of the total number of transactions).\\nNow, let\u0027s look at the first lines of the dataframe:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00222f985d42-e0b9-4281-8f30-43c2c13955b9\u0022,\u0022_uuid\u0022:\u002254f5b8a4bc832c1c396419223f43c41b9b0b27de\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022display(df_initial.sort_values(\u0027CustomerID\u0027)[:5])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002220b14506-af29-4cab-b864-889fc965038d\u0022,\u0022_uuid\u0022:\u0022ee086333ddbb28cb24784ef8a000f6d54607ceec\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022On these few lines, we see that when an order is canceled, we have another transactions in the dataframe, mostly identical except for the **Quantity** and **InvoiceDate** variables. I decide to check if this is true for all the entries.\\nTo do this, I decide to locate the entries that indicate a negative quantity and check if there is *systematically* an order indicating the same quantity (but positive), with the same description (**CustomerID**, **Description** and **UnitPrice**):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:false,\u0022_cell_guid\u0022:\u002206e26580-014e-432d-ab59-b5ceebb816cb\u0022,\u0022_uuid\u0022:\u0022b16ddfdd36696a4a92ba15acd387e7eca0757f31\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_check = df_initial[df_initial[\u0027Quantity\u0027] \u003c 0][[\u0027CustomerID\u0027,\u0027Quantity\u0027,\\n                                                   \u0027StockCode\u0027,\u0027Description\u0027,\u0027UnitPrice\u0027]]\\nfor index, col in  df_check.iterrows():\\n    if df_initial[(df_initial[\u0027CustomerID\u0027] == col[0]) \u0026 (df_initial[\u0027Quantity\u0027] == -col[1]) \\n                \u0026 (df_initial[\u0027Description\u0027] == col[2])].shape[0] == 0: \\n        print(df_check.loc[index])\\n        print(15*\u0027-\u0027+\u0027\u003e\u0027+\u0027 HYPOTHESIS NOT FULFILLED\u0027)\\n        break\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022e065546a-ff34-4caf-9abf-6384bcc918b9\u0022,\u0022collapsed\u0022:true,\u0022_uuid\u0022:\u002283d37e6f13986f01c0fbcc8ea4f46cdc175717c4\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We see that the initial hypothesis is not fulfilled because of the existence of a  \u0027_Discount_\u0027 entry. I check again the hypothesis but this time discarding the \u0027_Discount_\u0027 entries:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002250c6589e-4387-4a3e-a1ea-18bee5bb1dba\u0022,\u0022_uuid\u0022:\u00223b375d17a84505d71b20dbbc43124aa6597a2ef2\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_check = df_initial[(df_initial[\u0027Quantity\u0027] \u003c 0) \u0026 (df_initial[\u0027Description\u0027] != \u0027Discount\u0027)][\\n                                 [\u0027CustomerID\u0027,\u0027Quantity\u0027,\u0027StockCode\u0027,\\n                                  \u0027Description\u0027,\u0027UnitPrice\u0027]]\\n\\nfor index, col in  df_check.iterrows():\\n    if df_initial[(df_initial[\u0027CustomerID\u0027] == col[0]) \u0026 (df_initial[\u0027Quantity\u0027] == -col[1]) \\n                \u0026 (df_initial[\u0027Description\u0027] == col[2])].shape[0] == 0: \\n        print(index, df_check.loc[index])\\n        print(15*\u0027-\u0027+\u0027\u003e\u0027+\u0027 HYPOTHESIS NOT FULFILLED\u0027)\\n        break\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022b232cb1a-9e6c-4b7f-a5de-20ba11fba831\u0022,\u0022_uuid\u0022:\u0022dc9557049aa783c30121902d359f57204e7de83b\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Once more, we find that the initial hypothesis is not verified. Hence, cancellations do not necessarily correspond to orders that would have been made beforehand.\\n\\nAt this point, I decide to create a new variable in the dataframe that indicate if part of the command has been canceled. For the cancellations without counterparts, a few of them are probably due to the fact that the buy orders were  performed before December 2010 (the point of entry of the database). Below, I make a census of the cancel orders and check for the existence of counterparts:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022af540729-739b-45b3-858f-f1facf9f8ae6\u0022,\u0022_uuid\u0022:\u00226f5c10794e09eb3d0dc83889d74b2029d6d24756\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_cleaned = df_initial.copy(deep = True)\\ndf_cleaned[\u0027QuantityCanceled\u0027] = 0\\n\\nentry_to_remove = [] ; doubtfull_entry = []\\n\\nfor index, col in  df_initial.iterrows():\\n    if (col[\u0027Quantity\u0027] \u003e 0) or col[\u0027Description\u0027] == \u0027Discount\u0027: continue        \\n    df_test = df_initial[(df_initial[\u0027CustomerID\u0027] == col[\u0027CustomerID\u0027]) \u0026\\n                         (df_initial[\u0027StockCode\u0027]  == col[\u0027StockCode\u0027]) \u0026 \\n                         (df_initial[\u0027InvoiceDate\u0027] \u003c col[\u0027InvoiceDate\u0027]) \u0026 \\n                         (df_initial[\u0027Quantity\u0027]   \u003e 0)].copy()\\n    #_________________________________\\n    # Cancelation WITHOUT counterpart\\n    if (df_test.shape[0] == 0): \\n        doubtfull_entry.append(index)\\n    #________________________________\\n    # Cancelation WITH a counterpart\\n    elif (df_test.shape[0] == 1): \\n        index_order = df_test.index[0]\\n        df_cleaned.loc[index_order, \u0027QuantityCanceled\u0027] = -col[\u0027Quantity\u0027]\\n        entry_to_remove.append(index)        \\n    #______________________________________________________________\\n    # Various counterparts exist in orders: we delete the last one\\n    elif (df_test.shape[0] \u003e 1): \\n        df_test.sort_index(axis=0 ,ascending=False, inplace = True)        \\n        for ind, val in df_test.iterrows():\\n            if val[\u0027Quantity\u0027] \u003c -col[\u0027Quantity\u0027]: continue\\n            df_cleaned.loc[ind, \u0027QuantityCanceled\u0027] = -col[\u0027Quantity\u0027]\\n            entry_to_remove.append(index) \\n            break            \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002212036cff-e84f-462f-9e86-adcebe689f9e\u0022,\u0022_uuid\u0022:\u00224203ea85f7c6a8e23771d2996ece331b2a8828aa\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In the above function, I checked the two cases:\\n1. a cancel order exists without counterpart\\n2. there\u0027s at least one counterpart with the exact same quantity\\n\\nThe index of the corresponding cancel order are respectively kept in the `doubtfull_entry` and `entry_to_remove` lists whose sizes are:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f1d3a68d-fa59-4671-8be1-cdbb646ce13f\u0022,\u0022_uuid\u0022:\u0022d98a0917de35db7afe31c69c324cd32e934edd52\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022print(\\\u0022entry_to_remove: {}\\\u0022.format(len(entry_to_remove)))\\nprint(\\\u0022doubtfull_entry: {}\\\u0022.format(len(doubtfull_entry)))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002208834967-7eb6-4972-8dd1-7c985037207f\u0022,\u0022_uuid\u0022:\u002241d331ab413c1a28adcf49f83dbb5600dec75a34\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Among these entries, the lines listed in the * doubtfull_entry * list correspond to the entries indicating a cancellation but for which there is no command beforehand. In practice, I decide to delete all of these entries, which count respectively for  $\\\\sim$1.4% and 0.2% of the dataframe entries.\\n\\nNow I check the number of entries that correspond to cancellations and that have not been deleted with the previous filter:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002250f6c074-08cc-4c55-8285-d674d0d84b45\u0022,\u0022_uuid\u0022:\u0022c523275748742927f689725305e90ae6fdeb4136\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_cleaned.drop(entry_to_remove, axis = 0, inplace = True)\\ndf_cleaned.drop(doubtfull_entry, axis = 0, inplace = True)\\nremaining_entries = df_cleaned[(df_cleaned[\u0027Quantity\u0027] \u003c 0) \u0026 (df_cleaned[\u0027StockCode\u0027] != \u0027D\u0027)]\\nprint(\\\u0022nb of entries to delete: {}\\\u0022.format(remaining_entries.shape[0]))\\nremaining_entries[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022b7236f60-519c-47b3-a48a-90c90a8a0d99\u0022,\u0022_uuid\u0022:\u00227de45401e2c874a5b35601d2d678fe21099c0c9c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022If one looks, for example, at the purchases of the consumer of one of the above entries and corresponding to the same product as that of the cancellation, one observes:\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002286494812-a35a-49a8-a80d-5b2ef3b0913f\u0022,\u0022_uuid\u0022:\u00225ded98b83a85e0fd038b1a5c5edb67d7773d41ee\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_cleaned[(df_cleaned[\u0027CustomerID\u0027] == 14048) \u0026 (df_cleaned[\u0027StockCode\u0027] == \u002722464\u0027)]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022840a05b8-da31-4a61-ba85-d26050ea7224\u0022,\u0022_uuid\u0022:\u0022ecf714d564214e6614fb604566b14d60e174a076\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We see that the quantity canceled is greater than the sum of the previous purchases.\\n___\\n#### 2.2.2 StockCode\\n\\nAbove, it has been seen that some values of the ** StockCode ** variable indicate a particular transaction (i.e. D for _Discount_). I check the contents of this variable by looking for the set of codes that would contain only letters:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022e00212c8-5c1e-4dda-a392-cbc68c1964b1\u0022,\u0022_uuid\u0022:\u002257e546917a0ea9a59a0e1dc3e0f9179c7efa66b5\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022list_special_codes = df_cleaned[df_cleaned[\u0027StockCode\u0027].str.contains(\u0027^[a-zA-Z]+\u0027, regex=True)][\u0027StockCode\u0027].unique()\\nlist_special_codes\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00220a225335-7d6e-4c5b-a874-801e3f329f10\u0022,\u0022_uuid\u0022:\u0022ce078be30fea360c161b449a8cb666d98808e936\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022for code in list_special_codes:\\n    print(\\\u0022{:\u003c15} -\u003e {:\u003c30}\\\u0022.format(code, df_cleaned[df_cleaned[\u0027StockCode\u0027] == code][\u0027Description\u0027].unique()[0]))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022bc5a1aa1-9861-4f24-a40d-8a989412c9b9\u0022,\u0022_uuid\u0022:\u0022d4cf73dade342afadb96645a654171064c0426ba\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We see that there are several types of peculiar transactions, connected e.g. to port charges or bank charges.\\n\\n\\n___\\n#### 2.2.3 Basket Price\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022d6fb4195-7261-4a24-852c-c69ca70b8575\u0022,\u0022_uuid\u0022:\u00227c55e84eca46fad51da589f165775174dbc49d90\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022I create a new variable that indicates the total price of every purchase:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00223cbf20c0-0a44-49dc-96c3-ffd5455ddf0b\u0022,\u0022_uuid\u0022:\u00225f070241e41d989ed3de0769d9f35f330d086415\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_cleaned[\u0027TotalPrice\u0027] = df_cleaned[\u0027UnitPrice\u0027] * (df_cleaned[\u0027Quantity\u0027] - df_cleaned[\u0027QuantityCanceled\u0027])\\ndf_cleaned.sort_values(\u0027CustomerID\u0027)[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022e08daf34-d2ad-48fd-b9e4-066571a21a9e\u0022,\u0022_uuid\u0022:\u0022fc8d7023bde00aa28d265f3c2c8ff62b0010ae58\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Each entry of the dataframe indicates prizes for a single kind of product. Hence, orders are split on several lines. I collect all the purchases made during a single order to recover the total order prize:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00225e4530b2-addf-4dc7-9ca8-065c26b73023\u0022,\u0022_uuid\u0022:\u0022653fd7be2e985cf4578af4306f40948926fb60b3\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#___________________________________________\\n# somme des achats / utilisateur \u0026 commande\\ntemp = df_cleaned.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[\u0027TotalPrice\u0027].sum()\\nbasket_price = temp.rename(columns = {\u0027TotalPrice\u0027:\u0027Basket Price\u0027})\\n#_____________________\\n# date de la commande\\ndf_cleaned[\u0027InvoiceDate_int\u0027] = df_cleaned[\u0027InvoiceDate\u0027].astype(\u0027int64\u0027)\\ntemp = df_cleaned.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[\u0027InvoiceDate_int\u0027].mean()\\ndf_cleaned.drop(\u0027InvoiceDate_int\u0027, axis = 1, inplace = True)\\nbasket_price.loc[:, \u0027InvoiceDate\u0027] = pd.to_datetime(temp[\u0027InvoiceDate_int\u0027])\\n#______________________________________\\n# selection des entrées significatives:\\nbasket_price = basket_price[basket_price[\u0027Basket Price\u0027] \u003e 0]\\nbasket_price.sort_values(\u0027CustomerID\u0027)[:6]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002225044f79-9cef-464a-9b7c-59eec5dac316\u0022,\u0022_uuid\u0022:\u00222365eaa0e1a3d4d505f7261c8139e04f276301eb\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In order to have a global view of the type of order performed in this dataset, I determine how the purchases are divided according to total prizes:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002225f72313-bc56-4a10-99b1-243f147b1756\u0022,\u0022_uuid\u0022:\u0022b1b30be7aa80d7a5287e6fd783b5d8cdbff4032d\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#____________________\\n# Décompte des achats\\nprice_range = [0, 50, 100, 200, 500, 1000, 5000, 50000]\\ncount_price = []\\nfor i, price in enumerate(price_range):\\n    if i == 0: continue\\n    val = basket_price[(basket_price[\u0027Basket Price\u0027] \u003c price) \u0026\\n                       (basket_price[\u0027Basket Price\u0027] \u003e price_range[i-1])][\u0027Basket Price\u0027].count()\\n    count_price.append(val)\\n#____________________________________________\\n# Représentation du nombre d\u0027achats / montant        \\nplt.rc(\u0027font\u0027, weight=\u0027bold\u0027)\\nf, ax = plt.subplots(figsize=(11, 6))\\ncolors = [\u0027yellowgreen\u0027, \u0027gold\u0027, \u0027wheat\u0027, \u0027c\u0027, \u0027violet\u0027, \u0027royalblue\u0027,\u0027firebrick\u0027]\\nlabels = [ \u0027{}\u003c.\u003c{}\u0027.format(price_range[i-1], s) for i,s in enumerate(price_range) if i != 0]\\nsizes  = count_price\\nexplode = [0.0 if sizes[i] \u003c 100 else 0.0 for i in range(len(sizes))]\\nax.pie(sizes, explode = explode, labels=labels, colors = colors,\\n       autopct = lambda x:\u0027{:1.0f}%\u0027.format(x) if x \u003e 1 else \u0027\u0027,\\n       shadow = False, startangle=0)\\nax.axis(\u0027equal\u0027)\\nf.text(0.5, 1.01, \\\u0022Répartition des montants des commandes\\\u0022, ha=\u0027center\u0027, fontsize = 18);\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002281a3ca3c-32f5-4f57-aa54-182d779a5cba\u0022,\u0022_uuid\u0022:\u00224864a5c03f9a66bff72599c2ff348157e53c4d7c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022It can be seen that the vast majority of orders concern relatively large purchases given that $\\\\sim$65% of purchases give prizes in excess of £ 200.\\n\\n____\\n## 3. Insight on product categories\\n\\nIn the dataframe, products are uniquely identified through the **StockCode** variable. A shrort description of the products is given in the **Description** variable. In this section, I intend to use the content of this latter variable in order to group the products into different categories.\\n\\n___\\n### 3.1 Products Description\\n\\nAs a first step, I extract from the **Description** variable the information that will prove useful. To do this, I use the following function:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002262aada7f-1d61-493e-a044-08fcc7bdfb81\u0022,\u0022_uuid\u0022:\u00224ae364672f6cede623fd0e032e34d967e4f32ee1\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022is_noun = lambda pos: pos[:2] == \u0027NN\u0027\\n\\ndef keywords_inventory(dataframe, colonne = \u0027Description\u0027):\\n    stemmer = nltk.stem.SnowballStemmer(\\\u0022english\\\u0022)\\n    keywords_roots  = dict()  # collect the words / root\\n    keywords_select = dict()  # association: root \u003c-\u003e keyword\\n    category_keys   = []\\n    count_keywords  = dict()\\n    icount = 0\\n    for s in dataframe[colonne]:\\n        if pd.isnull(s): continue\\n        lines = s.lower()\\n        tokenized = nltk.word_tokenize(lines)\\n        nouns = [word for (word, pos) in nltk.pos_tag(tokenized) if is_noun(pos)] \\n        \\n        for t in nouns:\\n            t = t.lower() ; racine = stemmer.stem(t)\\n            if racine in keywords_roots:                \\n                keywords_roots[racine].add(t)\\n                count_keywords[racine] += 1                \\n            else:\\n                keywords_roots[racine] = {t}\\n                count_keywords[racine] = 1\\n    \\n    for s in keywords_roots.keys():\\n        if len(keywords_roots[s]) \u003e 1:  \\n            min_length = 1000\\n            for k in keywords_roots[s]:\\n                if len(k) \u003c min_length:\\n                    clef = k ; min_length = len(k)            \\n            category_keys.append(clef)\\n            keywords_select[s] = clef\\n        else:\\n            category_keys.append(list(keywords_roots[s])[0])\\n            keywords_select[s] = list(keywords_roots[s])[0]\\n                   \\n    print(\\\u0022Nb of keywords in variable \u0027{}\u0027: {}\\\u0022.format(colonne,len(category_keys)))\\n    return category_keys, keywords_roots, keywords_select, count_keywords\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022309b7a7d-7643-42b1-a31a-7d89ee7599fb\u0022,\u0022_uuid\u0022:\u00226b0912baaab28d1f50a54dc5300c3391aa676424\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022This function takes as input the dataframe and analyzes the content of the **Description** column by performing the following operations:\\n\\n- extract the names (proper, common) appearing in the products description\\n- for each name, I extract the root of the word and aggregate the set of names associated with this particular root\\n- count the number of times each root appears in the dataframe\\n- when several words are listed for the same root, I consider that the keyword associated with this root is the shortest name (this systematically selects the singular when there are singular/plural variants)\\n\\nThe first step of the analysis is to retrieve the list of products:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f4da3052-c465-47bf-9652-a10a8ac51eb6\u0022,\u0022_uuid\u0022:\u00221239a65ae122b1c020db626e5167451a950d8226\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_produits = pd.DataFrame(df_initial[\u0027Description\u0027].unique()).rename(columns = {0:\u0027Description\u0027})\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002299e7be34-0776-4834-8563-a3921307eca8\u0022,\u0022_uuid\u0022:\u00222c928de8c651e41413c0196efda0b6f71cd26993\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Once this list is created, I use the function I previously defined in order to analyze the description of the various products:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f52a4134-c9c7-4d17-8510-8f55b1530cbb\u0022,\u0022_uuid\u0022:\u002238c4872616b2c40bf69982070165cc9db3d0ea69\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022keywords, keywords_roots, keywords_select, count_keywords = keywords_inventory(df_produits)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022e05fb8ef-6735-4a62-9161-8bd11f34ba1f\u0022,\u0022_uuid\u0022:\u00225d664ec4f8c3239f9bf2f4f8ab6a2ec6bfd46edb\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022The execution of this function returns three variables:\\n- `keywords`: the list of extracted keywords\\n- `keywords_roots`: a dictionary where the keys are the keywords roots and the values are the lists of words associated with those roots\\n- `count_keywords`: dictionary listing the number of times every word is used\\n\\nAt this point, I convert the `count_keywords` dictionary into a list, to sort the keywords according to their occurences:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022e033781a-8038-4302-93ed-78966554b7cc\u0022,\u0022_uuid\u0022:\u002266fb955b137916f16d838f95a6f5bbe5e4952334\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022list_products = []\\nfor k,v in count_keywords.items():\\n    list_products.append([keywords_select[k],v])\\nlist_products.sort(key = lambda x:x[1], reverse = True)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002219e873fa-7863-40a5-ac2b-459e5fb0e3c1\u0022,\u0022_uuid\u0022:\u002241cecbbaa4d5d5ced22d0151edb4cfa5cc8da179\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Using it, I create a representation of the most common keywords:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022d6c78812-343e-41af-8e4e-ef0292dc4f7e\u0022,\u0022_uuid\u0022:\u0022fcdf4d98e372a1d65c931b7a6d5c29f269938022\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022liste = sorted(list_products, key = lambda x:x[1], reverse = True)\\n#_______________________________\\nplt.rc(\u0027font\u0027, weight=\u0027normal\u0027)\\nfig, ax = plt.subplots(figsize=(7, 25))\\ny_axis = [i[1] for i in liste[:125]]\\nx_axis = [k for k,i in enumerate(liste[:125])]\\nx_label = [i[0] for i in liste[:125]]\\nplt.xticks(fontsize = 15)\\nplt.yticks(fontsize = 13)\\nplt.yticks(x_axis, x_label)\\nplt.xlabel(\\\u0022Nb. of occurences\\\u0022, fontsize = 18, labelpad = 10)\\nax.barh(x_axis, y_axis, align = \u0027center\u0027)\\nax = plt.gca()\\nax.invert_yaxis()\\n#_______________________________________________________________________________________\\nplt.title(\\\u0022Words occurence\\\u0022,bbox={\u0027facecolor\u0027:\u0027k\u0027, \u0027pad\u0027:5}, color=\u0027w\u0027,fontsize = 25)\\nplt.show()\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022e4170374-92b0-4063-9962-a80d36911891\u0022,\u0022_uuid\u0022:\u00229308d23b2ccc25eb87f324f0da0616d768340739\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n### 3.2 Defining product categories \u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022ba5e6966-49e7-4a3d-84cf-9fe809e8315b\u0022,\u0022_uuid\u0022:\u00225f375df32988b2bb559c77ad5c8d244472ae39f4\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022The list that was obtained contains more than 1400 keywords and the most frequent ones appear in more than 200 products. However, while examinating the content of the list, I note that some names are useless. Others are do not carry information, like colors. Therefore, I discard these words from the analysis that follows and also, I decide to consider only the words that appear more than 13 times.\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002243300478-3b5a-4c7a-9466-34c384ccae60\u0022,\u0022_uuid\u0022:\u00225f42482995f36f15688d8cba7f903e1277da5f92\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022list_products = []\\nfor k,v in count_keywords.items():\\n    word = keywords_select[k]\\n    if word in [\u0027pink\u0027, \u0027blue\u0027, \u0027tag\u0027, \u0027green\u0027, \u0027orange\u0027]: continue\\n    if len(word) \u003c 3 or v \u003c 13: continue\\n    if (\u0027+\u0027 in word) or (\u0027/\u0027 in word): continue\\n    list_products.append([word, v])\\n#______________________________________________________    \\nlist_products.sort(key = lambda x:x[1], reverse = True)\\nprint(\u0027mots conservés:\u0027, len(list_products))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002268fa97e5-a7c6-4d65-8da6-8fddff742991\u0022,\u0022_uuid\u0022:\u0022fb4589b360ac2ebefebb66f710a6ba757c0ea203\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022____\\n#### 3.2.1 Data encoding\\n\\nNow I will use these keywords to create groups of product. Firstly, I define the $X$ matrix as:\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002253f64d8a-69f2-4151-9b1f-4ea7ec3543e9\u0022,\u0022_uuid\u0022:\u002272e6253ce03dcc5a6dc55c3795d015554378ff6e\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022   \\n|   | mot 1  |  ...  | mot j  | ...  | mot N  |\\n|:-:|---|---|---|---|---|\\n| produit 1  | $a_{1,1}$  |     |   |   | $a_{1,N}$  |\\n| ...        |            |     | ...  |   |   |\\n|produit i   |    ...     |     | $a_{i,j}$    |   | ...  |\\n|...         |            |     |  ... |   |   |\\n| produit M  | $a_{M,1}$  |     |   |   | $a_{M,N}$   |\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00223879eff1-3a5e-480e-ac71-3ec4522d83f6\u0022,\u0022_uuid\u0022:\u002253e086f7d5b756c4f8e59e73b85029c9c807e079\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022where the $a_ {i, j}$ coefficient  is 1 if the description of the product $i$ contains the word $j$, and 0 otherwise.\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002223c77363-438b-4694-9b52-960c0ab3aa82\u0022,\u0022_uuid\u0022:\u0022d6faac7eb01d2251fb221569b75e007c8d5146aa\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022liste_produits = df_cleaned[\u0027Description\u0027].unique()\\nX = pd.DataFrame()\\nfor key, occurence in list_products:\\n    X.loc[:, key] = list(map(lambda x:int(key.upper() in x), liste_produits))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002236f23fa9-72a3-4b71-a76a-5cf2ff57b7ae\u0022,\u0022_uuid\u0022:\u0022378466327c5da8166c75812b43057b119b46e0f9\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022The $X$ matrix indicates the words contained in the description of the products using the *one-hot-encoding* principle. In practice, I have found that introducing the price range results in more balanced groups in terms of element numbers.\\nHence, I add 6 extra columns to this matrix, where I indicate the price range of the products:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022739c9cb1-3278-4d3a-a412-25dd2e8bc7c4\u0022,\u0022_uuid\u0022:\u0022b26a6bc55b61d0bcaccaf7c303b90d2a04636ac4\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022threshold = [0, 1, 2, 3, 5, 10]\\nlabel_col = []\\nfor i in range(len(threshold)):\\n    if i == len(threshold)-1:\\n        col = \u0027.\u003e{}\u0027.format(threshold[i])\\n    else:\\n        col = \u0027{}\u003c.\u003c{}\u0027.format(threshold[i],threshold[i+1])\\n    label_col.append(col)\\n    X.loc[:, col] = 0\\n\\nfor i, prod in enumerate(liste_produits):\\n    prix = df_cleaned[ df_cleaned[\u0027Description\u0027] == prod][\u0027UnitPrice\u0027].mean()\\n    j = 0\\n    while prix \u003e threshold[j]:\\n        j+=1\\n        if j == len(threshold): break\\n    X.loc[i, label_col[j-1]] = 1\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00225c1ac4b1-3bfa-4aac-8329-d5d923f7d08d\u0022,\u0022_uuid\u0022:\u0022d6551f396773df6fbf7a49a9985583d20e6a58be\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and to choose the appropriate ranges, I check the number of products in the different groups:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00228587b9a3-d3a6-41ed-ac8a-9e0cdc9af31e\u0022,\u0022_uuid\u0022:\u00226ad9fc6ed72057c63594d9d97d89742202f064f7\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022print(\\\u0022{:\u003c8} {:\u003c20} \\\\n\\\u0022.format(\u0027gamme\u0027, \u0027nb. produits\u0027) + 20*\u0027-\u0027)\\nfor i in range(len(threshold)):\\n    if i == len(threshold)-1:\\n        col = \u0027.\u003e{}\u0027.format(threshold[i])\\n    else:\\n        col = \u0027{}\u003c.\u003c{}\u0027.format(threshold[i],threshold[i+1])    \\n    print(\\\u0022{:\u003c10}  {:\u003c20}\\\u0022.format(col, X.loc[:, col].sum()))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022026d2968-dbd2-46c4-bc39-24c147febb0b\u0022,\u0022_uuid\u0022:\u002286e19d385e6849a17b262b627028e5aad7575b28\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022____\\n#### 3.2.2 Creating clusters of products\\n\\nIn this section, I will group the products into different classes. In the case of matrices with binary encoding, the most suitable metric for the calculation of distances is the [Hamming\u0027s metric](https://en.wikipedia.org/wiki/Distance_de_Hamming). Note that the **kmeans** method of sklearn uses a Euclidean distance that can be used, but it is not to the best choice in the case of categorical variables. However, in order to use the Hamming\u0027s metric, we need to use the [kmodes](https://pypi.python.org/pypi/kmodes/) package which is not available on the current plateform. Hence, I use the **kmeans** method even if this is not the best choice.\\n\\nIn order to define (approximately) the number of clusters that best represents the data, I use the silhouette score:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00221c81a7c3-8980-4941-9082-7bf5cf92fc14\u0022,\u0022_uuid\u0022:\u00224ce8586584935e81b9e403ea7a1dd4b2e4c9992e\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022matrix = X.as_matrix()\\nfor n_clusters in range(3,10):\\n    kmeans = KMeans(init=\u0027k-means++\u0027, n_clusters = n_clusters, n_init=30)\\n    kmeans.fit(matrix)\\n    clusters = kmeans.predict(matrix)\\n    silhouette_avg = silhouette_score(matrix, clusters)\\n    print(\\\u0022For n_clusters =\\\u0022, n_clusters, \\\u0022The average silhouette_score is :\\\u0022, silhouette_avg)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022bc57a3e3-9560-47bb-8eb3-3fb1d31f7ad4\u0022,\u0022_uuid\u0022:\u00226dc86eefc7a90409489f87051c3b33e8cb95ac0a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In practice, the scores obtained above can be considered equivalent since, depending on the run, scores of $ 0.1 \\\\pm 0.05 $ will be obtained for all clusters with `n_clusters` $\u003e $ 3 (we obtain slightly lower scores for the first cluster). On the other hand, I found that beyond 5 clusters, some clusters contained very few elements. I therefore choose to separate the dataset into 5 clusters. In order to ensure a good classification at every run of the notebook, I iterate untill we obtain the best possible silhouette score, which is, in the present case, around 0.15:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022b29b3bb2-ef8d-4d7f-a19e-52045018ab8e\u0022,\u0022_uuid\u0022:\u002272dd5bdab528264518bf034b84f66f3c29500fca\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022n_clusters = 5\\nsilhouette_avg = -1\\nwhile silhouette_avg \u003c 0.145:\\n    kmeans = KMeans(init=\u0027k-means++\u0027, n_clusters = n_clusters, n_init=30)\\n    kmeans.fit(matrix)\\n    clusters = kmeans.predict(matrix)\\n    silhouette_avg = silhouette_score(matrix, clusters)\\n    \\n    #km = kmodes.KModes(n_clusters = n_clusters, init=\u0027Huang\u0027, n_init=2, verbose=0)\\n    #clusters = km.fit_predict(matrix)\\n    #silhouette_avg = silhouette_score(matrix, clusters)\\n    print(\\\u0022For n_clusters =\\\u0022, n_clusters, \\\u0022The average silhouette_score is :\\\u0022, silhouette_avg)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00221f146c21-7d21-46d4-95f1-a788041957a0\u0022,\u0022_uuid\u0022:\u0022d211d2cc238a1d019469ba922081df9383b91d68\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n#### 3.2.3  Characterizing the content of clusters\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022ac1facaf-0be9-412d-bddf-cae0e920bd33\u0022,\u0022_uuid\u0022:\u0022f793937b3c3c83bc14af54d1d00543a2af26034a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022I check the number of elements in every class:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022ad66161e-87ba-42ca-8128-bda16b470a34\u0022,\u0022_uuid\u0022:\u002283591dd72975afde6a85d70429add02bd278c125\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pd.Series(clusters).value_counts()\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022f5e26953-89a2-4f19-92a2-afaaa2c71e94\u0022,\u0022_uuid\u0022:\u00223f463103c3107547c46e737a6bf44875b628f4eb\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022\\n** a / _Silhouette intra-cluster score_ **\\n\\nIn order to have an insight on the quality of the classification, we can represent the silhouette scores of each element of the different clusters. This is the purpose of the next figure which is taken from the [sklearn documentation](http://scikit-learn.org/stable/auto_examples/cluster/plot_kmeans_silhouette_analysis.html):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022c2b26710-2269-47e5-8f0d-98f6eac0015a\u0022,\u0022_uuid\u0022:\u0022e9e48bbbc3bb0ffa8134175aefb1fe808dea33e8\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022def graph_component_silhouette(n_clusters, lim_x, mat_size, sample_silhouette_values, clusters):\\n    plt.rcParams[\\\u0022patch.force_edgecolor\\\u0022] = True\\n    plt.style.use(\u0027fivethirtyeight\u0027)\\n    mpl.rc(\u0027patch\u0027, edgecolor = \u0027dimgray\u0027, linewidth=1)\\n    #____________________________\\n    fig, ax1 = plt.subplots(1, 1)\\n    fig.set_size_inches(8, 8)\\n    ax1.set_xlim([lim_x[0], lim_x[1]])\\n    ax1.set_ylim([0, mat_size + (n_clusters + 1) * 10])\\n    y_lower = 10\\n    for i in range(n_clusters):\\n        #___________________________________________________________________________________\\n        # Aggregate the silhouette scores for samples belonging to cluster i, and sort them\\n        ith_cluster_silhouette_values = sample_silhouette_values[clusters == i]\\n        ith_cluster_silhouette_values.sort()\\n        size_cluster_i = ith_cluster_silhouette_values.shape[0]\\n        y_upper = y_lower + size_cluster_i\\n        cmap = cm.get_cmap(\\\u0022Spectral\\\u0022)\\n        color = cmap(float(i) / n_clusters)        \\n        ax1.fill_betweenx(np.arange(y_lower, y_upper), 0, ith_cluster_silhouette_values,\\n                           facecolor=color, edgecolor=color, alpha=0.8)\\n        #____________________________________________________________________\\n        # Label the silhouette plots with their cluster numbers at the middle\\n        ax1.text(-0.03, y_lower + 0.5 * size_cluster_i, str(i), color = \u0027red\u0027, fontweight = \u0027bold\u0027,\\n                bbox=dict(facecolor=\u0027white\u0027, edgecolor=\u0027black\u0027, boxstyle=\u0027round, pad=0.3\u0027))\\n        #______________________________________\\n        # Compute the new y_lower for next plot\\n        y_lower = y_upper + 10  \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00228ee417cb-29d9-4913-8e12-0c020ecde059\u0022,\u0022_uuid\u0022:\u0022cf9b40ed0d865401e4a05e06eec2bff97ace7059\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#____________________________________\\n# define individual silouhette scores\\nsample_silhouette_values = silhouette_samples(matrix, clusters)\\n#__________________\\n# and do the graph\\ngraph_component_silhouette(n_clusters, [-0.07, 0.33], len(X), sample_silhouette_values, clusters)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002224c08c3e-d642-4482-b86f-f5c85cbed038\u0022,\u0022_uuid\u0022:\u00226662f37da64de5d5951efa1c8f0bd9409ab6e9b4\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022** b/ _Word Cloud_**\\n\\nNow we can have a look at the type of objects that each cluster represents. In order to obtain a global view of their contents, I determine which keywords are the most frequent in each of them\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022159600b4-def2-4e4d-be54-6d84938721c4\u0022,\u0022_uuid\u0022:\u0022848009ae647f20366e148eeae96a4aa02f975618\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022liste = pd.DataFrame(liste_produits)\\nliste_words = [word for (word, occurence) in list_products]\\n\\noccurence = [dict() for _ in range(n_clusters)]\\n\\nfor i in range(n_clusters):\\n    liste_cluster = liste.loc[clusters == i]\\n    for word in liste_words:\\n        if word in [\u0027art\u0027, \u0027set\u0027, \u0027heart\u0027, \u0027pink\u0027, \u0027blue\u0027, \u0027tag\u0027]: continue\\n        occurence[i][word] = sum(liste_cluster.loc[:, 0].str.contains(word.upper()))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022503ecb33-ba25-4dc0-af23-85a3d4d6881c\u0022,\u0022_uuid\u0022:\u00226ed38b6e18be3733ed34d043c67ad03e65c38192\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and I output the result as wordclouds:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00222995e126-925b-436f-8b68-55d874637b1e\u0022,\u0022_uuid\u0022:\u00223d88a32f7998249ce42e267bb912acc7420f0c47\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#________________________________________________________________________\\ndef random_color_func(word=None, font_size=None, position=None,\\n                      orientation=None, font_path=None, random_state=None):\\n    h = int(360.0 * tone / 255.0)\\n    s = int(100.0 * 255.0 / 255.0)\\n    l = int(100.0 * float(random_state.randint(70, 120)) / 255.0)\\n    return \\\u0022hsl({}, {}%, {}%)\\\u0022.format(h, s, l)\\n#________________________________________________________________________\\ndef make_wordcloud(liste, increment):\\n    ax1 = fig.add_subplot(4,2,increment)\\n    words = dict()\\n    trunc_occurences = liste[0:150]\\n    for s in trunc_occurences:\\n        words[s[0]] = s[1]\\n    #________________________________________________________\\n    wordcloud = WordCloud(width=1000,height=400, background_color=\u0027lightgrey\u0027, \\n                          max_words=1628,relative_scaling=1,\\n                          color_func = random_color_func,\\n                          normalize_plurals=False)\\n    wordcloud.generate_from_frequencies(words)\\n    ax1.imshow(wordcloud, interpolation=\\\u0022bilinear\\\u0022)\\n    ax1.axis(\u0027off\u0027)\\n    plt.title(\u0027cluster nº{}\u0027.format(increment-1))\\n#________________________________________________________________________\\nfig = plt.figure(1, figsize=(14,14))\\ncolor = [0, 160, 130, 95, 280, 40, 330, 110, 25]\\nfor i in range(n_clusters):\\n    list_cluster_occurences = occurence[i]\\n\\n    tone = color[i] # define the color of the words\\n    liste = []\\n    for key, value in list_cluster_occurences.items():\\n        liste.append([key, value])\\n    liste.sort(key = lambda x:x[1], reverse = True)\\n    make_wordcloud(liste, i+1)            \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022aa8f400a-297d-4b1c-944c-8b09b6ed5744\u0022,\u0022_uuid\u0022:\u00227e14b7478f0ffddb1739678a1df8d0f6de254749\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022From this representation, we can see that for example, one of the clusters contains objects that could be associated with gifts (keywords: Christmas, packaging, card, ...). Another cluster would rather contain luxury items and jewelry (keywords: necklace, bracelet, lace, silver, ...). Nevertheless, it can also be observed that many words appear in various clusters and it is therefore difficult to clearly distinguish them.\\n\\n** c / _Principal Component Analysis_ **\\n\\nIn order to ensure that these clusters are truly distinct, I look at their composition. Given the large number of variables of the initial matrix, I first perform a PCA:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002285af75c5-bf90-4b8c-9687-caff723d0027\u0022,\u0022_uuid\u0022:\u002233859d205bcf40477d166b679fb97996ba2d5f48\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pca = PCA()\\npca.fit(matrix)\\npca_samples = pca.transform(matrix)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00224fdb1e57-76c2-44da-8d35-a6dceac628f8\u0022,\u0022_uuid\u0022:\u002258675f9176ee5121d7f22605feea4d983c4ea9b4\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and then check for the amount of variance explained by each component:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002241cd8738-4923-43cd-b26a-fba6d53070e8\u0022,\u0022_uuid\u0022:\u0022abce52d76e801aa6197603925618fb032aec78af\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022fig, ax = plt.subplots(figsize=(14, 5))\\nsns.set(font_scale=1)\\nplt.step(range(matrix.shape[1]), pca.explained_variance_ratio_.cumsum(), where=\u0027mid\u0027,\\n         label=\u0027cumulative explained variance\u0027)\\nsns.barplot(np.arange(1,matrix.shape[1]+1), pca.explained_variance_ratio_, alpha=0.5, color = \u0027g\u0027,\\n            label=\u0027individual explained variance\u0027)\\nplt.xlim(0, 100)\\n\\nax.set_xticklabels([s if int(s.get_text())%2 == 0 else \u0027\u0027 for s in ax.get_xticklabels()])\\n\\nplt.ylabel(\u0027Explained variance\u0027, fontsize = 14)\\nplt.xlabel(\u0027Principal components\u0027, fontsize = 14)\\nplt.legend(loc=\u0027upper left\u0027, fontsize = 13);\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002229b5ae8a-7430-47b6-a4cd-991dbb3073ca\u0022,\u0022_uuid\u0022:\u0022159540979f024ddac04749daace71e737fc558a1\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We see that the number of components required to explain the data is extremely important: we need more than 100 components to explain 90% of the variance of the data. In practice, I decide to keep only a limited number of components since this decomposition is only performed to visualize the data:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00220e49b019-d1b7-4815-8c5e-7cf27fa5b5b2\u0022,\u0022_uuid\u0022:\u0022fb0afe8523c2634860fdaf67d734c1dc0897c4c0\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pca = PCA(n_components=50)\\nmatrix_9D = pca.fit_transform(matrix)\\nmat = pd.DataFrame(matrix_9D)\\nmat[\u0027cluster\u0027] = pd.Series(clusters)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022675cc670-4512-4983-8b58-e82f3cf2bf3d\u0022,\u0022_uuid\u0022:\u0022b9d872fa5038458f3424dfc585a5a823efc7ff7f\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022import matplotlib.patches as mpatches\\n\\nsns.set_style(\\\u0022white\\\u0022)\\nsns.set_context(\\\u0022notebook\\\u0022, font_scale=1, rc={\\\u0022lines.linewidth\\\u0022: 2.5})\\n\\nLABEL_COLOR_MAP = {0:\u0027r\u0027, 1:\u0027gold\u0027, 2:\u0027b\u0027, 3:\u0027k\u0027, 4:\u0027c\u0027, 5:\u0027g\u0027}\\nlabel_color = [LABEL_COLOR_MAP[l] for l in mat[\u0027cluster\u0027]]\\n\\nfig = plt.figure(figsize = (15,8))\\nincrement = 0\\nfor ix in range(4):\\n    for iy in range(ix+1, 4):    \\n        increment += 1\\n        ax = fig.add_subplot(2,3,increment)\\n        ax.scatter(mat[ix], mat[iy], c= label_color, alpha=0.4) \\n        plt.ylabel(\u0027PCA {}\u0027.format(iy+1), fontsize = 12)\\n        plt.xlabel(\u0027PCA {}\u0027.format(ix+1), fontsize = 12)\\n        ax.yaxis.grid(color=\u0027lightgray\u0027, linestyle=\u0027:\u0027)\\n        ax.xaxis.grid(color=\u0027lightgray\u0027, linestyle=\u0027:\u0027)\\n        ax.spines[\u0027right\u0027].set_visible(False)\\n        ax.spines[\u0027top\u0027].set_visible(False)\\n        \\n        if increment == 9: break\\n    if increment == 9: break\\n        \\n#_______________________________________________\\n# I set the legend: abreviation -\u003e airline name\\ncomp_handler = []\\nfor i in range(5):\\n    comp_handler.append(mpatches.Patch(color = LABEL_COLOR_MAP[i], label = i))\\n\\nplt.legend(handles=comp_handler, bbox_to_anchor=(1.1, 0.97), \\n           title=\u0027Cluster\u0027, facecolor = \u0027lightgrey\u0027,\\n           shadow = True, frameon = True, framealpha = 1,\\n           fontsize = 13, bbox_transform = plt.gcf().transFigure)\\n\\nplt.show()\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022731427f7-4c47-4d39-acb0-fb8b6efb0df7\u0022,\u0022_uuid\u0022:\u00221d070f5bc58c75ac8bb122b5132761f81156f9ff\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n## 4. Customer categories\\n\\n### 4.1 Formatting data\\n\\nIn the previous section, the different products were grouped in five clusters. In order to prepare the rest of the analysis, a first step consists in introducing this information into the dataframe. To do this, I create the categorical variable **categ_product** where I indicate the cluster of each product :\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022b66c0817-22c1-42cf-b944-8e3db918a671\u0022,\u0022_uuid\u0022:\u0022c030102cce28bbf7e268ed40b0388017cd15df8f\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022corresp = dict()\\nfor key, val in zip (liste_produits, clusters):\\n    corresp[key] = val \\n#__________________________________________________________________________\\ndf_cleaned[\u0027categ_product\u0027] = df_cleaned.loc[:, \u0027Description\u0027].map(corresp)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022bec41c37-5777-49e3-98e0-4a6e9613783b\u0022,\u0022_uuid\u0022:\u0022738635fe9be465fbd0940e799b6070dbb201a780\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n#### 4.1.1 Grouping products\\n\\nIn a second step, I decide to create the **categ_N** variables (with $ N \\\\in [0: 4]$) that contains the amount spent in each product category:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022882978a7-8d65-468e-982a-dd689515d415\u0022,\u0022_uuid\u0022:\u00227b29ea4de78cdf757e031a0d810b24c4a3641057\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022for i in range(5):\\n    col = \u0027categ_{}\u0027.format(i)        \\n    df_temp = df_cleaned[df_cleaned[\u0027categ_product\u0027] == i]\\n    price_temp = df_temp[\u0027UnitPrice\u0027] * (df_temp[\u0027Quantity\u0027] - df_temp[\u0027QuantityCanceled\u0027])\\n    price_temp = price_temp.apply(lambda x:x if x \u003e 0 else 0)\\n    df_cleaned.loc[:, col] = price_temp\\n    df_cleaned[col].fillna(0, inplace = True)\\n#__________________________________________________________________________________________________\\ndf_cleaned[[\u0027InvoiceNo\u0027, \u0027Description\u0027, \u0027categ_product\u0027, \u0027categ_0\u0027, \u0027categ_1\u0027, \u0027categ_2\u0027, \u0027categ_3\u0027,\u0027categ_4\u0027]][:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002246e1dba0-a444-4655-8017-3c30932cb605\u0022,\u0022_uuid\u0022:\u0022e209c1e028ee3b1e99bfa2255a8bb767dfb04596\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Up to now, the information related to a single order was split over several lines of the dataframe (one line per product). I decide to collect the information related to a particular order and put in in a single entry. I therefore create a new dataframe that contains, for each order, the amount of the basket, as well as the way it is distributed over the 5 categories of products:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00229a5249e1-7ac8-43f9-a759-db4df4934e71\u0022,\u0022_uuid\u0022:\u00229d0c9edb309503999f38ccc40fd09d1a311a5019\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#___________________________________________\\n# somme des achats / utilisateur \u0026 commande\\ntemp = df_cleaned.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[\u0027TotalPrice\u0027].sum()\\nbasket_price = temp.rename(columns = {\u0027TotalPrice\u0027:\u0027Basket Price\u0027})\\n#____________________________________________________________\\n# pourcentage du prix de la commande / categorie de produit\\nfor i in range(5):\\n    col = \u0027categ_{}\u0027.format(i) \\n    temp = df_cleaned.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[col].sum()\\n    basket_price.loc[:, col] = temp \\n#_____________________\\n# date de la commande\\ndf_cleaned[\u0027InvoiceDate_int\u0027] = df_cleaned[\u0027InvoiceDate\u0027].astype(\u0027int64\u0027)\\ntemp = df_cleaned.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[\u0027InvoiceDate_int\u0027].mean()\\ndf_cleaned.drop(\u0027InvoiceDate_int\u0027, axis = 1, inplace = True)\\nbasket_price.loc[:, \u0027InvoiceDate\u0027] = pd.to_datetime(temp[\u0027InvoiceDate_int\u0027])\\n#______________________________________\\n# selection des entrées significatives:\\nbasket_price = basket_price[basket_price[\u0027Basket Price\u0027] \u003e 0]\\nbasket_price.sort_values(\u0027CustomerID\u0027, ascending = True)[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022893c7c56-0ef4-4055-965f-102e1d48bb80\u0022,\u0022_uuid\u0022:\u0022b60b304b08843db5b56367de6f1d366f243ec16c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022#### 4.1.2 Separation of data over time\\n\\nThe dataframe `basket_price` contains information for a period of 12 months. Later, one of the objectives will be to develop a model capable of characterizing and anticipating the habits of the customers visiting the site and this, from their first visit. In order to be able to test the model in a realistic way, I split the data set by retaining the first 10 months to develop the model and the following two months to test it:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022c30fa4af-6617-4e25-b297-23efae5e1dcb\u0022,\u0022_uuid\u0022:\u00227be642cc67d95c7b149747f66a8ba8845a17350e\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022print(basket_price[\u0027InvoiceDate\u0027].min(), \u0027-\u003e\u0027,  basket_price[\u0027InvoiceDate\u0027].max())\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002229948719-cecf-48d3-ab66-ca76214b058a\u0022,\u0022_uuid\u0022:\u0022854a1781838e9d4f9e2a27e6a0b65c5e86d7a1b0\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022set_entrainement = basket_price[basket_price[\u0027InvoiceDate\u0027] \u003c datetime.date(2011,10,1)]\\nset_test         = basket_price[basket_price[\u0027InvoiceDate\u0027] \u003e= datetime.date(2011,10,1)]\\nbasket_price = set_entrainement.copy(deep = True)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022cf755ead-5dee-4d55-b351-5c3d106ef828\u0022,\u0022_uuid\u0022:\u00228f4ab5026a66fcdb1e6e62ee552a2737aebc61bb\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022____\\n#### 4.1.3 Consumer Order Combinations\\n\\nIn a second step, I group together the different entries that correspond to the same user. I thus determine the number of purchases made by the user, as well as the minimum, maximum, average amounts and the total amount spent during all the visits:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022876435e3-49c7-4f98-a58f-55d8f0620ef8\u0022,\u0022_uuid\u0022:\u0022a8144451cb606fde4e691486ea9b9d2ccbeae7b9\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#________________________________________________________________\\n# nb de visites et stats sur le montant du panier / utilisateurs\\ntransactions_per_user=basket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027Basket Price\u0027].agg([\u0027count\u0027,\u0027min\u0027,\u0027max\u0027,\u0027mean\u0027,\u0027sum\u0027])\\nfor i in range(5):\\n    col = \u0027categ_{}\u0027.format(i)\\n    transactions_per_user.loc[:,col] = basket_price.groupby(by=[\u0027CustomerID\u0027])[col].sum() /\\\\\\n                                            transactions_per_user[\u0027sum\u0027]*100\\n\\ntransactions_per_user.reset_index(drop = False, inplace = True)\\nbasket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027categ_0\u0027].sum()\\ntransactions_per_user.sort_values(\u0027CustomerID\u0027, ascending = True)[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022c02d86a5-f239-4ec0-9374-61a000f81ec7\u0022,\u0022_uuid\u0022:\u0022cd335b44bdd24a675ee3407580171135a1053649\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, I define two additional variables that give the number of days elapsed since the first purchase (** FirstPurchase **) and the number of days since the last purchase (** LastPurchase **):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002260a47c3b-b36a-460a-835b-7f6d3c7af48c\u0022,\u0022_uuid\u0022:\u002229dab7aeb0f6d8d1e898b9d72efa2a6e07f1d3e0\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022last_date = basket_price[\u0027InvoiceDate\u0027].max().date()\\n\\nfirst_registration = pd.DataFrame(basket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027InvoiceDate\u0027].min())\\nlast_purchase      = pd.DataFrame(basket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027InvoiceDate\u0027].max())\\n\\ntest  = first_registration.applymap(lambda x:(last_date - x.date()).days)\\ntest2 = last_purchase.applymap(lambda x:(last_date - x.date()).days)\\n\\ntransactions_per_user.loc[:, \u0027LastPurchase\u0027] = test2.reset_index(drop = False)[\u0027InvoiceDate\u0027]\\ntransactions_per_user.loc[:, \u0027FirstPurchase\u0027] = test.reset_index(drop = False)[\u0027InvoiceDate\u0027]\\n\\ntransactions_per_user[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002262b7f0bc-6811-4f3c-840d-a7ace9ca8d3c\u0022,\u0022_uuid\u0022:\u00220d120903f429d18f9a06fea70e2fd035d0c59c0a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022A customer category of particular interest is that of customers who make only one purchase. One of the objectives may be, for example, to target these customers in order to retain them. In part, I find that this type of customer represents 1/3 of the customers listed:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f0a8717e-bf13-4847-a2d8-d5c518ef7580\u0022,\u0022_uuid\u0022:\u002227a45dcd6d0ac2382f07ef6b091a50fc7006a389\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022n1 = transactions_per_user[transactions_per_user[\u0027count\u0027] == 1].shape[0]\\nn2 = transactions_per_user.shape[0]\\nprint(\\\u0022nb. de clients avec achat unique: {:\u003c2}/{:\u003c5} ({:\u003c2.2f}%)\\\u0022.format(n1,n2,n1/n2*100))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00220de7eb30-4a0c-49dc-a423-1acce0956e30\u0022,\u0022_uuid\u0022:\u0022f2c4d5aa8a322b09c539e6b3b0196ca7c4247104\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n### 4.2 Creation of customers categories\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002293a76684-228f-447b-bad0-0a61809809cc\u0022,\u0022_uuid\u0022:\u00225c58d53dcb2159e019c8eb55f0178f40ad293f90\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022#### 4.2.1 Data encoding\\n\\nThe dataframe `transactions_per_user` contains a summary of all the commands that were made. Each entry in this dataframe corresponds to a particular client. I use this information to characterize the different types of customers and only keep a subset of variables:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022cdc3d67f-1337-4cf6-8a36-7b99d4adc160\u0022,\u0022_uuid\u0022:\u00221769df5bd3f987760e0493c6979c9031e18cd47e\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022list_cols = [\u0027count\u0027,\u0027min\u0027,\u0027max\u0027,\u0027mean\u0027,\u0027categ_0\u0027,\u0027categ_1\u0027,\u0027categ_2\u0027,\u0027categ_3\u0027,\u0027categ_4\u0027]\\n#_____________________________________________________________\\nselected_customers = transactions_per_user.copy(deep = True)\\nmatrix = selected_customers[list_cols].as_matrix()\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00229c752c86-845c-4713-8ddc-3a7d1492f3ac\u0022,\u0022_uuid\u0022:\u0022cca71b10aaf0aa363e921b67e8b1e88055ed4dfd\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In practice, the different variables I selected have quite different ranges of variation and before continuing the analysis, I  create a matrix where these data are standardized:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002284be0db9-a24a-4b9b-b541-e1437404ff37\u0022,\u0022_uuid\u0022:\u00225e15c98b0da14a1fe5473ca2fa6c5722968386b6\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022scaler = StandardScaler()\\nscaler.fit(matrix)\\nprint(\u0027variables mean values: \\\\n\u0027 + 90*\u0027-\u0027 + \u0027\\\\n\u0027 , scaler.mean_)\\nscaled_matrix = scaler.transform(matrix)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002277523e66-c44e-48f6-946d-fa79c7d50d61\u0022,\u0022_uuid\u0022:\u002292f56e55fec1d4fd0b823d53d66ab5fc44016709\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In the following, I will create clusters of customers. In practice, before creating these clusters, it is interesting to define a base of smaller dimension allowing to describe the `scaled_matrix` matrix. In this case, I will use this base in order to create a representation of the different clusters and thus verify the quality of the separation of the different groups. I therefore perform a PCA beforehand:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022302061b0-4e19-4b5b-a969-1f45c27873e1\u0022,\u0022_uuid\u0022:\u002230b6a47f96e223efeb0ab49517b38c192627927f\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pca = PCA()\\npca.fit(scaled_matrix)\\npca_samples = pca.transform(scaled_matrix)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00228fd227dc-8def-4e9e-84fb-1325638a53b9\u0022,\u0022_uuid\u0022:\u002266da306d298c0790f3b56e7177d582622b46de46\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and I represent the amount of variance explained by each of the components:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022ed6ab99d-fee5-44c3-958c-58b786263e82\u0022,\u0022_uuid\u0022:\u0022bb95db84567cb2a3a32652bcf2b3ea5c14b5b550\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022fig, ax = plt.subplots(figsize=(14, 5))\\nsns.set(font_scale=1)\\nplt.step(range(matrix.shape[1]), pca.explained_variance_ratio_.cumsum(), where=\u0027mid\u0027,\\n         label=\u0027cumulative explained variance\u0027)\\nsns.barplot(np.arange(1,matrix.shape[1]+1), pca.explained_variance_ratio_, alpha=0.5, color = \u0027g\u0027,\\n            label=\u0027individual explained variance\u0027)\\nplt.xlim(0, 10)\\n\\nax.set_xticklabels([s if int(s.get_text())%2 == 0 else \u0027\u0027 for s in ax.get_xticklabels()])\\n\\nplt.ylabel(\u0027Explained variance\u0027, fontsize = 14)\\nplt.xlabel(\u0027Principal components\u0027, fontsize = 14)\\nplt.legend(loc=\u0027best\u0027, fontsize = 13);\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002225bea85a-ced6-402b-9e47-718ee3b6a434\u0022,\u0022_uuid\u0022:\u002256151271895b2d34c5bfe02977169a47527bc72f\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n#### 4.2.2 Creation of customer categories\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00227c8dc088-65dc-41b4-88d1-f453d293ce34\u0022,\u0022_uuid\u0022:\u0022dd1242cb2135d3515a5252d7783951f77cbaee75\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022At this point, I define clusters of clients from the standardized matrix that was defined earlier and using the `k-means` algorithm from` scikit-learn`. I choose the number of clusters based on the silhouette score and I find that the best score is obtained with 11 clusters:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022ce1adb5f-a0cf-4af4-99fa-585fa71cf89f\u0022,\u0022_uuid\u0022:\u002209711facb0d6dd1e4027724a55b8a5fa0155b616\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022n_clusters = 11\\nkmeans = KMeans(init=\u0027k-means++\u0027, n_clusters = n_clusters, n_init=100)\\nkmeans.fit(scaled_matrix)\\nclusters_clients = kmeans.predict(scaled_matrix)\\nsilhouette_avg = silhouette_score(scaled_matrix, clusters_clients)\\nprint(\u0027score de silhouette: {:\u003c.3f}\u0027.format(silhouette_avg))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002208aa3753-1dff-4f70-9ee7-e71b79fa1f88\u0022,\u0022_uuid\u0022:\u0022267f2a4c31cf2d9ae6785aa84c98cf0474db6868\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022At first, I look at the number of customers in each cluster:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00227e64fcb6-4827-4bb9-883e-f31e9c595dba\u0022,\u0022_uuid\u0022:\u0022b1f770e4ac40cc0e868efb12f895653fb5127599\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pd.DataFrame(pd.Series(clusters_clients).value_counts(), columns = [\u0027nb. de clients\u0027]).T\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00221ec4a223-595f-48b7-b235-a647fd7c751f\u0022,\u0022_uuid\u0022:\u00220378fc93ca892be22acf4aa2b4c4bddebdccf424\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022** a / _Report via the PCA_ **\\n\\nThere is a certain disparity in the sizes of different groups that have been created. Hence I will now try to understand the content of these clusters in order to validate (or not) this particular separation. At first, I use the result of the PCA:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022051ee4e8-78a1-48d9-aa43-84e089a57df3\u0022,\u0022_uuid\u0022:\u0022716227b8a446ac77c9397893964c782333a02e6a\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pca = PCA(n_components=6)\\nmatrix_3D = pca.fit_transform(scaled_matrix)\\nmat = pd.DataFrame(matrix_3D)\\nmat[\u0027cluster\u0027] = pd.Series(clusters_clients)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022977a7aac-23e4-4289-8b2f-b43397188f15\u0022,\u0022_uuid\u0022:\u0022363c9044e639fc298c44edafb96f7ded2a916f25\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022in order to create a representation of the various clusters:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00226e2ff63a-1bfe-4c7a-b0e4-7fa387e2c560\u0022,\u0022_uuid\u0022:\u0022cececaffe4efaff3333c64426b028b793cc677b5\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022import matplotlib.patches as mpatches\\n\\nsns.set_style(\\\u0022white\\\u0022)\\nsns.set_context(\\\u0022notebook\\\u0022, font_scale=1, rc={\\\u0022lines.linewidth\\\u0022: 2.5})\\n\\nLABEL_COLOR_MAP = {0:\u0027r\u0027, 1:\u0027tan\u0027, 2:\u0027b\u0027, 3:\u0027k\u0027, 4:\u0027c\u0027, 5:\u0027g\u0027, 6:\u0027deeppink\u0027, 7:\u0027skyblue\u0027, 8:\u0027darkcyan\u0027, 9:\u0027orange\u0027,\\n                   10:\u0027yellow\u0027, 11:\u0027tomato\u0027, 12:\u0027seagreen\u0027}\\nlabel_color = [LABEL_COLOR_MAP[l] for l in mat[\u0027cluster\u0027]]\\n\\nfig = plt.figure(figsize = (12,10))\\nincrement = 0\\nfor ix in range(6):\\n    for iy in range(ix+1, 6):   \\n        increment += 1\\n        ax = fig.add_subplot(4,3,increment)\\n        ax.scatter(mat[ix], mat[iy], c= label_color, alpha=0.5) \\n        plt.ylabel(\u0027PCA {}\u0027.format(iy+1), fontsize = 12)\\n        plt.xlabel(\u0027PCA {}\u0027.format(ix+1), fontsize = 12)\\n        ax.yaxis.grid(color=\u0027lightgray\u0027, linestyle=\u0027:\u0027)\\n        ax.xaxis.grid(color=\u0027lightgray\u0027, linestyle=\u0027:\u0027)\\n        ax.spines[\u0027right\u0027].set_visible(False)\\n        ax.spines[\u0027top\u0027].set_visible(False)\\n        \\n        if increment == 12: break\\n    if increment == 12: break\\n        \\n#_______________________________________________\\n# I set the legend: abreviation -\u003e airline name\\ncomp_handler = []\\nfor i in range(n_clusters):\\n    comp_handler.append(mpatches.Patch(color = LABEL_COLOR_MAP[i], label = i))\\n\\nplt.legend(handles=comp_handler, bbox_to_anchor=(1.1, 0.9), \\n           title=\u0027Cluster\u0027, facecolor = \u0027lightgrey\u0027,\\n           shadow = True, frameon = True, framealpha = 1,\\n           fontsize = 13, bbox_transform = plt.gcf().transFigure)\\n\\nplt.tight_layout()\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022abffa92e-d107-405c-8241-9e174971d7d3\u0022,\u0022_uuid\u0022:\u002269709e6dc7e0a40aa0749be602762e56d6d47db2\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022From this representation, it can be seen, for example, that the first principal component allow to separate the tiniest clusters from the rest. More generally, we see that there is always a representation in which two clusters will appear to be distinct.\\n\\n** b/ _Score de silhouette intra-cluster_ **\\n\\nAs with product categories, another way to look at the quality of the separation is to look at silouhette scores within different clusters:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002289a83e55-2681-4c31-9e39-52fe2cd0e5cf\u0022,\u0022_uuid\u0022:\u00223a207d8cfdc08bebeffb5cd8ddb00dfb959efb4a\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022sample_silhouette_values = silhouette_samples(scaled_matrix, clusters_clients)\\n#____________________________________\\n# define individual silouhette scores\\nsample_silhouette_values = silhouette_samples(scaled_matrix, clusters_clients)\\n#__________________\\n# and do the graph\\ngraph_component_silhouette(n_clusters, [-0.15, 0.55], len(scaled_matrix), sample_silhouette_values, clusters_clients)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002274588f7c-8ae6-48e0-833c-db705394f2e4\u0022,\u0022_uuid\u0022:\u00222a0230fe29659164fe82104656849b8bb4af8533\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022** c/ _Customers morphotype_**\\n\\nAt this stage, I have verified that the different clusters are indeed disjoint (at least, in a global way). It remains to understand the habits of the customers in each cluster. To do so, I start by adding to the `selected_customers` dataframe a variable that defines the cluster to which each client belongs:\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00221c45a7fd-b564-4595-b725-0d0ae03a25e7\u0022,\u0022_uuid\u0022:\u002252f45c0a955a33a52c812aaf9e60e5a82f5bd2da\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022selected_customers.loc[:, \u0027cluster\u0027] = clusters_clients\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022749f0a18-3e62-418b-8dab-5febaf415135\u0022,\u0022_uuid\u0022:\u00229e5adb7895a22bb8084255e7247465fc8d3ad9ec\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Then, I average the contents of this dataframe by first selecting the different groups of clients. This gives access to, for example, the average baskets price, the number of visits or the total sums spent by the clients of the different clusters. I also determine the number of clients in each group (variable ** size **):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022edaa1b78-74be-44cf-952d-f5148824b5d8\u0022,\u0022_uuid\u0022:\u00220fb5e92a263ea5290cfe72fb03257ea6eff632ce\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022merged_df = pd.DataFrame()\\nfor i in range(n_clusters):\\n    test = pd.DataFrame(selected_customers[selected_customers[\u0027cluster\u0027] == i].mean())\\n    test = test.T.set_index(\u0027cluster\u0027, drop = True)\\n    test[\u0027size\u0027] = selected_customers[selected_customers[\u0027cluster\u0027] == i].shape[0]\\n    merged_df = pd.concat([merged_df, test])\\n#_____________________________________________________\\nmerged_df.drop(\u0027CustomerID\u0027, axis = 1, inplace = True)\\nprint(\u0027number of customers:\u0027, merged_df[\u0027size\u0027].sum())\\n\\nmerged_df = merged_df.sort_values(\u0027sum\u0027)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00223513ca75-e71a-4c18-b40c-e79a43d06400\u0022,\u0022_uuid\u0022:\u00226103373770bfb5b3e2f60b4c9eee383e1956c2b2\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, I re-organize the content of the dataframe by ordering the different clusters: first, in relation to the amount wpsent in each product category and then, according to the total amount spent:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00229e510c5d-cfa4-4d50-ad2e-93fa01cb319e\u0022,\u0022_uuid\u0022:\u00225c6079b1b9dcb0d894e406255d351680219a5b35\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022liste_index = []\\nfor i in range(5):\\n    column = \u0027categ_{}\u0027.format(i)\\n    liste_index.append(merged_df[merged_df[column] \u003e 45].index.values[0])\\n#___________________________________\\nliste_index_reordered = liste_index\\nliste_index_reordered += [ s for s in merged_df.index if s not in liste_index]\\n#___________________________________________________________\\nmerged_df = merged_df.reindex(index = liste_index_reordered)\\nmerged_df = merged_df.reset_index(drop = False)\\ndisplay(merged_df[[\u0027cluster\u0027, \u0027count\u0027, \u0027min\u0027, \u0027max\u0027, \u0027mean\u0027, \u0027sum\u0027, \u0027categ_0\u0027,\\n                   \u0027categ_1\u0027, \u0027categ_2\u0027, \u0027categ_3\u0027, \u0027categ_4\u0027, \u0027size\u0027]])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022008fe8f4-491a-45d9-9d52-6310d3e1c391\u0022,\u0022_uuid\u0022:\u0022eaabc79f87998688cdde5c37cd526baa9352135b\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022** d / _Customers morphology_ **\\n\\nFinally, I created a representation of the different morphotypes. To do this, I define a class to create \\\u0022Radar Charts\\\u0022 (which has been adapted from this [kernel](https://www.kaggle.com/yassineghouzam/don-t-know-why-employees-leave -read-this)):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022e544d9cd-9589-46e8-9af5-3ad59a193b6b\u0022,\u0022_uuid\u0022:\u00223d7b1bbb5feb7c4e5ab1e48a27104b5fa51cbac4\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022def _scale_data(data, ranges):\\n    (x1, x2) = ranges[0]\\n    d = data[0]\\n    return [(d - y1) / (y2 - y1) * (x2 - x1) + x1 for d, (y1, y2) in zip(data, ranges)]\\n\\nclass RadarChart():\\n    def __init__(self, fig, location, sizes, variables, ranges, n_ordinate_levels = 6):\\n\\n        angles = np.arange(0, 360, 360./len(variables))\\n\\n        ix, iy = location[:] ; size_x, size_y = sizes[:]\\n        \\n        axes = [fig.add_axes([ix, iy, size_x, size_y], polar = True, \\n        label = \\\u0022axes{}\\\u0022.format(i)) for i in range(len(variables))]\\n\\n        _, text = axes[0].set_thetagrids(angles, labels = variables)\\n        \\n        for txt, angle in zip(text, angles):\\n            if angle \u003e -1 and angle \u003c 181:\\n                txt.set_rotation(angle - 90)\\n            else:\\n                txt.set_rotation(angle - 270)\\n        \\n        for ax in axes[1:]:\\n            ax.patch.set_visible(False)\\n            ax.xaxis.set_visible(False)\\n            ax.grid(\\\u0022off\\\u0022)\\n        \\n        for i, ax in enumerate(axes):\\n            grid = np.linspace(*ranges[i],num = n_ordinate_levels)\\n            grid_label = [\\\u0022\\\u0022]+[\\\u0022{:.0f}\\\u0022.format(x) for x in grid[1:-1]]\\n            ax.set_rgrids(grid, labels = grid_label, angle = angles[i])\\n            ax.set_ylim(*ranges[i])\\n        \\n        self.angle = np.deg2rad(np.r_[angles, angles[0]])\\n        self.ranges = ranges\\n        self.ax = axes[0]\\n                \\n    def plot(self, data, *args, **kw):\\n        sdata = _scale_data(data, self.ranges)\\n        self.ax.plot(self.angle, np.r_[sdata, sdata[0]], *args, **kw)\\n\\n    def fill(self, data, *args, **kw):\\n        sdata = _scale_data(data, self.ranges)\\n        self.ax.fill(self.angle, np.r_[sdata, sdata[0]], *args, **kw)\\n\\n    def legend(self, *args, **kw):\\n        self.ax.legend(*args, **kw)\\n        \\n    def title(self, title, *args, **kw):\\n        self.ax.text(0.9, 1, title, transform = self.ax.transAxes, *args, **kw)\\n\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022231c1e12-c833-43ae-86e2-4f32b48c5bb1\u0022,\u0022_uuid\u0022:\u0022fb503c92e6a1ac8f4a6aa6d2136ec94e69a4de48\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022This allows to have a global view of the content of each cluster:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022d0066031-e494-407f-9e9f-b79167244fd1\u0022,\u0022_uuid\u0022:\u00223074b64fa2e091118783baa4452fe7ccc22c82cb\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022fig = plt.figure(figsize=(10,12))\\n\\nattributes = [\u0027count\u0027, \u0027mean\u0027, \u0027sum\u0027, \u0027categ_0\u0027, \u0027categ_1\u0027, \u0027categ_2\u0027, \u0027categ_3\u0027, \u0027categ_4\u0027]\\nranges = [[0.01, 10], [0.01, 1500], [0.01, 10000], [0.01, 75], [0.01, 75], [0.01, 75], [0.01, 75], [0.01, 75]]\\nindex  = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\\n\\nn_groups = n_clusters ; i_cols = 3\\ni_rows = n_groups//i_cols\\nsize_x, size_y = (1/i_cols), (1/i_rows)\\n\\nfor ind in range(n_clusters):\\n    ix = ind%3 ; iy = i_rows - ind//3\\n    pos_x = ix*(size_x + 0.05) ; pos_y = iy*(size_y + 0.05)            \\n    location = [pos_x, pos_y]  ; sizes = [size_x, size_y] \\n    #______________________________________________________\\n    data = np.array(merged_df.loc[index[ind], attributes])    \\n    radar = RadarChart(fig, location, sizes, attributes, ranges)\\n    radar.plot(data, color = \u0027b\u0027, linewidth=2.0)\\n    radar.fill(data, alpha = 0.2, color = \u0027b\u0027)\\n    radar.title(title = \u0027cluster nº{}\u0027.format(index[ind]), color = \u0027r\u0027)\\n    ind += 1 \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022f20f9253-85b2-4bd5-a3f1-c417e3ebd667\u0022,\u0022_uuid\u0022:\u00229df02d92f07ba29fac28109e12b69e2a70fd43cf\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022It can be seen, for example, that the first 5 clusters correspond to a strong preponderance of purchases in a particular category of products. Other clusters will differ from basket averages (** mean **), the total sum spent by the clients (** sum **) or the total number of visits made (** count **).\\n\\n____\\n## 5. Classification of customers\\n\\nIn this part, the objective will be to adjust a classifier that will classify consumers in the different client categories that were established in the previous section. The objective is to make this classification possible at the first visit. To fulfill this objective, I will test several classifiers implemented in `scikit-learn`. First, in order to simplify their use, I define a class that allows to interface several of the functionalities common to these different classifiers: \u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002213991b6e-7070-4e99-985a-8955cd995840\u0022,\u0022_uuid\u0022:\u002233233378b919c14b0b43dd7bb8f5b7023ccb089a\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022class Class_Fit(object):\\n    def __init__(self, clf, params=None):\\n        if params:            \\n            self.clf = clf(**params)\\n        else:\\n            self.clf = clf()\\n\\n    def train(self, x_train, y_train):\\n        self.clf.fit(x_train, y_train)\\n\\n    def predict(self, x):\\n        return self.clf.predict(x)\\n    \\n    def grid_search(self, parameters, Kfold):\\n        self.grid = GridSearchCV(estimator = self.clf, param_grid = parameters, cv = Kfold)\\n        \\n    def grid_fit(self, X, Y):\\n        self.grid.fit(X, Y)\\n        \\n    def grid_predict(self, X, Y):\\n        self.predictions = self.grid.predict(X)\\n        print(\\\u0022Precision: {:.2f} % \\\u0022.format(100*metrics.accuracy_score(Y, self.predictions)))\\n        \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022f3b87dc5-fcd4-454c-9849-441556ae7214\u0022,\u0022_uuid\u0022:\u0022d4afb0435e441c5cfd5bc391e7272b8d4c558cb0\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Since the goal is to define the class to which a client belongs and this, as soon as its first visit, I only keep the variables that describe the content of the basket, and do not take into account the variables related to the frequency of visits or variations of the basket price over time:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00225bdd768a-8cb4-49dc-84fc-33c8b84a3362\u0022,\u0022_uuid\u0022:\u0022df64b250e989c1a33fe31921ee308056fc5a57b5\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022columns = [\u0027mean\u0027, \u0027categ_0\u0027, \u0027categ_1\u0027, \u0027categ_2\u0027, \u0027categ_3\u0027, \u0027categ_4\u0027 ]\\nX = selected_customers[columns]\\nY = selected_customers[\u0027cluster\u0027]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022103f68b9-5503-4c04-af53-15442328061d\u0022,\u0022_uuid\u0022:\u0022fd7f25d71e34ebe5f2d6b64b25c53e6eff5bd024\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, I split the dataset in train and test sets:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022c9c4174c-bd28-47df-9919-e951f45bd7f2\u0022,\u0022_uuid\u0022:\u002243c2d31561df475b5c56f5123c3d1080ed3990a2\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022X_train, X_test, Y_train, Y_test = model_selection.train_test_split(X, Y, train_size = 0.8)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022993f99bb-184f-4511-ac15-43de11249199\u0022,\u0022_uuid\u0022:\u002207c5a612a0d6e812ae597ee5b6f0ab9c9c5c3e06\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n### 5.1 Support Vector Machine Classifier (SVC)\\n\\nThe first classifier I use is the SVC classifier. In order to use it, I create an instance of the `Class_Fit` class and then call` grid_search()`. When calling this method, I provide as parameters:\\n- the hyperparameters for which I will seek an optimal value\\n- the number of folds to be used for cross-validation\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022eb88bafc-1335-47e2-bc5d-469a551e54b6\u0022,\u0022_uuid\u0022:\u002231ad3b4f07ec0b501f70909560735d21e3f5a8da\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022svc = Class_Fit(clf = svm.LinearSVC)\\nsvc.grid_search(parameters = [{\u0027C\u0027:np.logspace(-2,2,10)}], Kfold = 5)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002235d32d3d-bb0e-4134-b7cb-374aca8dbfa2\u0022,\u0022_uuid\u0022:\u0022e854dd6a090e2fa5acf726beaaeefa33872a1f6a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Once this instance is created, I adjust the classifier to the training data:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f8f0b1ec-6464-4a34-924c-85810c03a8ad\u0022,\u0022_uuid\u0022:\u0022174508011f559d2be87e39718f6798090edef992\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022svc.grid_fit(X = X_train, Y = Y_train)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022157f8b45-94a5-46a7-9045-253da1e80af7\u0022,\u0022_uuid\u0022:\u00226c0a6ae422b144712020c5587effa9ba153165c2\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022then I can test the quality of the prediction with respect to the test data:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00225031fd84-a7a4-4ce1-add7-03e4af50cb15\u0022,\u0022_uuid\u0022:\u0022314d70285360f73a73734e8583d1cb7e58c7f71d\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022svc.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022dca8ec0f-ae93-4b38-9d3c-3e4d7617f551\u0022,\u0022_uuid\u0022:\u002242f54e537dbaaf466a4c1e495408f4c95002ede9\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n#### 5.1.1 Confusion matrix\\n\\nThe accuracy of the results seems to be correct. Nevertheless, let us remember that when the different classes were defined, there was an imbalance in size between the classes obtained. In particular, one class contains around 40% of the clients. It is therefore interesting to look at how the predictions and real values compare to the breasts of the different classes. This is the subject of the confusion matrices and to represent them, I use the code of the [sklearn documentation](http://scikit-learn.org/stable/auto_examples/model_selection/plot_confusion_matrix.html):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00223d334a90-3134-4e66-babd-7f2ea02efb11\u0022,\u0022_uuid\u0022:\u002250e9d977bebb38f3568c91ab1856061774d115c6\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022def plot_confusion_matrix(cm, classes, normalize=False, title=\u0027Confusion matrix\u0027, cmap=plt.cm.Blues):\\n    if normalize:\\n        cm = cm.astype(\u0027float\u0027) / cm.sum(axis=1)[:, np.newaxis]\\n        print(\\\u0022Normalized confusion matrix\\\u0022)\\n    else:\\n        print(\u0027Confusion matrix, without normalization\u0027)\\n    #_________________________________________________\\n    plt.imshow(cm, interpolation=\u0027nearest\u0027, cmap=cmap)\\n    plt.title(title)\\n    plt.colorbar()\\n    tick_marks = np.arange(len(classes))\\n    plt.xticks(tick_marks, classes, rotation=0)\\n    plt.yticks(tick_marks, classes)\\n    #_________________________________________________\\n    fmt = \u0027.2f\u0027 if normalize else \u0027d\u0027\\n    thresh = cm.max() / 2.\\n    for i, j in itertools.product(range(cm.shape[0]), range(cm.shape[1])):\\n        plt.text(j, i, format(cm[i, j], fmt),\\n                 horizontalalignment=\\\u0022center\\\u0022,\\n                 color=\\\u0022white\\\u0022 if cm[i, j] \u003e thresh else \\\u0022black\\\u0022)\\n    #_________________________________________________\\n    plt.tight_layout()\\n    plt.ylabel(\u0027True label\u0027)\\n    plt.xlabel(\u0027Predicted label\u0027)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002289ba8c7c-42be-44b2-a729-45ac633010bf\u0022,\u0022_uuid\u0022:\u00224dc50a2614b3844ebe152a4d5eca33cb397df026\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022from which I create the following representation:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022eea554d8-a672-4f1e-a6cf-ef4bf6a6950b\u0022,\u0022_uuid\u0022:\u0022edb4632a50b983e80ab28fca93b80e9117d14fc6\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022class_names = [i for i in range(11)]\\ncnf_matrix = confusion_matrix(Y_test, svc.predictions) \\nnp.set_printoptions(precision=2)\\nplt.figure(figsize = (8,8))\\nplot_confusion_matrix(cnf_matrix, classes=class_names, normalize = False, title=\u0027Confusion matrix\u0027)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00221405c216-0a26-49b7-84eb-b7ca59e18751\u0022,\u0022_uuid\u0022:\u002289bea5dbfef84d99e79457142bb29a8ec136cc5a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n#### 5.1.2 Learning curve\\n\\nA typical way to test the quality of a fit is to draw a learning curve. In particular, this type of curves allow to detect possible drawbacks in the model, linked for example to over- or under-fitting. This also shows to which extent the mode could benefit from a larger data sample. In order to draw this curve, I use the [scikit-learn documentation code again](http://scikit-learn.org/stable/auto_examples/model_selection/plot_learning_curve.html#sphx-glr- self-examples-model-selection-pad-learning-curve-py)\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002276b2a6bb-aa79-406f-95ff-48fb3946c5a8\u0022,\u0022_uuid\u0022:\u0022199d688e55c37ba527adb63c31a0c243a45ba8da\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022def plot_learning_curve(estimator, title, X, y, ylim=None, cv=None,\\n                        n_jobs=-1, train_sizes=np.linspace(.1, 1.0, 10)):\\n    \\\u0022\\\u0022\\\u0022Generate a simple plot of the test and training learning curve\\\u0022\\\u0022\\\u0022\\n    plt.figure()\\n    plt.title(title)\\n    if ylim is not None:\\n        plt.ylim(*ylim)\\n    plt.xlabel(\\\u0022Training examples\\\u0022)\\n    plt.ylabel(\\\u0022Score\\\u0022)\\n    train_sizes, train_scores, test_scores = learning_curve(\\n        estimator, X, y, cv=cv, n_jobs=n_jobs, train_sizes=train_sizes)\\n    train_scores_mean = np.mean(train_scores, axis=1)\\n    train_scores_std = np.std(train_scores, axis=1)\\n    test_scores_mean = np.mean(test_scores, axis=1)\\n    test_scores_std = np.std(test_scores, axis=1)\\n    plt.grid()\\n\\n    plt.fill_between(train_sizes, train_scores_mean - train_scores_std,\\n                     train_scores_mean + train_scores_std, alpha=0.1, color=\\\u0022r\\\u0022)\\n    plt.fill_between(train_sizes, test_scores_mean - test_scores_std,\\n                     test_scores_mean + test_scores_std, alpha=0.1, color=\\\u0022g\\\u0022)\\n    plt.plot(train_sizes, train_scores_mean, \u0027o-\u0027, color=\\\u0022r\\\u0022, label=\\\u0022Training score\\\u0022)\\n    plt.plot(train_sizes, test_scores_mean, \u0027o-\u0027, color=\\\u0022g\\\u0022, label=\\\u0022Cross-validation score\\\u0022)\\n\\n    plt.legend(loc=\\\u0022best\\\u0022)\\n    return plt\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022deca3435-0c6d-4798-9efb-fd4e3b28357b\u0022,\u0022_uuid\u0022:\u00222b255e1b50b52bbd9b9f2d4526928a869f9bd4f0\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022from which I represent the leanring curve of the SVC classifier:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00225e33dcc9-e613-4098-b282-70cd63c59768\u0022,\u0022_uuid\u0022:\u0022b89f7776830508bb4a4424c8cdecbe9b6765f43c\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(svc.grid.best_estimator_,\\n                        \\\u0022SVC learning curves\\\u0022, X_train, Y_train, ylim = [1.01, 0.6],\\n                        cv = 5,  train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5,\\n                                                0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00225c0a6c67-93ed-4dd3-bc11-f3cb107ee9c2\u0022,\u0022_uuid\u0022:\u00225f47f200bbc07f370f1a3e8940af87d35a4c08c7\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022On this curve, we can see that the train and cross-validation curves converge towards the same limit when the sample size increases. This is typical of modeling with low variance and proves that the model does not suffer from overfitting. Also, we can see that the accuracy of the training curve is correct which is synonymous of a low bias. Hence the model does not underfit the data.\\n\\n___\\n### 5.2 Logistic Regression\\n\\nI now consider the logistic regression classifier. As before, I create an instance of the `Class_Fit` class, adjust the model on the training data and see how the predictions compare to the real values:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022c37cd77b-f96d-483b-bb57-14db65f97039\u0022,\u0022_uuid\u0022:\u00229ee59b5060327224a4356be75ee1221b4e9fb0ab\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022lr = Class_Fit(clf = linear_model.LogisticRegression)\\nlr.grid_search(parameters = [{\u0027C\u0027:np.logspace(-2,2,20)}], Kfold = 5)\\nlr.grid_fit(X = X_train, Y = Y_train)\\nlr.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002296d297a9-dd64-45b0-bce0-94439293e937\u0022,\u0022_uuid\u0022:\u0022a67cbfe332dd968d4fc99fb6c2c28103efb55c3c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Then, I plot the learning curve to have a feeling of the quality of the model:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00228c4c95f0-8116-4501-ae86-7df54fa6a8dd\u0022,\u0022_uuid\u0022:\u0022203206e691175e8ff82cf72cfb34e82ffd2acf0c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(lr.grid.best_estimator_, \\\u0022Logistic Regression learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.7], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022600918f4-6211-4f52-a6ec-82777e8ca37a\u0022,\u0022_uuid\u0022:\u00226e74472ba1f136a34fcdddf01b19d2e9af9d96fa\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022### 5.3 k-Nearest Neighbors\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002293db008f-7525-4705-aa66-ca3e407bfa3f\u0022,\u0022_uuid\u0022:\u0022c898bc2cc957afd96dd317aecc160b23efe3c973\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022knn = Class_Fit(clf = neighbors.KNeighborsClassifier)\\nknn.grid_search(parameters = [{\u0027n_neighbors\u0027: np.arange(1,50,1)}], Kfold = 5)\\nknn.grid_fit(X = X_train, Y = Y_train)\\nknn.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002280b0d359-06f2-4f75-b394-c77eaefb6a37\u0022,\u0022_uuid\u0022:\u0022c10d7fca1e4070dd6a97e5d9f5879e3632d6e83c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(knn.grid.best_estimator_, \\\u0022Nearest Neighbors learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.7], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002243089987-a289-407c-b6e7-82dd0b4f86fb\u0022,\u0022_uuid\u0022:\u0022ca3adb1bdc494a6b012b200a1f935031eaf4f5b8\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022### 5.4 Decision Tree\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00220a4cd7ef-f03c-4c7a-8b78-0dc26dab137b\u0022,\u0022_uuid\u0022:\u002248dbd3e263d5b8113b8ef64677e6df4c20076a7c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022tr = Class_Fit(clf = tree.DecisionTreeClassifier)\\ntr.grid_search(parameters = [{\u0027criterion\u0027 : [\u0027entropy\u0027, \u0027gini\u0027], \u0027max_features\u0027 :[\u0027sqrt\u0027, \u0027log2\u0027]}], Kfold = 5)\\ntr.grid_fit(X = X_train, Y = Y_train)\\ntr.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022896f795a-1cbb-4d08-9019-a1ab6963fc5c\u0022,\u0022_uuid\u0022:\u002266fdbf731275232a3df7ef73fe54aeeef8dd0c33\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(tr.grid.best_estimator_, \\\u0022Decision tree learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.7], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002267fc7d71-2722-44ef-bf78-893f0e8116d1\u0022,\u0022_uuid\u0022:\u00226d8db24aa70ef84521664c217b0f9fa731f9cbe1\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022### 5.5 Random Forest\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022191ce09c-a67d-434e-99e2-f186d9b21095\u0022,\u0022_uuid\u0022:\u00225fd4df1e26bd7cdf10dfcf245fddafff86790f8c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022rf = Class_Fit(clf = ensemble.RandomForestClassifier)\\nparam_grid = {\u0027criterion\u0027 : [\u0027entropy\u0027, \u0027gini\u0027], \u0027n_estimators\u0027 : [20, 40, 60, 80, 100],\\n               \u0027max_features\u0027 :[\u0027sqrt\u0027, \u0027log2\u0027]}\\nrf.grid_search(parameters = param_grid, Kfold = 5)\\nrf.grid_fit(X = X_train, Y = Y_train)\\nrf.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00228ea75385-53a0-42d2-8f14-0b0d89032b41\u0022,\u0022_uuid\u0022:\u00228bd7e9d31969f8b5fc548ad856012d3027faa9a5\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(rf.grid.best_estimator_, \\\u0022Random Forest learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.7], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00225d7add5f-9247-4f59-a3ab-12a7a5fc269f\u0022,\u0022_uuid\u0022:\u0022ec49824cd052c1898730e7acb6ce684d63c9c22e\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022### 5.6 AdaBoost Classifier\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002291c38cf5-f042-47d8-b74e-f7a0f9718f26\u0022,\u0022_uuid\u0022:\u002226780fd696188d6b3f8cd9dad2f187003148ee19\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022ada = Class_Fit(clf = AdaBoostClassifier)\\nparam_grid = {\u0027n_estimators\u0027 : [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]}\\nada.grid_search(parameters = param_grid, Kfold = 5)\\nada.grid_fit(X = X_train, Y = Y_train)\\nada.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00224d188502-2d63-49f6-96fc-51d08e381b39\u0022,\u0022_uuid\u0022:\u0022fbc49326d70e7ac314cc9c92f5baba69dc3cf7b8\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(ada.grid.best_estimator_, \\\u0022AdaBoost learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.4], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022bca75b42-7617-428a-8d56-b8ec68378cee\u0022,\u0022_uuid\u0022:\u0022376352a7039a8037ba7acbcb788b58cfc9b38e67\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022### 5.7 Gradient Boosting Classifier\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022d3cd367f-d2e9-498d-bb82-c1137dd21fdf\u0022,\u0022_uuid\u0022:\u0022f85e385c75291843a7c8db847aee48070f60e7ee\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022gb = Class_Fit(clf = ensemble.GradientBoostingClassifier)\\nparam_grid = {\u0027n_estimators\u0027 : [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]}\\ngb.grid_search(parameters = param_grid, Kfold = 5)\\ngb.grid_fit(X = X_train, Y = Y_train)\\ngb.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00222110efe3-4466-4bcb-a74a-0950253d7f60\u0022,\u0022_uuid\u0022:\u0022eeca4c1c096b8a40ea910e2472d5fb6ca44ebb19\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(gb.grid.best_estimator_, \\\u0022Gradient Boosting learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.7], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002247f0fdc5-2871-494f-9158-1a88c449a7d6\u0022,\u0022_uuid\u0022:\u0022609d7ed4c45f18359ad51745f03b2a686175b7ad\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n### 5.8 Let\u0027s vote !\\n\\nFinally, the results of the different classifiers presented in the previous sections can be combined to improve the classification model. This can be achieved by selecting the customer category as the one indicated by the majority of classifiers. To do this, I use the `VotingClassifier` method of the `sklearn` package. As a first step, I adjust the parameters of the various classifiers using the *best* parameters previously found:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022532dcc6f-33a1-4726-a07a-e4bb2ef0b396\u0022,\u0022_uuid\u0022:\u002240c82b43dd34bb9b7685c76bea0f5ca7e761c1d4\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022rf_best  = ensemble.RandomForestClassifier(**rf.grid.best_params_)\\ngb_best  = ensemble.GradientBoostingClassifier(**gb.grid.best_params_)\\nsvc_best = svm.LinearSVC(**svc.grid.best_params_)\\ntr_best  = tree.DecisionTreeClassifier(**tr.grid.best_params_)\\nknn_best = neighbors.KNeighborsClassifier(**knn.grid.best_params_)\\nlr_best  = linear_model.LogisticRegression(**lr.grid.best_params_)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002222aabd16-9cf1-4e3c-bb74-b7ecb6bd9268\u0022,\u0022_uuid\u0022:\u00222b4e1e4f02a6bfbb8b25a84614b2ada700e4ee4a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Then, I define a classifier that merges the results of the various classifiers:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00227d80dd22-3e03-4069-b27d-cfad906a5acd\u0022,\u0022_uuid\u0022:\u00229aedb584c04d4291460c4d30d215e6b2a33d879c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022votingC = ensemble.VotingClassifier(estimators=[(\u0027rf\u0027, rf_best),(\u0027gb\u0027, gb_best),\\n                                                (\u0027knn\u0027, knn_best)], voting=\u0027soft\u0027)    \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022cc37f5d4-5da2-4d32-a37d-4980b451e467\u0022,\u0022_uuid\u0022:\u00227e88e55a82db913b1544fdd349768b234e612e3b\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and train it:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022bdd0e288-9e46-477b-94a1-a4bfa7fd9b93\u0022,\u0022_uuid\u0022:\u0022a89f838c7552464dd07c477ec3d9fd1aae91718c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022votingC = votingC.fit(X_train, Y_train)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022eae9f527-9ae0-4ba9-abe2-d667d1cec085\u0022,\u0022_uuid\u0022:\u0022633bb962212746efe42de5702b7083d022da9e3a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, we can create a prediction for this model:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002240d3aad9-7cdf-45b1-8848-863fd003dbe1\u0022,\u0022_uuid\u0022:\u0022d582d291f5e82fb666b2e7bc80acd2851c9d87c5\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022predictions = votingC.predict(X_test)\\nprint(\\\u0022Precision: {:.2f} % \\\u0022.format(100*metrics.accuracy_score(Y_test, predictions)))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002235f9a337-973f-4b94-9f45-beb59fc6e518\u0022,\u0022collapsed\u0022:true,\u0022_uuid\u0022:\u00227a1fa3d722ee821ebbacd93282098168d095282c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Note that when defining the `votingC` classifier, I only used a sub-sample of the whole set of classifiers defined above and only retained the *Random Forest*, the *k-Nearest Neighbors* and the *Gradient Boosting* classifiers. In practice, this choice has been done with respect to the performance of the classification carried out in the next section.\\n\\n___\\n## 6. Testing predictions\\n\\nIn the previous section, a few classifiers were trained in order to categorize customers. Until that point, the whole analysis was based on the data of the first 10 months. In this section, I test the model  the last two months of the dataset, that has been stored in the `set_test` dataframe:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00223b0d4452-2d4d-4640-af80-ae4d95a18ebe\u0022,\u0022_uuid\u0022:\u0022230cb86d7b613e90c2e5a6b386779c8847d83d58\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022basket_price = set_test.copy(deep = True)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022c588d958-c150-4ace-a7e9-d660d8ac44fd\u0022,\u0022_uuid\u0022:\u002207cd014e4d2fd526f56b8fb1f68ff65cf14ecbbe\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In a first step, I regroup reformattes these data according to the same procedure as used on the training set. However, I am correcting the data to take into account the difference in time between the two datasets and weights the variables ** count ** and ** sum ** to obtain an equivalence with the training set:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022a71444d2-fde7-422a-98c8-018d2ed8faff\u0022,\u0022_uuid\u0022:\u0022ad3b38fbda3b8da6f9ea86c0edbcf02002d1f277\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022transactions_per_user=basket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027Basket Price\u0027].agg([\u0027count\u0027,\u0027min\u0027,\u0027max\u0027,\u0027mean\u0027,\u0027sum\u0027])\\nfor i in range(5):\\n    col = \u0027categ_{}\u0027.format(i)\\n    transactions_per_user.loc[:,col] = basket_price.groupby(by=[\u0027CustomerID\u0027])[col].sum() /\\\\\\n                                            transactions_per_user[\u0027sum\u0027]*100\\n\\ntransactions_per_user.reset_index(drop = False, inplace = True)\\nbasket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027categ_0\u0027].sum()\\n\\n#_______________________\\n# Correcting time range\\ntransactions_per_user[\u0027count\u0027] = 5 * transactions_per_user[\u0027count\u0027]\\ntransactions_per_user[\u0027sum\u0027]   = transactions_per_user[\u0027count\u0027] * transactions_per_user[\u0027mean\u0027]\\n\\ntransactions_per_user.sort_values(\u0027CustomerID\u0027, ascending = True)[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022dedce1a8-5db0-463e-9bea-31502016b83c\u0022,\u0022_uuid\u0022:\u00228278c8e0a594d7f907e0565bde0754c7966f8395\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Then, I convert the dataframe into a matrix and retain only variables that define the category to which consumers belong. At this level, I recall the method of normalization that had been used on the training set:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022ad4089ab-f703-483c-8d03-65f3c282c49a\u0022,\u0022_uuid\u0022:\u0022926c8e08380d645553e2c939c1bffd485e52b02e\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022list_cols = [\u0027count\u0027,\u0027min\u0027,\u0027max\u0027,\u0027mean\u0027,\u0027categ_0\u0027,\u0027categ_1\u0027,\u0027categ_2\u0027,\u0027categ_3\u0027,\u0027categ_4\u0027]\\n#_____________________________________________________________\\nmatrix_test = transactions_per_user[list_cols].as_matrix()\\nscaled_test_matrix = scaler.transform(matrix_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002236cc9ffd-33ee-4591-816a-45bdaf2f9bac\u0022,\u0022_uuid\u0022:\u0022662fe343d8246f85db0eb386f3fb9ad7db1fff64\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Each line in this matrix contains a consumer\u0027s buying habits. At this stage, it is a question of using these habits in order to define the category to which the consumer belongs. These categories have been established in Section 4. ** At this stage, it is important to bear in mind that this step does not correspond to the classification stage itself**. Here, we prepare the test data by defining the category to which the customers belong. However, this definition uses data obtained over a period of 2 months (via the variables ** count **, ** min **, ** max ** and ** sum **). The classifier defined in Section 5 uses a more restricted set of variables that will be defined from the first purchase of a client.\\n\\nHere it is a question of using the available data over a period of two months and using this data to define the category to which the customers belong. Then, the classifier can be tested by comparing its predictions with these categories. In order to define the category to which the clients belong, I recall the instance of the `kmeans` method used in section 4. The` predict` method of this instance calculates the distance of the consumers from the centroids of the 11 client classes and the smallest distance will define the belonging to the different categories:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00227627cb8b-d69c-45b2-9460-e37f3440a2cf\u0022,\u0022_uuid\u0022:\u002225274ee1b5fcb9ada2496fef0479ed26b8c90fea\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022Y = kmeans.predict(scaled_test_matrix)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022d31fcdeb-d360-4c6e-be63-119594641030\u0022,\u0022_uuid\u0022:\u00222f319c54df9f2dad18a1b5cfba3c513fcec06a34\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, in order to prepare the execution of the classifier, it is sufficient to select the variables on which it acts:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022dc376e15-18a7-45d8-a941-804945f13d0c\u0022,\u0022_uuid\u0022:\u0022db8446dff217a860253c13c56bb6e30e03270e54\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022columns = [\u0027mean\u0027, \u0027categ_0\u0027, \u0027categ_1\u0027, \u0027categ_2\u0027, \u0027categ_3\u0027, \u0027categ_4\u0027 ]\\nX = transactions_per_user[columns]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022e369377a-c3f3-44a7-b4b6-958d5ba340cb\u0022,\u0022_uuid\u0022:\u0022cb2c10ff04aeff496062c49b2ee1d3ed45e7da31\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022It remains only to examine the predictions of the different classifiers that have been trained in section 5:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00221226d84c-0b7b-4d0d-b55a-c9c39c9f0d9a\u0022,\u0022_uuid\u0022:\u0022a77b2c4f0fba4a51a4d8915e3cd684e3afd3b6fa\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022classifiers = [(svc, \u0027Support Vector Machine\u0027),\\n                (lr, \u0027Logostic Regression\u0027),\\n                (knn, \u0027k-Nearest Neighbors\u0027),\\n                (tr, \u0027Decision Tree\u0027),\\n                (rf, \u0027Random Forest\u0027),\\n                (gb, \u0027Gradient Boosting\u0027)]\\n#______________________________\\nfor clf, label in classifiers:\\n    print(30*\u0027_\u0027, \u0027\\\\n{}\u0027.format(label))\\n    clf.grid_predict(X, Y)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022fba41ad5-1481-46a4-956c-6f6562d8cc95\u0022,\u0022_uuid\u0022:\u0022b855c4eed1eb8e5a5a15dd562c6fcb17df2283d9\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, as anticipated in Section 5.8, it is possible to improve the quality of the classifier by combining their respective predictions. At this level, I chose to mix *Random Forest*, *Gradient Boosting* and *k-Nearest Neighbors* predictions because this leads to a slight improvement in predictions:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002213682ddc-d732-4839-a314-ec1bcd00cf2a\u0022,\u0022_uuid\u0022:\u0022fb82ea972aae88f12a6466a785c7be659984579c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022predictions = votingC.predict(X)\\nprint(\\\u0022Precision: {:.2f} % \\\u0022.format(100*metrics.accuracy_score(Y, predictions)))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00224b652c34-db71-48eb-a33a-cadeae0f29c8\u0022,\u0022_uuid\u0022:\u00224bee5cb8360ea528c471e9526ac961d8b46b936b\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n## 7. Conclusion\\n\\nThe work described in this notebook is based on a database providing details on purchases made on an E-commerce platform over a period of one year. Each entry in the dataset describes the purchase of a product, by a particular customer and at a given date. In total, approximately $\\\\sim$4000 clients appear in the database. Given the available information, I decided to develop a classifier that allows to anticipate the type of purchase that a customer will make, as well as the number of visits that he will make during a year, and this from its first visit to the E-commerce site.\\n\\nThe first stage of this work consisted in describing the different products sold by the site, which was the subject of a first classification. There, I grouped the different products into 5 main categories of goods. In a second step, I performed a classification of the customers by analyzing their consumption habits over a period of 10 months. I have classified clients into 11 major categories based on the type of products they usually buy, the number of visits they make and the amount they spent during the 10 months. Once these categories established, I finally trained several classifiers whose objective is to be able to classify consumers in one of these 11 categories and this from their first purchase. For this, the classifier is based on 5 variables which are:\\n- ** mean **: amount of the basket of the current purchase\\n- ** categ_N ** with $N \\\\in [0: 4]$: percentage spent in product category with index $N$\\n\\nFinally, the quality of the predictions of the different classifiers was tested over the last two months of the dataset. The data were then processed in two steps: first, all the data was considered (ober the 2 months) to define the category to which each client belongs, and then, the classifier predictions were compared with this category assignment. I then found that 75% of clients are awarded the right classes.\\nThe performance of the classifier therefore seems correct given the potential shortcomings of the current model. In particular, a bias that has not been dealt with concerns the seasonality of purchases and the fact that purchasing habits will potentially depend on the time of year (for example, Christmas ). In practice, this seasonal effect may cause the categories defined over a 10-month period to be quite different from those extrapolated from the last two months. In order to correct such bias, it would be beneficial to have data that would cover a longer period of time.\\n\\n\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022d27b2130-f92e-4050-b6f9-683ae49ba4f4\u0022,\u0022collapsed\u0022:true,\u0022_uuid\u0022:\u0022af58a547d8cc9d3bbe25d2f9ab5b23b1845b23e2\u0022,\u0022trusted\u0022:false},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]}],\u0022metadata\u0022:{\u0022kernelspec\u0022:{\u0022display_name\u0022:\u0022Python 3\u0022,\u0022language\u0022:\u0022python\u0022,\u0022name\u0022:\u0022python3\u0022},\u0022language_info\u0022:{\u0022name\u0022:\u0022python\u0022,\u0022version\u0022:\u00223.6.6\u0022,\u0022mimetype\u0022:\u0022text/x-python\u0022,\u0022codemirror_mode\u0022:{\u0022name\u0022:\u0022ipython\u0022,\u0022version\u0022:3},\u0022pygments_lexer\u0022:\u0022ipython3\u0022,\u0022nbconvert_exporter\u0022:\u0022python\u0022,\u0022file_extension\u0022:\u0022.py\u0022}},\u0022nbformat\u0022:4,\u0022nbformat_minor\u0022:1}","dateCreated":"2019-03-21T14:19:39.5929583Z"},"kernelRun":{"id":11888176,"kernelId":374483,"status":"complete","type":"batch","sourceType":"notebook","language":"python","title":"Customer Segmentation","dateCreated":"2019-03-21T14:19:40.077Z","dateEvaluated":"2019-03-21T14:19:41.35Z","dateCancelled":null,"workerContainerPort":null,"workerUptimeSeconds":43874,"workerIPAddress":"172.20.64.59   ","workerIPAddressExternal":null,"scriptLanguageId":9,"scriptLanguageName":"IPython Notebook HTML","renderedOutputUrl":"https://www.kaggleusercontent.com/kf/11888176/eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..Nyzik8YllT1nu3gx_CNrnQ.QXM2TKB-1oPxcANyrcFn2q0d6ai25mfbPbzfMUGfXTf6bE3Gulnp7wuPlhcksCjHwN5Ri6jhSxdtlQCamZ3r1iQ7j80dPqcnFRzJ3NyOKk6scUyxWTIHdChiYImdKzsh3w-twIWDBtPqy_yXo5dGDQ.cIq4Myks_W9KzSxTzbT-wA/__results__.html","commit":{"id":230744237,"settings":{"dockerImageVersionId":null,"dataSources":[{"sourceType":"DatasetVersion","sourceId":3404,"databundleVersionId":null,"mountSlug":null}],"sourceType":"notebook","language":"python","accelerator":"none","isInternetEnabled":false},"source":"{\u0022cells\u0022:[{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002277841518-29e7-4001-9aeb-6267400da121\u0022,\u0022_uuid\u0022:\u0022baf39e29f412685d42adbf39a6030e5f00255d0d\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022# Customer segmentation\\n_F. Daniel (September 2017)_\\n____\\n\\nThis notebook aims at analyzing the content of an E-commerce database that lists purchases made by $\\\\sim$4000 customers over a period of one year (from 2010/12/01 to 2011/12/09). Based on this analysis, I develop a model that allows to anticipate the purchases that will be made by a new customer, during the following year and this, from its first purchase. \u003cbr\u003e\\n\\n___\\n**Acknowledgement**: many thanks to [J. Abécassis](https://www.kaggle.com/judithabk6) for the advices and help provided during the writing of this notebook \\n___\\n**1. Data Preparation**\\n\\n**2. Exploring the content of variables**\\n\\n   - 2.1 Countries\\n   - 2.2 Customers and products\\n       * 2.2.1 Cancelling orders\\n       * 2.2.2 StockCode\\n       * 2.2.3 Basket price\\n\\n**3. Insight on product categories**\\n\\n   - 3.1 Product description \\n   - 3.2 Defining product categories \\n       * 3.2.1 Data encoding\\n       * 3.2.2 Clusters of products\\n       * 3.2.3 Characterizing the content of clusters\\n   \\n**4. Customer categories**\\n\\n   - 4.1 Formating data\\n       * 4.1.1 Grouping products \\n       * 4.1.2 Time spliting of the dataset\\n       * 4.1.3 Grouping orders \\n   - 4.2 Creating customer categories\\n       * 4.2.1 Data enconding\\n       * 4.2.2 Creating categories\\n\\n**5. Classifying customers**\\n\\n   - 5.1 Support Vector Machine Classifier (SVC)\\n       * 5.1.1 Confusion matrix\\n       * 5.1.2 Leraning curves \\n   - 5.2 Logistic regression \\n   - 5.3 k-Nearest Neighbors\\n   - 5.4 Decision Tree\\n   - 5.5 Random Forest\\n   - 5.6 AdaBoost\\n   - 5.7 Gradient Boosting Classifier\\n   - 5.8 Let\u0027s vote !\\n   \\n**6. Testing the predictions**\\n\\n**7. Conclusion**\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022151b89ad-6783-483e-8cf9-081f23052f7f\u0022,\u0022_uuid\u0022:\u0022b2c01e22363fb1afa2ea2b080659cbfbe0416465\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022## 1. Data preparation\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022c2c4a258-c804-4622-9155-b01ac0ee2412\u0022,\u0022_uuid\u0022:\u0022f1bb865aa1a9dfc9906cf6cfdb869f871d82e36e\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022As a first step, I load all the modules that will be used in this notebook:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022705714b1-870b-4f34-b5bf-cd027dafaefe\u0022,\u0022_uuid\u0022:\u0022bb40a7b23734d82876d812fab6daecd83a46368c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022import pandas as pd\\nimport numpy as np\\nimport matplotlib as mpl\\nimport matplotlib.pyplot as plt\\nimport seaborn as sns\\nimport datetime, nltk, warnings\\nimport matplotlib.cm as cm\\nimport itertools\\nfrom pathlib import Path\\nfrom sklearn.preprocessing import StandardScaler\\nfrom sklearn.cluster import KMeans\\nfrom sklearn.metrics import silhouette_samples, silhouette_score\\nfrom sklearn import preprocessing, model_selection, metrics, feature_selection\\nfrom sklearn.model_selection import GridSearchCV, learning_curve\\nfrom sklearn.svm import SVC\\nfrom sklearn.metrics import confusion_matrix\\nfrom sklearn import neighbors, linear_model, svm, tree, ensemble\\nfrom wordcloud import WordCloud, STOPWORDS\\nfrom sklearn.ensemble import AdaBoostClassifier\\nfrom sklearn.decomposition import PCA\\nfrom IPython.display import display, HTML\\nimport plotly.graph_objs as go\\nfrom plotly.offline import init_notebook_mode,iplot\\ninit_notebook_mode(connected=True)\\nwarnings.filterwarnings(\\\u0022ignore\\\u0022)\\nplt.rcParams[\\\u0022patch.force_edgecolor\\\u0022] = True\\nplt.style.use(\u0027fivethirtyeight\u0027)\\nmpl.rc(\u0027patch\u0027, edgecolor = \u0027dimgray\u0027, linewidth=1)\\n%matplotlib inline\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002200704161-ee27-45e5-8abe-582799682a6a\u0022,\u0022_uuid\u0022:\u00229fef0af109df66769564679418201e09990a5dea\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Then, I load the data. Once done, I also give some basic informations on the content of the dataframe: the type of the various variables, the number of null values and their percentage with respect to the total number of entries:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00221063f9e0-e494-4873-939f-8aa5ca40cc89\u0022,\u0022_uuid\u0022:\u0022227fc0cb1d5216d52e057e1d2d7debd0e29abe46\u0022,\u0022scrolled\u0022:false,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#__________________\\n# read the datafile\\ndf_initial = pd.read_csv(\u0027../input/data.csv\u0027,encoding=\\\u0022ISO-8859-1\\\u0022,\\n                         dtype={\u0027CustomerID\u0027: str,\u0027InvoiceID\u0027: str})\\nprint(\u0027Dataframe dimensions:\u0027, df_initial.shape)\\n#______\\ndf_initial[\u0027InvoiceDate\u0027] = pd.to_datetime(df_initial[\u0027InvoiceDate\u0027])\\n#____________________________________________________________\\n# gives some infos on columns types and numer of null values\\ntab_info=pd.DataFrame(df_initial.dtypes).T.rename(index={0:\u0027column type\u0027})\\ntab_info=tab_info.append(pd.DataFrame(df_initial.isnull().sum()).T.rename(index={0:\u0027null values (nb)\u0027}))\\ntab_info=tab_info.append(pd.DataFrame(df_initial.isnull().sum()/df_initial.shape[0]*100).T.\\n                         rename(index={0:\u0027null values (%)\u0027}))\\ndisplay(tab_info)\\n#__________________\\n# show first lines\\ndisplay(df_initial[:5])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002206c4d159-30b1-49d5-8704-e799e62d920e\u0022,\u0022_uuid\u0022:\u00220bd74433ee980fa630f68bb213fb73cd2cb9c0f2\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022While looking at the number of null values in the dataframe, it is interesting to note that $\\\\sim$25% of the entries are not assigned to a particular customer. With the data available, it is impossible to impute values for the user and these entries are thus useless for the current exercise. So I delete them from the dataframe:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f9de6b67-a588-43ab-8f51-b28efdee9e32\u0022,\u0022_uuid\u0022:\u00229b915fa18b311e8f93ac862bd49d08d90e03ca48\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_initial.dropna(axis = 0, subset = [\u0027CustomerID\u0027], inplace = True)\\nprint(\u0027Dataframe dimensions:\u0027, df_initial.shape)\\n#____________________________________________________________\\n# gives some infos on columns types and numer of null values\\ntab_info=pd.DataFrame(df_initial.dtypes).T.rename(index={0:\u0027column type\u0027})\\ntab_info=tab_info.append(pd.DataFrame(df_initial.isnull().sum()).T.rename(index={0:\u0027null values (nb)\u0027}))\\ntab_info=tab_info.append(pd.DataFrame(df_initial.isnull().sum()/df_initial.shape[0]*100).T.\\n                         rename(index={0:\u0027null values (%)\u0027}))\\ndisplay(tab_info)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022ebbe5646-3bb8-41fa-a723-ceca20d23305\u0022,\u0022_uuid\u0022:\u00227ac7f800756405f801d09d290624c0767a3b5ef6\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022OK, therefore, by removing these entries we end up with a dataframe filled at 100% for all variables! Finally, I check for duplicate entries and delete them:\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022baf1ff2e-646b-468b-b7b4-68343f388387\u0022,\u0022_uuid\u0022:\u00226b988d1dee3deecafd54f2b3555d1f84b509d213\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022print(\u0027Entrées dupliquées: {}\u0027.format(df_initial.duplicated().sum()))\\ndf_initial.drop_duplicates(inplace = True)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022ba32e71f-0e94-4d44-81cf-8409d644fc8b\u0022,\u0022_uuid\u0022:\u0022bd5c8b02bb28eaa95b66c941143794440e4ef53b\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n## 2. Exploring the content of variables\\n\\nThis dataframe contains 8 variables that correspond to: \\n\\n**InvoiceNo**: Invoice number. Nominal, a 6-digit integral number uniquely assigned to each transaction. If this code starts with letter \u0027c\u0027, it indicates a cancellation.  \u003cbr\u003e\\n**StockCode**: Product (item) code. Nominal, a 5-digit integral number uniquely assigned to each distinct product. \u003cbr\u003e\\n**Description**: Product (item) name. Nominal. \u003cbr\u003e\\n**Quantity**: The quantities of each product (item) per transaction. Numeric.\\t\u003cbr\u003e\\n**InvoiceDate**: Invice Date and time. Numeric, the day and time when each transaction was generated. \u003cbr\u003e\\n**UnitPrice**: Unit price. Numeric, Product price per unit in sterling. \u003cbr\u003e\\n**CustomerID**: Customer number. Nominal, a 5-digit integral number uniquely assigned to each customer. \u003cbr\u003e\\n**Country**: Country name. Nominal, the name of the country where each customer resides.\u003cbr\u003e\\n\\n___\\n### 2.1 Countries\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022cd84a8f6-4ee5-43f1-bf29-6a0b38cbc545\u0022,\u0022_uuid\u0022:\u0022f43c23fe62b4183bbe9ee4beb1759f6c9802b15c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Here, I quickly look at the countries from which orders were made:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002244abc17d-8858-457a-94e1-f012143fda87\u0022,\u0022_uuid\u0022:\u0022c4141f12a8b2c733539a75d398cadf0817ca0969\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022temp = df_initial[[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027, \u0027Country\u0027]].groupby([\u0027CustomerID\u0027, \u0027InvoiceNo\u0027, \u0027Country\u0027]).count()\\ntemp = temp.reset_index(drop = False)\\ncountries = temp[\u0027Country\u0027].value_counts()\\nprint(\u0027Nb. de pays dans le dataframe: {}\u0027.format(len(countries)))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022f4e80201-fe50-4668-9d71-8b820e3f483e\u0022,\u0022_uuid\u0022:\u0022f9a0565eeb7b4c3dc802ebe9c4b810d8b938a3f7\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and show the result on a chloropleth map:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022993e237f-8fbc-47b6-a2f9-6418a7221f07\u0022,\u0022_uuid\u0022:\u00227b84b31aa58c137c8bb05fe5a3ebcb791b13100b\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022data = dict(type=\u0027choropleth\u0027,\\nlocations = countries.index,\\nlocationmode = \u0027country names\u0027, z = countries,\\ntext = countries.index, colorbar = {\u0027title\u0027:\u0027Order nb.\u0027},\\ncolorscale=[[0, \u0027rgb(224,255,255)\u0027],\\n            [0.01, \u0027rgb(166,206,227)\u0027], [0.02, \u0027rgb(31,120,180)\u0027],\\n            [0.03, \u0027rgb(178,223,138)\u0027], [0.05, \u0027rgb(51,160,44)\u0027],\\n            [0.10, \u0027rgb(251,154,153)\u0027], [0.20, \u0027rgb(255,255,0)\u0027],\\n            [1, \u0027rgb(227,26,28)\u0027]],    \\nreversescale = False)\\n#_______________________\\nlayout = dict(title=\u0027Number of orders per country\u0027,\\ngeo = dict(showframe = True, projection={\u0027type\u0027:\u0027mercator\u0027}))\\n#______________\\nchoromap = go.Figure(data = [data], layout = layout)\\niplot(choromap, validate=False)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022a0a41461-7f22-4ca8-bc97-5aba4249dde7\u0022,\u0022_uuid\u0022:\u00227a29044f1d76c8fb064a3262f5877ab27673a836\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We see that the dataset is largely dominated by orders made from the UK.\\n\\n___\\n### 2.2 Customers and products\\n\\nThe dataframe contains $\\\\sim$400,000 entries. What are the number of users and products in these entries ?\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022677f103d-d199-480c-bca4-fc08f7aa2e92\u0022,\u0022_uuid\u0022:\u0022dc2f4b48b76615721e6718efbd31fcd3faf16bec\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pd.DataFrame([{\u0027products\u0027: len(df_initial[\u0027StockCode\u0027].value_counts()),    \\n               \u0027transactions\u0027: len(df_initial[\u0027InvoiceNo\u0027].value_counts()),\\n               \u0027customers\u0027: len(df_initial[\u0027CustomerID\u0027].value_counts()),  \\n              }], columns = [\u0027products\u0027, \u0027transactions\u0027, \u0027customers\u0027], index = [\u0027quantity\u0027])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002222a37aef-ac7c-4369-ac7e-14d4d221fb36\u0022,\u0022_uuid\u0022:\u00226aac31ab7152f883a9fe5f67624a75ba2d6111c2\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022It can be seen that the data concern 4372 users and that they bought 3684 different products. The total number of transactions carried out is of the order of $\\\\sim$22\u0027000.\\n\\nNow I will determine the number of products purchased in every transaction:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002272d6dede-4280-4afd-b61b-085ea8c73d67\u0022,\u0022_uuid\u0022:\u0022dd0d84bd4275a04e361b5b41924d11b7f6f2e9ff\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022temp = df_initial.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[\u0027InvoiceDate\u0027].count()\\nnb_products_per_basket = temp.rename(columns = {\u0027InvoiceDate\u0027:\u0027Number of products\u0027})\\nnb_products_per_basket[:10].sort_values(\u0027CustomerID\u0027)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022ac04f52f-3847-400b-abc8-2e04a4145ac8\u0022,\u0022_uuid\u0022:\u0022b4d634aa7a7a44548f5e20d4c84c9c5b16e3b5a7\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022The first lines of this list shows several things worthy of interest:\\n- the existence of entries with the prefix C for the **InvoiceNo** variable: this indicates transactions that have been canceled\\n- the existence of users who only came once and only purchased one product (e.g. nº12346)\\n- the existence of frequent users that buy a large number of items at each order\\n\\n___\\n#### 2.2.1 Cancelling orders\\n\\nFirst of all, I count the number of transactions corresponding to canceled orders:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00229b0e32d8-fc9c-4301-ac18-9c1d7cc5b54f\u0022,\u0022_uuid\u0022:\u0022076fba25ed8a2b38fddd83ff862fa21e7f790a11\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022nb_products_per_basket[\u0027order_canceled\u0027] = nb_products_per_basket[\u0027InvoiceNo\u0027].apply(lambda x:int(\u0027C\u0027 in x))\\ndisplay(nb_products_per_basket[:5])\\n#______________________________________________________________________________________________\\nn1 = nb_products_per_basket[\u0027order_canceled\u0027].sum()\\nn2 = nb_products_per_basket.shape[0]\\nprint(\u0027Number of orders canceled: {}/{} ({:.2f}%) \u0027.format(n1, n2, n1/n2*100))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00227f7e8633-b8c2-4c20-a4ad-7abccb17ae91\u0022,\u0022_uuid\u0022:\u00228bfcf5e4bf4dc23e54537f254605792677d3a6b4\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We note that the number of cancellations is quite large ($\\\\sim$16% of the total number of transactions).\\nNow, let\u0027s look at the first lines of the dataframe:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00222f985d42-e0b9-4281-8f30-43c2c13955b9\u0022,\u0022_uuid\u0022:\u002254f5b8a4bc832c1c396419223f43c41b9b0b27de\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022display(df_initial.sort_values(\u0027CustomerID\u0027)[:5])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002220b14506-af29-4cab-b864-889fc965038d\u0022,\u0022_uuid\u0022:\u0022ee086333ddbb28cb24784ef8a000f6d54607ceec\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022On these few lines, we see that when an order is canceled, we have another transactions in the dataframe, mostly identical except for the **Quantity** and **InvoiceDate** variables. I decide to check if this is true for all the entries.\\nTo do this, I decide to locate the entries that indicate a negative quantity and check if there is *systematically* an order indicating the same quantity (but positive), with the same description (**CustomerID**, **Description** and **UnitPrice**):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:false,\u0022_cell_guid\u0022:\u002206e26580-014e-432d-ab59-b5ceebb816cb\u0022,\u0022_uuid\u0022:\u0022b16ddfdd36696a4a92ba15acd387e7eca0757f31\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_check = df_initial[df_initial[\u0027Quantity\u0027] \u003c 0][[\u0027CustomerID\u0027,\u0027Quantity\u0027,\\n                                                   \u0027StockCode\u0027,\u0027Description\u0027,\u0027UnitPrice\u0027]]\\nfor index, col in  df_check.iterrows():\\n    if df_initial[(df_initial[\u0027CustomerID\u0027] == col[0]) \u0026 (df_initial[\u0027Quantity\u0027] == -col[1]) \\n                \u0026 (df_initial[\u0027Description\u0027] == col[2])].shape[0] == 0: \\n        print(df_check.loc[index])\\n        print(15*\u0027-\u0027+\u0027\u003e\u0027+\u0027 HYPOTHESIS NOT FULFILLED\u0027)\\n        break\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022e065546a-ff34-4caf-9abf-6384bcc918b9\u0022,\u0022collapsed\u0022:true,\u0022_uuid\u0022:\u002283d37e6f13986f01c0fbcc8ea4f46cdc175717c4\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We see that the initial hypothesis is not fulfilled because of the existence of a  \u0027_Discount_\u0027 entry. I check again the hypothesis but this time discarding the \u0027_Discount_\u0027 entries:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002250c6589e-4387-4a3e-a1ea-18bee5bb1dba\u0022,\u0022_uuid\u0022:\u00223b375d17a84505d71b20dbbc43124aa6597a2ef2\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_check = df_initial[(df_initial[\u0027Quantity\u0027] \u003c 0) \u0026 (df_initial[\u0027Description\u0027] != \u0027Discount\u0027)][\\n                                 [\u0027CustomerID\u0027,\u0027Quantity\u0027,\u0027StockCode\u0027,\\n                                  \u0027Description\u0027,\u0027UnitPrice\u0027]]\\n\\nfor index, col in  df_check.iterrows():\\n    if df_initial[(df_initial[\u0027CustomerID\u0027] == col[0]) \u0026 (df_initial[\u0027Quantity\u0027] == -col[1]) \\n                \u0026 (df_initial[\u0027Description\u0027] == col[2])].shape[0] == 0: \\n        print(index, df_check.loc[index])\\n        print(15*\u0027-\u0027+\u0027\u003e\u0027+\u0027 HYPOTHESIS NOT FULFILLED\u0027)\\n        break\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022b232cb1a-9e6c-4b7f-a5de-20ba11fba831\u0022,\u0022_uuid\u0022:\u0022dc9557049aa783c30121902d359f57204e7de83b\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Once more, we find that the initial hypothesis is not verified. Hence, cancellations do not necessarily correspond to orders that would have been made beforehand.\\n\\nAt this point, I decide to create a new variable in the dataframe that indicate if part of the command has been canceled. For the cancellations without counterparts, a few of them are probably due to the fact that the buy orders were  performed before December 2010 (the point of entry of the database). Below, I make a census of the cancel orders and check for the existence of counterparts:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022af540729-739b-45b3-858f-f1facf9f8ae6\u0022,\u0022_uuid\u0022:\u00226f5c10794e09eb3d0dc83889d74b2029d6d24756\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_cleaned = df_initial.copy(deep = True)\\ndf_cleaned[\u0027QuantityCanceled\u0027] = 0\\n\\nentry_to_remove = [] ; doubtfull_entry = []\\n\\nfor index, col in  df_initial.iterrows():\\n    if (col[\u0027Quantity\u0027] \u003e 0) or col[\u0027Description\u0027] == \u0027Discount\u0027: continue        \\n    df_test = df_initial[(df_initial[\u0027CustomerID\u0027] == col[\u0027CustomerID\u0027]) \u0026\\n                         (df_initial[\u0027StockCode\u0027]  == col[\u0027StockCode\u0027]) \u0026 \\n                         (df_initial[\u0027InvoiceDate\u0027] \u003c col[\u0027InvoiceDate\u0027]) \u0026 \\n                         (df_initial[\u0027Quantity\u0027]   \u003e 0)].copy()\\n    #_________________________________\\n    # Cancelation WITHOUT counterpart\\n    if (df_test.shape[0] == 0): \\n        doubtfull_entry.append(index)\\n    #________________________________\\n    # Cancelation WITH a counterpart\\n    elif (df_test.shape[0] == 1): \\n        index_order = df_test.index[0]\\n        df_cleaned.loc[index_order, \u0027QuantityCanceled\u0027] = -col[\u0027Quantity\u0027]\\n        entry_to_remove.append(index)        \\n    #______________________________________________________________\\n    # Various counterparts exist in orders: we delete the last one\\n    elif (df_test.shape[0] \u003e 1): \\n        df_test.sort_index(axis=0 ,ascending=False, inplace = True)        \\n        for ind, val in df_test.iterrows():\\n            if val[\u0027Quantity\u0027] \u003c -col[\u0027Quantity\u0027]: continue\\n            df_cleaned.loc[ind, \u0027QuantityCanceled\u0027] = -col[\u0027Quantity\u0027]\\n            entry_to_remove.append(index) \\n            break            \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002212036cff-e84f-462f-9e86-adcebe689f9e\u0022,\u0022_uuid\u0022:\u00224203ea85f7c6a8e23771d2996ece331b2a8828aa\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In the above function, I checked the two cases:\\n1. a cancel order exists without counterpart\\n2. there\u0027s at least one counterpart with the exact same quantity\\n\\nThe index of the corresponding cancel order are respectively kept in the `doubtfull_entry` and `entry_to_remove` lists whose sizes are:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f1d3a68d-fa59-4671-8be1-cdbb646ce13f\u0022,\u0022_uuid\u0022:\u0022d98a0917de35db7afe31c69c324cd32e934edd52\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022print(\\\u0022entry_to_remove: {}\\\u0022.format(len(entry_to_remove)))\\nprint(\\\u0022doubtfull_entry: {}\\\u0022.format(len(doubtfull_entry)))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002208834967-7eb6-4972-8dd1-7c985037207f\u0022,\u0022_uuid\u0022:\u002241d331ab413c1a28adcf49f83dbb5600dec75a34\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Among these entries, the lines listed in the * doubtfull_entry * list correspond to the entries indicating a cancellation but for which there is no command beforehand. In practice, I decide to delete all of these entries, which count respectively for  $\\\\sim$1.4% and 0.2% of the dataframe entries.\\n\\nNow I check the number of entries that correspond to cancellations and that have not been deleted with the previous filter:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002250f6c074-08cc-4c55-8285-d674d0d84b45\u0022,\u0022_uuid\u0022:\u0022c523275748742927f689725305e90ae6fdeb4136\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_cleaned.drop(entry_to_remove, axis = 0, inplace = True)\\ndf_cleaned.drop(doubtfull_entry, axis = 0, inplace = True)\\nremaining_entries = df_cleaned[(df_cleaned[\u0027Quantity\u0027] \u003c 0) \u0026 (df_cleaned[\u0027StockCode\u0027] != \u0027D\u0027)]\\nprint(\\\u0022nb of entries to delete: {}\\\u0022.format(remaining_entries.shape[0]))\\nremaining_entries[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022b7236f60-519c-47b3-a48a-90c90a8a0d99\u0022,\u0022_uuid\u0022:\u00227de45401e2c874a5b35601d2d678fe21099c0c9c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022If one looks, for example, at the purchases of the consumer of one of the above entries and corresponding to the same product as that of the cancellation, one observes:\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002286494812-a35a-49a8-a80d-5b2ef3b0913f\u0022,\u0022_uuid\u0022:\u00225ded98b83a85e0fd038b1a5c5edb67d7773d41ee\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_cleaned[(df_cleaned[\u0027CustomerID\u0027] == 14048) \u0026 (df_cleaned[\u0027StockCode\u0027] == \u002722464\u0027)]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022840a05b8-da31-4a61-ba85-d26050ea7224\u0022,\u0022_uuid\u0022:\u0022ecf714d564214e6614fb604566b14d60e174a076\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We see that the quantity canceled is greater than the sum of the previous purchases.\\n___\\n#### 2.2.2 StockCode\\n\\nAbove, it has been seen that some values of the ** StockCode ** variable indicate a particular transaction (i.e. D for _Discount_). I check the contents of this variable by looking for the set of codes that would contain only letters:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022e00212c8-5c1e-4dda-a392-cbc68c1964b1\u0022,\u0022_uuid\u0022:\u002257e546917a0ea9a59a0e1dc3e0f9179c7efa66b5\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022list_special_codes = df_cleaned[df_cleaned[\u0027StockCode\u0027].str.contains(\u0027^[a-zA-Z]+\u0027, regex=True)][\u0027StockCode\u0027].unique()\\nlist_special_codes\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00220a225335-7d6e-4c5b-a874-801e3f329f10\u0022,\u0022_uuid\u0022:\u0022ce078be30fea360c161b449a8cb666d98808e936\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022for code in list_special_codes:\\n    print(\\\u0022{:\u003c15} -\u003e {:\u003c30}\\\u0022.format(code, df_cleaned[df_cleaned[\u0027StockCode\u0027] == code][\u0027Description\u0027].unique()[0]))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022bc5a1aa1-9861-4f24-a40d-8a989412c9b9\u0022,\u0022_uuid\u0022:\u0022d4cf73dade342afadb96645a654171064c0426ba\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We see that there are several types of peculiar transactions, connected e.g. to port charges or bank charges.\\n\\n\\n___\\n#### 2.2.3 Basket Price\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022d6fb4195-7261-4a24-852c-c69ca70b8575\u0022,\u0022_uuid\u0022:\u00227c55e84eca46fad51da589f165775174dbc49d90\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022I create a new variable that indicates the total price of every purchase:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00223cbf20c0-0a44-49dc-96c3-ffd5455ddf0b\u0022,\u0022_uuid\u0022:\u00225f070241e41d989ed3de0769d9f35f330d086415\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_cleaned[\u0027TotalPrice\u0027] = df_cleaned[\u0027UnitPrice\u0027] * (df_cleaned[\u0027Quantity\u0027] - df_cleaned[\u0027QuantityCanceled\u0027])\\ndf_cleaned.sort_values(\u0027CustomerID\u0027)[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022e08daf34-d2ad-48fd-b9e4-066571a21a9e\u0022,\u0022_uuid\u0022:\u0022fc8d7023bde00aa28d265f3c2c8ff62b0010ae58\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Each entry of the dataframe indicates prizes for a single kind of product. Hence, orders are split on several lines. I collect all the purchases made during a single order to recover the total order prize:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00225e4530b2-addf-4dc7-9ca8-065c26b73023\u0022,\u0022_uuid\u0022:\u0022653fd7be2e985cf4578af4306f40948926fb60b3\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#___________________________________________\\n# somme des achats / utilisateur \u0026 commande\\ntemp = df_cleaned.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[\u0027TotalPrice\u0027].sum()\\nbasket_price = temp.rename(columns = {\u0027TotalPrice\u0027:\u0027Basket Price\u0027})\\n#_____________________\\n# date de la commande\\ndf_cleaned[\u0027InvoiceDate_int\u0027] = df_cleaned[\u0027InvoiceDate\u0027].astype(\u0027int64\u0027)\\ntemp = df_cleaned.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[\u0027InvoiceDate_int\u0027].mean()\\ndf_cleaned.drop(\u0027InvoiceDate_int\u0027, axis = 1, inplace = True)\\nbasket_price.loc[:, \u0027InvoiceDate\u0027] = pd.to_datetime(temp[\u0027InvoiceDate_int\u0027])\\n#______________________________________\\n# selection des entrées significatives:\\nbasket_price = basket_price[basket_price[\u0027Basket Price\u0027] \u003e 0]\\nbasket_price.sort_values(\u0027CustomerID\u0027)[:6]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002225044f79-9cef-464a-9b7c-59eec5dac316\u0022,\u0022_uuid\u0022:\u00222365eaa0e1a3d4d505f7261c8139e04f276301eb\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In order to have a global view of the type of order performed in this dataset, I determine how the purchases are divided according to total prizes:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002225f72313-bc56-4a10-99b1-243f147b1756\u0022,\u0022_uuid\u0022:\u0022b1b30be7aa80d7a5287e6fd783b5d8cdbff4032d\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#____________________\\n# Décompte des achats\\nprice_range = [0, 50, 100, 200, 500, 1000, 5000, 50000]\\ncount_price = []\\nfor i, price in enumerate(price_range):\\n    if i == 0: continue\\n    val = basket_price[(basket_price[\u0027Basket Price\u0027] \u003c price) \u0026\\n                       (basket_price[\u0027Basket Price\u0027] \u003e price_range[i-1])][\u0027Basket Price\u0027].count()\\n    count_price.append(val)\\n#____________________________________________\\n# Représentation du nombre d\u0027achats / montant        \\nplt.rc(\u0027font\u0027, weight=\u0027bold\u0027)\\nf, ax = plt.subplots(figsize=(11, 6))\\ncolors = [\u0027yellowgreen\u0027, \u0027gold\u0027, \u0027wheat\u0027, \u0027c\u0027, \u0027violet\u0027, \u0027royalblue\u0027,\u0027firebrick\u0027]\\nlabels = [ \u0027{}\u003c.\u003c{}\u0027.format(price_range[i-1], s) for i,s in enumerate(price_range) if i != 0]\\nsizes  = count_price\\nexplode = [0.0 if sizes[i] \u003c 100 else 0.0 for i in range(len(sizes))]\\nax.pie(sizes, explode = explode, labels=labels, colors = colors,\\n       autopct = lambda x:\u0027{:1.0f}%\u0027.format(x) if x \u003e 1 else \u0027\u0027,\\n       shadow = False, startangle=0)\\nax.axis(\u0027equal\u0027)\\nf.text(0.5, 1.01, \\\u0022Répartition des montants des commandes\\\u0022, ha=\u0027center\u0027, fontsize = 18);\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002281a3ca3c-32f5-4f57-aa54-182d779a5cba\u0022,\u0022_uuid\u0022:\u00224864a5c03f9a66bff72599c2ff348157e53c4d7c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022It can be seen that the vast majority of orders concern relatively large purchases given that $\\\\sim$65% of purchases give prizes in excess of £ 200.\\n\\n____\\n## 3. Insight on product categories\\n\\nIn the dataframe, products are uniquely identified through the **StockCode** variable. A shrort description of the products is given in the **Description** variable. In this section, I intend to use the content of this latter variable in order to group the products into different categories.\\n\\n___\\n### 3.1 Products Description\\n\\nAs a first step, I extract from the **Description** variable the information that will prove useful. To do this, I use the following function:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002262aada7f-1d61-493e-a044-08fcc7bdfb81\u0022,\u0022_uuid\u0022:\u00224ae364672f6cede623fd0e032e34d967e4f32ee1\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022is_noun = lambda pos: pos[:2] == \u0027NN\u0027\\n\\ndef keywords_inventory(dataframe, colonne = \u0027Description\u0027):\\n    stemmer = nltk.stem.SnowballStemmer(\\\u0022english\\\u0022)\\n    keywords_roots  = dict()  # collect the words / root\\n    keywords_select = dict()  # association: root \u003c-\u003e keyword\\n    category_keys   = []\\n    count_keywords  = dict()\\n    icount = 0\\n    for s in dataframe[colonne]:\\n        if pd.isnull(s): continue\\n        lines = s.lower()\\n        tokenized = nltk.word_tokenize(lines)\\n        nouns = [word for (word, pos) in nltk.pos_tag(tokenized) if is_noun(pos)] \\n        \\n        for t in nouns:\\n            t = t.lower() ; racine = stemmer.stem(t)\\n            if racine in keywords_roots:                \\n                keywords_roots[racine].add(t)\\n                count_keywords[racine] += 1                \\n            else:\\n                keywords_roots[racine] = {t}\\n                count_keywords[racine] = 1\\n    \\n    for s in keywords_roots.keys():\\n        if len(keywords_roots[s]) \u003e 1:  \\n            min_length = 1000\\n            for k in keywords_roots[s]:\\n                if len(k) \u003c min_length:\\n                    clef = k ; min_length = len(k)            \\n            category_keys.append(clef)\\n            keywords_select[s] = clef\\n        else:\\n            category_keys.append(list(keywords_roots[s])[0])\\n            keywords_select[s] = list(keywords_roots[s])[0]\\n                   \\n    print(\\\u0022Nb of keywords in variable \u0027{}\u0027: {}\\\u0022.format(colonne,len(category_keys)))\\n    return category_keys, keywords_roots, keywords_select, count_keywords\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022309b7a7d-7643-42b1-a31a-7d89ee7599fb\u0022,\u0022_uuid\u0022:\u00226b0912baaab28d1f50a54dc5300c3391aa676424\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022This function takes as input the dataframe and analyzes the content of the **Description** column by performing the following operations:\\n\\n- extract the names (proper, common) appearing in the products description\\n- for each name, I extract the root of the word and aggregate the set of names associated with this particular root\\n- count the number of times each root appears in the dataframe\\n- when several words are listed for the same root, I consider that the keyword associated with this root is the shortest name (this systematically selects the singular when there are singular/plural variants)\\n\\nThe first step of the analysis is to retrieve the list of products:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f4da3052-c465-47bf-9652-a10a8ac51eb6\u0022,\u0022_uuid\u0022:\u00221239a65ae122b1c020db626e5167451a950d8226\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022df_produits = pd.DataFrame(df_initial[\u0027Description\u0027].unique()).rename(columns = {0:\u0027Description\u0027})\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002299e7be34-0776-4834-8563-a3921307eca8\u0022,\u0022_uuid\u0022:\u00222c928de8c651e41413c0196efda0b6f71cd26993\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Once this list is created, I use the function I previously defined in order to analyze the description of the various products:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f52a4134-c9c7-4d17-8510-8f55b1530cbb\u0022,\u0022_uuid\u0022:\u002238c4872616b2c40bf69982070165cc9db3d0ea69\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022keywords, keywords_roots, keywords_select, count_keywords = keywords_inventory(df_produits)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022e05fb8ef-6735-4a62-9161-8bd11f34ba1f\u0022,\u0022_uuid\u0022:\u00225d664ec4f8c3239f9bf2f4f8ab6a2ec6bfd46edb\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022The execution of this function returns three variables:\\n- `keywords`: the list of extracted keywords\\n- `keywords_roots`: a dictionary where the keys are the keywords roots and the values are the lists of words associated with those roots\\n- `count_keywords`: dictionary listing the number of times every word is used\\n\\nAt this point, I convert the `count_keywords` dictionary into a list, to sort the keywords according to their occurences:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022e033781a-8038-4302-93ed-78966554b7cc\u0022,\u0022_uuid\u0022:\u002266fb955b137916f16d838f95a6f5bbe5e4952334\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022list_products = []\\nfor k,v in count_keywords.items():\\n    list_products.append([keywords_select[k],v])\\nlist_products.sort(key = lambda x:x[1], reverse = True)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002219e873fa-7863-40a5-ac2b-459e5fb0e3c1\u0022,\u0022_uuid\u0022:\u002241cecbbaa4d5d5ced22d0151edb4cfa5cc8da179\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Using it, I create a representation of the most common keywords:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022d6c78812-343e-41af-8e4e-ef0292dc4f7e\u0022,\u0022_uuid\u0022:\u0022fcdf4d98e372a1d65c931b7a6d5c29f269938022\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022liste = sorted(list_products, key = lambda x:x[1], reverse = True)\\n#_______________________________\\nplt.rc(\u0027font\u0027, weight=\u0027normal\u0027)\\nfig, ax = plt.subplots(figsize=(7, 25))\\ny_axis = [i[1] for i in liste[:125]]\\nx_axis = [k for k,i in enumerate(liste[:125])]\\nx_label = [i[0] for i in liste[:125]]\\nplt.xticks(fontsize = 15)\\nplt.yticks(fontsize = 13)\\nplt.yticks(x_axis, x_label)\\nplt.xlabel(\\\u0022Nb. of occurences\\\u0022, fontsize = 18, labelpad = 10)\\nax.barh(x_axis, y_axis, align = \u0027center\u0027)\\nax = plt.gca()\\nax.invert_yaxis()\\n#_______________________________________________________________________________________\\nplt.title(\\\u0022Words occurence\\\u0022,bbox={\u0027facecolor\u0027:\u0027k\u0027, \u0027pad\u0027:5}, color=\u0027w\u0027,fontsize = 25)\\nplt.show()\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022e4170374-92b0-4063-9962-a80d36911891\u0022,\u0022_uuid\u0022:\u00229308d23b2ccc25eb87f324f0da0616d768340739\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n### 3.2 Defining product categories \u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022ba5e6966-49e7-4a3d-84cf-9fe809e8315b\u0022,\u0022_uuid\u0022:\u00225f375df32988b2bb559c77ad5c8d244472ae39f4\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022The list that was obtained contains more than 1400 keywords and the most frequent ones appear in more than 200 products. However, while examinating the content of the list, I note that some names are useless. Others are do not carry information, like colors. Therefore, I discard these words from the analysis that follows and also, I decide to consider only the words that appear more than 13 times.\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002243300478-3b5a-4c7a-9466-34c384ccae60\u0022,\u0022_uuid\u0022:\u00225f42482995f36f15688d8cba7f903e1277da5f92\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022list_products = []\\nfor k,v in count_keywords.items():\\n    word = keywords_select[k]\\n    if word in [\u0027pink\u0027, \u0027blue\u0027, \u0027tag\u0027, \u0027green\u0027, \u0027orange\u0027]: continue\\n    if len(word) \u003c 3 or v \u003c 13: continue\\n    if (\u0027+\u0027 in word) or (\u0027/\u0027 in word): continue\\n    list_products.append([word, v])\\n#______________________________________________________    \\nlist_products.sort(key = lambda x:x[1], reverse = True)\\nprint(\u0027mots conservés:\u0027, len(list_products))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002268fa97e5-a7c6-4d65-8da6-8fddff742991\u0022,\u0022_uuid\u0022:\u0022fb4589b360ac2ebefebb66f710a6ba757c0ea203\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022____\\n#### 3.2.1 Data encoding\\n\\nNow I will use these keywords to create groups of product. Firstly, I define the $X$ matrix as:\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002253f64d8a-69f2-4151-9b1f-4ea7ec3543e9\u0022,\u0022_uuid\u0022:\u002272e6253ce03dcc5a6dc55c3795d015554378ff6e\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022   \\n|   | mot 1  |  ...  | mot j  | ...  | mot N  |\\n|:-:|---|---|---|---|---|\\n| produit 1  | $a_{1,1}$  |     |   |   | $a_{1,N}$  |\\n| ...        |            |     | ...  |   |   |\\n|produit i   |    ...     |     | $a_{i,j}$    |   | ...  |\\n|...         |            |     |  ... |   |   |\\n| produit M  | $a_{M,1}$  |     |   |   | $a_{M,N}$   |\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00223879eff1-3a5e-480e-ac71-3ec4522d83f6\u0022,\u0022_uuid\u0022:\u002253e086f7d5b756c4f8e59e73b85029c9c807e079\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022where the $a_ {i, j}$ coefficient  is 1 if the description of the product $i$ contains the word $j$, and 0 otherwise.\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002223c77363-438b-4694-9b52-960c0ab3aa82\u0022,\u0022_uuid\u0022:\u0022d6faac7eb01d2251fb221569b75e007c8d5146aa\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022liste_produits = df_cleaned[\u0027Description\u0027].unique()\\nX = pd.DataFrame()\\nfor key, occurence in list_products:\\n    X.loc[:, key] = list(map(lambda x:int(key.upper() in x), liste_produits))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002236f23fa9-72a3-4b71-a76a-5cf2ff57b7ae\u0022,\u0022_uuid\u0022:\u0022378466327c5da8166c75812b43057b119b46e0f9\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022The $X$ matrix indicates the words contained in the description of the products using the *one-hot-encoding* principle. In practice, I have found that introducing the price range results in more balanced groups in terms of element numbers.\\nHence, I add 6 extra columns to this matrix, where I indicate the price range of the products:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022739c9cb1-3278-4d3a-a412-25dd2e8bc7c4\u0022,\u0022_uuid\u0022:\u0022b26a6bc55b61d0bcaccaf7c303b90d2a04636ac4\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022threshold = [0, 1, 2, 3, 5, 10]\\nlabel_col = []\\nfor i in range(len(threshold)):\\n    if i == len(threshold)-1:\\n        col = \u0027.\u003e{}\u0027.format(threshold[i])\\n    else:\\n        col = \u0027{}\u003c.\u003c{}\u0027.format(threshold[i],threshold[i+1])\\n    label_col.append(col)\\n    X.loc[:, col] = 0\\n\\nfor i, prod in enumerate(liste_produits):\\n    prix = df_cleaned[ df_cleaned[\u0027Description\u0027] == prod][\u0027UnitPrice\u0027].mean()\\n    j = 0\\n    while prix \u003e threshold[j]:\\n        j+=1\\n        if j == len(threshold): break\\n    X.loc[i, label_col[j-1]] = 1\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00225c1ac4b1-3bfa-4aac-8329-d5d923f7d08d\u0022,\u0022_uuid\u0022:\u0022d6551f396773df6fbf7a49a9985583d20e6a58be\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and to choose the appropriate ranges, I check the number of products in the different groups:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00228587b9a3-d3a6-41ed-ac8a-9e0cdc9af31e\u0022,\u0022_uuid\u0022:\u00226ad9fc6ed72057c63594d9d97d89742202f064f7\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022print(\\\u0022{:\u003c8} {:\u003c20} \\\\n\\\u0022.format(\u0027gamme\u0027, \u0027nb. produits\u0027) + 20*\u0027-\u0027)\\nfor i in range(len(threshold)):\\n    if i == len(threshold)-1:\\n        col = \u0027.\u003e{}\u0027.format(threshold[i])\\n    else:\\n        col = \u0027{}\u003c.\u003c{}\u0027.format(threshold[i],threshold[i+1])    \\n    print(\\\u0022{:\u003c10}  {:\u003c20}\\\u0022.format(col, X.loc[:, col].sum()))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022026d2968-dbd2-46c4-bc39-24c147febb0b\u0022,\u0022_uuid\u0022:\u002286e19d385e6849a17b262b627028e5aad7575b28\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022____\\n#### 3.2.2 Creating clusters of products\\n\\nIn this section, I will group the products into different classes. In the case of matrices with binary encoding, the most suitable metric for the calculation of distances is the [Hamming\u0027s metric](https://en.wikipedia.org/wiki/Distance_de_Hamming). Note that the **kmeans** method of sklearn uses a Euclidean distance that can be used, but it is not to the best choice in the case of categorical variables. However, in order to use the Hamming\u0027s metric, we need to use the [kmodes](https://pypi.python.org/pypi/kmodes/) package which is not available on the current plateform. Hence, I use the **kmeans** method even if this is not the best choice.\\n\\nIn order to define (approximately) the number of clusters that best represents the data, I use the silhouette score:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00221c81a7c3-8980-4941-9082-7bf5cf92fc14\u0022,\u0022_uuid\u0022:\u00224ce8586584935e81b9e403ea7a1dd4b2e4c9992e\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022matrix = X.as_matrix()\\nfor n_clusters in range(3,10):\\n    kmeans = KMeans(init=\u0027k-means++\u0027, n_clusters = n_clusters, n_init=30)\\n    kmeans.fit(matrix)\\n    clusters = kmeans.predict(matrix)\\n    silhouette_avg = silhouette_score(matrix, clusters)\\n    print(\\\u0022For n_clusters =\\\u0022, n_clusters, \\\u0022The average silhouette_score is :\\\u0022, silhouette_avg)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022bc57a3e3-9560-47bb-8eb3-3fb1d31f7ad4\u0022,\u0022_uuid\u0022:\u00226dc86eefc7a90409489f87051c3b33e8cb95ac0a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In practice, the scores obtained above can be considered equivalent since, depending on the run, scores of $ 0.1 \\\\pm 0.05 $ will be obtained for all clusters with `n_clusters` $\u003e $ 3 (we obtain slightly lower scores for the first cluster). On the other hand, I found that beyond 5 clusters, some clusters contained very few elements. I therefore choose to separate the dataset into 5 clusters. In order to ensure a good classification at every run of the notebook, I iterate untill we obtain the best possible silhouette score, which is, in the present case, around 0.15:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022b29b3bb2-ef8d-4d7f-a19e-52045018ab8e\u0022,\u0022_uuid\u0022:\u002272dd5bdab528264518bf034b84f66f3c29500fca\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022n_clusters = 5\\nsilhouette_avg = -1\\nwhile silhouette_avg \u003c 0.145:\\n    kmeans = KMeans(init=\u0027k-means++\u0027, n_clusters = n_clusters, n_init=30)\\n    kmeans.fit(matrix)\\n    clusters = kmeans.predict(matrix)\\n    silhouette_avg = silhouette_score(matrix, clusters)\\n    \\n    #km = kmodes.KModes(n_clusters = n_clusters, init=\u0027Huang\u0027, n_init=2, verbose=0)\\n    #clusters = km.fit_predict(matrix)\\n    #silhouette_avg = silhouette_score(matrix, clusters)\\n    print(\\\u0022For n_clusters =\\\u0022, n_clusters, \\\u0022The average silhouette_score is :\\\u0022, silhouette_avg)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00221f146c21-7d21-46d4-95f1-a788041957a0\u0022,\u0022_uuid\u0022:\u0022d211d2cc238a1d019469ba922081df9383b91d68\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n#### 3.2.3  Characterizing the content of clusters\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022ac1facaf-0be9-412d-bddf-cae0e920bd33\u0022,\u0022_uuid\u0022:\u0022f793937b3c3c83bc14af54d1d00543a2af26034a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022I check the number of elements in every class:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022ad66161e-87ba-42ca-8128-bda16b470a34\u0022,\u0022_uuid\u0022:\u002283591dd72975afde6a85d70429add02bd278c125\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pd.Series(clusters).value_counts()\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022f5e26953-89a2-4f19-92a2-afaaa2c71e94\u0022,\u0022_uuid\u0022:\u00223f463103c3107547c46e737a6bf44875b628f4eb\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022\\n** a / _Silhouette intra-cluster score_ **\\n\\nIn order to have an insight on the quality of the classification, we can represent the silhouette scores of each element of the different clusters. This is the purpose of the next figure which is taken from the [sklearn documentation](http://scikit-learn.org/stable/auto_examples/cluster/plot_kmeans_silhouette_analysis.html):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022c2b26710-2269-47e5-8f0d-98f6eac0015a\u0022,\u0022_uuid\u0022:\u0022e9e48bbbc3bb0ffa8134175aefb1fe808dea33e8\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022def graph_component_silhouette(n_clusters, lim_x, mat_size, sample_silhouette_values, clusters):\\n    plt.rcParams[\\\u0022patch.force_edgecolor\\\u0022] = True\\n    plt.style.use(\u0027fivethirtyeight\u0027)\\n    mpl.rc(\u0027patch\u0027, edgecolor = \u0027dimgray\u0027, linewidth=1)\\n    #____________________________\\n    fig, ax1 = plt.subplots(1, 1)\\n    fig.set_size_inches(8, 8)\\n    ax1.set_xlim([lim_x[0], lim_x[1]])\\n    ax1.set_ylim([0, mat_size + (n_clusters + 1) * 10])\\n    y_lower = 10\\n    for i in range(n_clusters):\\n        #___________________________________________________________________________________\\n        # Aggregate the silhouette scores for samples belonging to cluster i, and sort them\\n        ith_cluster_silhouette_values = sample_silhouette_values[clusters == i]\\n        ith_cluster_silhouette_values.sort()\\n        size_cluster_i = ith_cluster_silhouette_values.shape[0]\\n        y_upper = y_lower + size_cluster_i\\n        cmap = cm.get_cmap(\\\u0022Spectral\\\u0022)\\n        color = cmap(float(i) / n_clusters)        \\n        ax1.fill_betweenx(np.arange(y_lower, y_upper), 0, ith_cluster_silhouette_values,\\n                           facecolor=color, edgecolor=color, alpha=0.8)\\n        #____________________________________________________________________\\n        # Label the silhouette plots with their cluster numbers at the middle\\n        ax1.text(-0.03, y_lower + 0.5 * size_cluster_i, str(i), color = \u0027red\u0027, fontweight = \u0027bold\u0027,\\n                bbox=dict(facecolor=\u0027white\u0027, edgecolor=\u0027black\u0027, boxstyle=\u0027round, pad=0.3\u0027))\\n        #______________________________________\\n        # Compute the new y_lower for next plot\\n        y_lower = y_upper + 10  \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00228ee417cb-29d9-4913-8e12-0c020ecde059\u0022,\u0022_uuid\u0022:\u0022cf9b40ed0d865401e4a05e06eec2bff97ace7059\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#____________________________________\\n# define individual silouhette scores\\nsample_silhouette_values = silhouette_samples(matrix, clusters)\\n#__________________\\n# and do the graph\\ngraph_component_silhouette(n_clusters, [-0.07, 0.33], len(X), sample_silhouette_values, clusters)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002224c08c3e-d642-4482-b86f-f5c85cbed038\u0022,\u0022_uuid\u0022:\u00226662f37da64de5d5951efa1c8f0bd9409ab6e9b4\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022** b/ _Word Cloud_**\\n\\nNow we can have a look at the type of objects that each cluster represents. In order to obtain a global view of their contents, I determine which keywords are the most frequent in each of them\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022159600b4-def2-4e4d-be54-6d84938721c4\u0022,\u0022_uuid\u0022:\u0022848009ae647f20366e148eeae96a4aa02f975618\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022liste = pd.DataFrame(liste_produits)\\nliste_words = [word for (word, occurence) in list_products]\\n\\noccurence = [dict() for _ in range(n_clusters)]\\n\\nfor i in range(n_clusters):\\n    liste_cluster = liste.loc[clusters == i]\\n    for word in liste_words:\\n        if word in [\u0027art\u0027, \u0027set\u0027, \u0027heart\u0027, \u0027pink\u0027, \u0027blue\u0027, \u0027tag\u0027]: continue\\n        occurence[i][word] = sum(liste_cluster.loc[:, 0].str.contains(word.upper()))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022503ecb33-ba25-4dc0-af23-85a3d4d6881c\u0022,\u0022_uuid\u0022:\u00226ed38b6e18be3733ed34d043c67ad03e65c38192\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and I output the result as wordclouds:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00222995e126-925b-436f-8b68-55d874637b1e\u0022,\u0022_uuid\u0022:\u00223d88a32f7998249ce42e267bb912acc7420f0c47\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#________________________________________________________________________\\ndef random_color_func(word=None, font_size=None, position=None,\\n                      orientation=None, font_path=None, random_state=None):\\n    h = int(360.0 * tone / 255.0)\\n    s = int(100.0 * 255.0 / 255.0)\\n    l = int(100.0 * float(random_state.randint(70, 120)) / 255.0)\\n    return \\\u0022hsl({}, {}%, {}%)\\\u0022.format(h, s, l)\\n#________________________________________________________________________\\ndef make_wordcloud(liste, increment):\\n    ax1 = fig.add_subplot(4,2,increment)\\n    words = dict()\\n    trunc_occurences = liste[0:150]\\n    for s in trunc_occurences:\\n        words[s[0]] = s[1]\\n    #________________________________________________________\\n    wordcloud = WordCloud(width=1000,height=400, background_color=\u0027lightgrey\u0027, \\n                          max_words=1628,relative_scaling=1,\\n                          color_func = random_color_func,\\n                          normalize_plurals=False)\\n    wordcloud.generate_from_frequencies(words)\\n    ax1.imshow(wordcloud, interpolation=\\\u0022bilinear\\\u0022)\\n    ax1.axis(\u0027off\u0027)\\n    plt.title(\u0027cluster nº{}\u0027.format(increment-1))\\n#________________________________________________________________________\\nfig = plt.figure(1, figsize=(14,14))\\ncolor = [0, 160, 130, 95, 280, 40, 330, 110, 25]\\nfor i in range(n_clusters):\\n    list_cluster_occurences = occurence[i]\\n\\n    tone = color[i] # define the color of the words\\n    liste = []\\n    for key, value in list_cluster_occurences.items():\\n        liste.append([key, value])\\n    liste.sort(key = lambda x:x[1], reverse = True)\\n    make_wordcloud(liste, i+1)            \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022aa8f400a-297d-4b1c-944c-8b09b6ed5744\u0022,\u0022_uuid\u0022:\u00227e14b7478f0ffddb1739678a1df8d0f6de254749\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022From this representation, we can see that for example, one of the clusters contains objects that could be associated with gifts (keywords: Christmas, packaging, card, ...). Another cluster would rather contain luxury items and jewelry (keywords: necklace, bracelet, lace, silver, ...). Nevertheless, it can also be observed that many words appear in various clusters and it is therefore difficult to clearly distinguish them.\\n\\n** c / _Principal Component Analysis_ **\\n\\nIn order to ensure that these clusters are truly distinct, I look at their composition. Given the large number of variables of the initial matrix, I first perform a PCA:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002285af75c5-bf90-4b8c-9687-caff723d0027\u0022,\u0022_uuid\u0022:\u002233859d205bcf40477d166b679fb97996ba2d5f48\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pca = PCA()\\npca.fit(matrix)\\npca_samples = pca.transform(matrix)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00224fdb1e57-76c2-44da-8d35-a6dceac628f8\u0022,\u0022_uuid\u0022:\u002258675f9176ee5121d7f22605feea4d983c4ea9b4\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and then check for the amount of variance explained by each component:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002241cd8738-4923-43cd-b26a-fba6d53070e8\u0022,\u0022_uuid\u0022:\u0022abce52d76e801aa6197603925618fb032aec78af\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022fig, ax = plt.subplots(figsize=(14, 5))\\nsns.set(font_scale=1)\\nplt.step(range(matrix.shape[1]), pca.explained_variance_ratio_.cumsum(), where=\u0027mid\u0027,\\n         label=\u0027cumulative explained variance\u0027)\\nsns.barplot(np.arange(1,matrix.shape[1]+1), pca.explained_variance_ratio_, alpha=0.5, color = \u0027g\u0027,\\n            label=\u0027individual explained variance\u0027)\\nplt.xlim(0, 100)\\n\\nax.set_xticklabels([s if int(s.get_text())%2 == 0 else \u0027\u0027 for s in ax.get_xticklabels()])\\n\\nplt.ylabel(\u0027Explained variance\u0027, fontsize = 14)\\nplt.xlabel(\u0027Principal components\u0027, fontsize = 14)\\nplt.legend(loc=\u0027upper left\u0027, fontsize = 13);\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002229b5ae8a-7430-47b6-a4cd-991dbb3073ca\u0022,\u0022_uuid\u0022:\u0022159540979f024ddac04749daace71e737fc558a1\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022We see that the number of components required to explain the data is extremely important: we need more than 100 components to explain 90% of the variance of the data. In practice, I decide to keep only a limited number of components since this decomposition is only performed to visualize the data:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00220e49b019-d1b7-4815-8c5e-7cf27fa5b5b2\u0022,\u0022_uuid\u0022:\u0022fb0afe8523c2634860fdaf67d734c1dc0897c4c0\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pca = PCA(n_components=50)\\nmatrix_9D = pca.fit_transform(matrix)\\nmat = pd.DataFrame(matrix_9D)\\nmat[\u0027cluster\u0027] = pd.Series(clusters)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022675cc670-4512-4983-8b58-e82f3cf2bf3d\u0022,\u0022_uuid\u0022:\u0022b9d872fa5038458f3424dfc585a5a823efc7ff7f\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022import matplotlib.patches as mpatches\\n\\nsns.set_style(\\\u0022white\\\u0022)\\nsns.set_context(\\\u0022notebook\\\u0022, font_scale=1, rc={\\\u0022lines.linewidth\\\u0022: 2.5})\\n\\nLABEL_COLOR_MAP = {0:\u0027r\u0027, 1:\u0027gold\u0027, 2:\u0027b\u0027, 3:\u0027k\u0027, 4:\u0027c\u0027, 5:\u0027g\u0027}\\nlabel_color = [LABEL_COLOR_MAP[l] for l in mat[\u0027cluster\u0027]]\\n\\nfig = plt.figure(figsize = (15,8))\\nincrement = 0\\nfor ix in range(4):\\n    for iy in range(ix+1, 4):    \\n        increment += 1\\n        ax = fig.add_subplot(2,3,increment)\\n        ax.scatter(mat[ix], mat[iy], c= label_color, alpha=0.4) \\n        plt.ylabel(\u0027PCA {}\u0027.format(iy+1), fontsize = 12)\\n        plt.xlabel(\u0027PCA {}\u0027.format(ix+1), fontsize = 12)\\n        ax.yaxis.grid(color=\u0027lightgray\u0027, linestyle=\u0027:\u0027)\\n        ax.xaxis.grid(color=\u0027lightgray\u0027, linestyle=\u0027:\u0027)\\n        ax.spines[\u0027right\u0027].set_visible(False)\\n        ax.spines[\u0027top\u0027].set_visible(False)\\n        \\n        if increment == 9: break\\n    if increment == 9: break\\n        \\n#_______________________________________________\\n# I set the legend: abreviation -\u003e airline name\\ncomp_handler = []\\nfor i in range(5):\\n    comp_handler.append(mpatches.Patch(color = LABEL_COLOR_MAP[i], label = i))\\n\\nplt.legend(handles=comp_handler, bbox_to_anchor=(1.1, 0.97), \\n           title=\u0027Cluster\u0027, facecolor = \u0027lightgrey\u0027,\\n           shadow = True, frameon = True, framealpha = 1,\\n           fontsize = 13, bbox_transform = plt.gcf().transFigure)\\n\\nplt.show()\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022731427f7-4c47-4d39-acb0-fb8b6efb0df7\u0022,\u0022_uuid\u0022:\u00221d070f5bc58c75ac8bb122b5132761f81156f9ff\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n## 4. Customer categories\\n\\n### 4.1 Formatting data\\n\\nIn the previous section, the different products were grouped in five clusters. In order to prepare the rest of the analysis, a first step consists in introducing this information into the dataframe. To do this, I create the categorical variable **categ_product** where I indicate the cluster of each product :\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022b66c0817-22c1-42cf-b944-8e3db918a671\u0022,\u0022_uuid\u0022:\u0022c030102cce28bbf7e268ed40b0388017cd15df8f\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022corresp = dict()\\nfor key, val in zip (liste_produits, clusters):\\n    corresp[key] = val \\n#__________________________________________________________________________\\ndf_cleaned[\u0027categ_product\u0027] = df_cleaned.loc[:, \u0027Description\u0027].map(corresp)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022bec41c37-5777-49e3-98e0-4a6e9613783b\u0022,\u0022_uuid\u0022:\u0022738635fe9be465fbd0940e799b6070dbb201a780\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n#### 4.1.1 Grouping products\\n\\nIn a second step, I decide to create the **categ_N** variables (with $ N \\\\in [0: 4]$) that contains the amount spent in each product category:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022882978a7-8d65-468e-982a-dd689515d415\u0022,\u0022_uuid\u0022:\u00227b29ea4de78cdf757e031a0d810b24c4a3641057\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022for i in range(5):\\n    col = \u0027categ_{}\u0027.format(i)        \\n    df_temp = df_cleaned[df_cleaned[\u0027categ_product\u0027] == i]\\n    price_temp = df_temp[\u0027UnitPrice\u0027] * (df_temp[\u0027Quantity\u0027] - df_temp[\u0027QuantityCanceled\u0027])\\n    price_temp = price_temp.apply(lambda x:x if x \u003e 0 else 0)\\n    df_cleaned.loc[:, col] = price_temp\\n    df_cleaned[col].fillna(0, inplace = True)\\n#__________________________________________________________________________________________________\\ndf_cleaned[[\u0027InvoiceNo\u0027, \u0027Description\u0027, \u0027categ_product\u0027, \u0027categ_0\u0027, \u0027categ_1\u0027, \u0027categ_2\u0027, \u0027categ_3\u0027,\u0027categ_4\u0027]][:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002246e1dba0-a444-4655-8017-3c30932cb605\u0022,\u0022_uuid\u0022:\u0022e209c1e028ee3b1e99bfa2255a8bb767dfb04596\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Up to now, the information related to a single order was split over several lines of the dataframe (one line per product). I decide to collect the information related to a particular order and put in in a single entry. I therefore create a new dataframe that contains, for each order, the amount of the basket, as well as the way it is distributed over the 5 categories of products:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00229a5249e1-7ac8-43f9-a759-db4df4934e71\u0022,\u0022_uuid\u0022:\u00229d0c9edb309503999f38ccc40fd09d1a311a5019\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#___________________________________________\\n# somme des achats / utilisateur \u0026 commande\\ntemp = df_cleaned.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[\u0027TotalPrice\u0027].sum()\\nbasket_price = temp.rename(columns = {\u0027TotalPrice\u0027:\u0027Basket Price\u0027})\\n#____________________________________________________________\\n# pourcentage du prix de la commande / categorie de produit\\nfor i in range(5):\\n    col = \u0027categ_{}\u0027.format(i) \\n    temp = df_cleaned.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[col].sum()\\n    basket_price.loc[:, col] = temp \\n#_____________________\\n# date de la commande\\ndf_cleaned[\u0027InvoiceDate_int\u0027] = df_cleaned[\u0027InvoiceDate\u0027].astype(\u0027int64\u0027)\\ntemp = df_cleaned.groupby(by=[\u0027CustomerID\u0027, \u0027InvoiceNo\u0027], as_index=False)[\u0027InvoiceDate_int\u0027].mean()\\ndf_cleaned.drop(\u0027InvoiceDate_int\u0027, axis = 1, inplace = True)\\nbasket_price.loc[:, \u0027InvoiceDate\u0027] = pd.to_datetime(temp[\u0027InvoiceDate_int\u0027])\\n#______________________________________\\n# selection des entrées significatives:\\nbasket_price = basket_price[basket_price[\u0027Basket Price\u0027] \u003e 0]\\nbasket_price.sort_values(\u0027CustomerID\u0027, ascending = True)[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022893c7c56-0ef4-4055-965f-102e1d48bb80\u0022,\u0022_uuid\u0022:\u0022b60b304b08843db5b56367de6f1d366f243ec16c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022#### 4.1.2 Separation of data over time\\n\\nThe dataframe `basket_price` contains information for a period of 12 months. Later, one of the objectives will be to develop a model capable of characterizing and anticipating the habits of the customers visiting the site and this, from their first visit. In order to be able to test the model in a realistic way, I split the data set by retaining the first 10 months to develop the model and the following two months to test it:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022c30fa4af-6617-4e25-b297-23efae5e1dcb\u0022,\u0022_uuid\u0022:\u00227be642cc67d95c7b149747f66a8ba8845a17350e\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022print(basket_price[\u0027InvoiceDate\u0027].min(), \u0027-\u003e\u0027,  basket_price[\u0027InvoiceDate\u0027].max())\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002229948719-cecf-48d3-ab66-ca76214b058a\u0022,\u0022_uuid\u0022:\u0022854a1781838e9d4f9e2a27e6a0b65c5e86d7a1b0\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022set_entrainement = basket_price[basket_price[\u0027InvoiceDate\u0027] \u003c datetime.date(2011,10,1)]\\nset_test         = basket_price[basket_price[\u0027InvoiceDate\u0027] \u003e= datetime.date(2011,10,1)]\\nbasket_price = set_entrainement.copy(deep = True)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022cf755ead-5dee-4d55-b351-5c3d106ef828\u0022,\u0022_uuid\u0022:\u00228f4ab5026a66fcdb1e6e62ee552a2737aebc61bb\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022____\\n#### 4.1.3 Consumer Order Combinations\\n\\nIn a second step, I group together the different entries that correspond to the same user. I thus determine the number of purchases made by the user, as well as the minimum, maximum, average amounts and the total amount spent during all the visits:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022876435e3-49c7-4f98-a58f-55d8f0620ef8\u0022,\u0022_uuid\u0022:\u0022a8144451cb606fde4e691486ea9b9d2ccbeae7b9\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022#________________________________________________________________\\n# nb de visites et stats sur le montant du panier / utilisateurs\\ntransactions_per_user=basket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027Basket Price\u0027].agg([\u0027count\u0027,\u0027min\u0027,\u0027max\u0027,\u0027mean\u0027,\u0027sum\u0027])\\nfor i in range(5):\\n    col = \u0027categ_{}\u0027.format(i)\\n    transactions_per_user.loc[:,col] = basket_price.groupby(by=[\u0027CustomerID\u0027])[col].sum() /\\\\\\n                                            transactions_per_user[\u0027sum\u0027]*100\\n\\ntransactions_per_user.reset_index(drop = False, inplace = True)\\nbasket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027categ_0\u0027].sum()\\ntransactions_per_user.sort_values(\u0027CustomerID\u0027, ascending = True)[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022c02d86a5-f239-4ec0-9374-61a000f81ec7\u0022,\u0022_uuid\u0022:\u0022cd335b44bdd24a675ee3407580171135a1053649\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, I define two additional variables that give the number of days elapsed since the first purchase (** FirstPurchase **) and the number of days since the last purchase (** LastPurchase **):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002260a47c3b-b36a-460a-835b-7f6d3c7af48c\u0022,\u0022_uuid\u0022:\u002229dab7aeb0f6d8d1e898b9d72efa2a6e07f1d3e0\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022last_date = basket_price[\u0027InvoiceDate\u0027].max().date()\\n\\nfirst_registration = pd.DataFrame(basket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027InvoiceDate\u0027].min())\\nlast_purchase      = pd.DataFrame(basket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027InvoiceDate\u0027].max())\\n\\ntest  = first_registration.applymap(lambda x:(last_date - x.date()).days)\\ntest2 = last_purchase.applymap(lambda x:(last_date - x.date()).days)\\n\\ntransactions_per_user.loc[:, \u0027LastPurchase\u0027] = test2.reset_index(drop = False)[\u0027InvoiceDate\u0027]\\ntransactions_per_user.loc[:, \u0027FirstPurchase\u0027] = test.reset_index(drop = False)[\u0027InvoiceDate\u0027]\\n\\ntransactions_per_user[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002262b7f0bc-6811-4f3c-840d-a7ace9ca8d3c\u0022,\u0022_uuid\u0022:\u00220d120903f429d18f9a06fea70e2fd035d0c59c0a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022A customer category of particular interest is that of customers who make only one purchase. One of the objectives may be, for example, to target these customers in order to retain them. In part, I find that this type of customer represents 1/3 of the customers listed:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f0a8717e-bf13-4847-a2d8-d5c518ef7580\u0022,\u0022_uuid\u0022:\u002227a45dcd6d0ac2382f07ef6b091a50fc7006a389\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022n1 = transactions_per_user[transactions_per_user[\u0027count\u0027] == 1].shape[0]\\nn2 = transactions_per_user.shape[0]\\nprint(\\\u0022nb. de clients avec achat unique: {:\u003c2}/{:\u003c5} ({:\u003c2.2f}%)\\\u0022.format(n1,n2,n1/n2*100))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00220de7eb30-4a0c-49dc-a423-1acce0956e30\u0022,\u0022_uuid\u0022:\u0022f2c4d5aa8a322b09c539e6b3b0196ca7c4247104\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n### 4.2 Creation of customers categories\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002293a76684-228f-447b-bad0-0a61809809cc\u0022,\u0022_uuid\u0022:\u00225c58d53dcb2159e019c8eb55f0178f40ad293f90\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022#### 4.2.1 Data encoding\\n\\nThe dataframe `transactions_per_user` contains a summary of all the commands that were made. Each entry in this dataframe corresponds to a particular client. I use this information to characterize the different types of customers and only keep a subset of variables:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022cdc3d67f-1337-4cf6-8a36-7b99d4adc160\u0022,\u0022_uuid\u0022:\u00221769df5bd3f987760e0493c6979c9031e18cd47e\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022list_cols = [\u0027count\u0027,\u0027min\u0027,\u0027max\u0027,\u0027mean\u0027,\u0027categ_0\u0027,\u0027categ_1\u0027,\u0027categ_2\u0027,\u0027categ_3\u0027,\u0027categ_4\u0027]\\n#_____________________________________________________________\\nselected_customers = transactions_per_user.copy(deep = True)\\nmatrix = selected_customers[list_cols].as_matrix()\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00229c752c86-845c-4713-8ddc-3a7d1492f3ac\u0022,\u0022_uuid\u0022:\u0022cca71b10aaf0aa363e921b67e8b1e88055ed4dfd\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In practice, the different variables I selected have quite different ranges of variation and before continuing the analysis, I  create a matrix where these data are standardized:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002284be0db9-a24a-4b9b-b541-e1437404ff37\u0022,\u0022_uuid\u0022:\u00225e15c98b0da14a1fe5473ca2fa6c5722968386b6\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022scaler = StandardScaler()\\nscaler.fit(matrix)\\nprint(\u0027variables mean values: \\\\n\u0027 + 90*\u0027-\u0027 + \u0027\\\\n\u0027 , scaler.mean_)\\nscaled_matrix = scaler.transform(matrix)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002277523e66-c44e-48f6-946d-fa79c7d50d61\u0022,\u0022_uuid\u0022:\u002292f56e55fec1d4fd0b823d53d66ab5fc44016709\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In the following, I will create clusters of customers. In practice, before creating these clusters, it is interesting to define a base of smaller dimension allowing to describe the `scaled_matrix` matrix. In this case, I will use this base in order to create a representation of the different clusters and thus verify the quality of the separation of the different groups. I therefore perform a PCA beforehand:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022302061b0-4e19-4b5b-a969-1f45c27873e1\u0022,\u0022_uuid\u0022:\u002230b6a47f96e223efeb0ab49517b38c192627927f\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pca = PCA()\\npca.fit(scaled_matrix)\\npca_samples = pca.transform(scaled_matrix)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00228fd227dc-8def-4e9e-84fb-1325638a53b9\u0022,\u0022_uuid\u0022:\u002266da306d298c0790f3b56e7177d582622b46de46\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and I represent the amount of variance explained by each of the components:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022ed6ab99d-fee5-44c3-958c-58b786263e82\u0022,\u0022_uuid\u0022:\u0022bb95db84567cb2a3a32652bcf2b3ea5c14b5b550\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022fig, ax = plt.subplots(figsize=(14, 5))\\nsns.set(font_scale=1)\\nplt.step(range(matrix.shape[1]), pca.explained_variance_ratio_.cumsum(), where=\u0027mid\u0027,\\n         label=\u0027cumulative explained variance\u0027)\\nsns.barplot(np.arange(1,matrix.shape[1]+1), pca.explained_variance_ratio_, alpha=0.5, color = \u0027g\u0027,\\n            label=\u0027individual explained variance\u0027)\\nplt.xlim(0, 10)\\n\\nax.set_xticklabels([s if int(s.get_text())%2 == 0 else \u0027\u0027 for s in ax.get_xticklabels()])\\n\\nplt.ylabel(\u0027Explained variance\u0027, fontsize = 14)\\nplt.xlabel(\u0027Principal components\u0027, fontsize = 14)\\nplt.legend(loc=\u0027best\u0027, fontsize = 13);\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002225bea85a-ced6-402b-9e47-718ee3b6a434\u0022,\u0022_uuid\u0022:\u002256151271895b2d34c5bfe02977169a47527bc72f\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n#### 4.2.2 Creation of customer categories\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00227c8dc088-65dc-41b4-88d1-f453d293ce34\u0022,\u0022_uuid\u0022:\u0022dd1242cb2135d3515a5252d7783951f77cbaee75\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022At this point, I define clusters of clients from the standardized matrix that was defined earlier and using the `k-means` algorithm from` scikit-learn`. I choose the number of clusters based on the silhouette score and I find that the best score is obtained with 11 clusters:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022ce1adb5f-a0cf-4af4-99fa-585fa71cf89f\u0022,\u0022_uuid\u0022:\u002209711facb0d6dd1e4027724a55b8a5fa0155b616\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022n_clusters = 11\\nkmeans = KMeans(init=\u0027k-means++\u0027, n_clusters = n_clusters, n_init=100)\\nkmeans.fit(scaled_matrix)\\nclusters_clients = kmeans.predict(scaled_matrix)\\nsilhouette_avg = silhouette_score(scaled_matrix, clusters_clients)\\nprint(\u0027score de silhouette: {:\u003c.3f}\u0027.format(silhouette_avg))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002208aa3753-1dff-4f70-9ee7-e71b79fa1f88\u0022,\u0022_uuid\u0022:\u0022267f2a4c31cf2d9ae6785aa84c98cf0474db6868\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022At first, I look at the number of customers in each cluster:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00227e64fcb6-4827-4bb9-883e-f31e9c595dba\u0022,\u0022_uuid\u0022:\u0022b1f770e4ac40cc0e868efb12f895653fb5127599\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pd.DataFrame(pd.Series(clusters_clients).value_counts(), columns = [\u0027nb. de clients\u0027]).T\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00221ec4a223-595f-48b7-b235-a647fd7c751f\u0022,\u0022_uuid\u0022:\u00220378fc93ca892be22acf4aa2b4c4bddebdccf424\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022** a / _Report via the PCA_ **\\n\\nThere is a certain disparity in the sizes of different groups that have been created. Hence I will now try to understand the content of these clusters in order to validate (or not) this particular separation. At first, I use the result of the PCA:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022051ee4e8-78a1-48d9-aa43-84e089a57df3\u0022,\u0022_uuid\u0022:\u0022716227b8a446ac77c9397893964c782333a02e6a\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022pca = PCA(n_components=6)\\nmatrix_3D = pca.fit_transform(scaled_matrix)\\nmat = pd.DataFrame(matrix_3D)\\nmat[\u0027cluster\u0027] = pd.Series(clusters_clients)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022977a7aac-23e4-4289-8b2f-b43397188f15\u0022,\u0022_uuid\u0022:\u0022363c9044e639fc298c44edafb96f7ded2a916f25\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022in order to create a representation of the various clusters:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00226e2ff63a-1bfe-4c7a-b0e4-7fa387e2c560\u0022,\u0022_uuid\u0022:\u0022cececaffe4efaff3333c64426b028b793cc677b5\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022import matplotlib.patches as mpatches\\n\\nsns.set_style(\\\u0022white\\\u0022)\\nsns.set_context(\\\u0022notebook\\\u0022, font_scale=1, rc={\\\u0022lines.linewidth\\\u0022: 2.5})\\n\\nLABEL_COLOR_MAP = {0:\u0027r\u0027, 1:\u0027tan\u0027, 2:\u0027b\u0027, 3:\u0027k\u0027, 4:\u0027c\u0027, 5:\u0027g\u0027, 6:\u0027deeppink\u0027, 7:\u0027skyblue\u0027, 8:\u0027darkcyan\u0027, 9:\u0027orange\u0027,\\n                   10:\u0027yellow\u0027, 11:\u0027tomato\u0027, 12:\u0027seagreen\u0027}\\nlabel_color = [LABEL_COLOR_MAP[l] for l in mat[\u0027cluster\u0027]]\\n\\nfig = plt.figure(figsize = (12,10))\\nincrement = 0\\nfor ix in range(6):\\n    for iy in range(ix+1, 6):   \\n        increment += 1\\n        ax = fig.add_subplot(4,3,increment)\\n        ax.scatter(mat[ix], mat[iy], c= label_color, alpha=0.5) \\n        plt.ylabel(\u0027PCA {}\u0027.format(iy+1), fontsize = 12)\\n        plt.xlabel(\u0027PCA {}\u0027.format(ix+1), fontsize = 12)\\n        ax.yaxis.grid(color=\u0027lightgray\u0027, linestyle=\u0027:\u0027)\\n        ax.xaxis.grid(color=\u0027lightgray\u0027, linestyle=\u0027:\u0027)\\n        ax.spines[\u0027right\u0027].set_visible(False)\\n        ax.spines[\u0027top\u0027].set_visible(False)\\n        \\n        if increment == 12: break\\n    if increment == 12: break\\n        \\n#_______________________________________________\\n# I set the legend: abreviation -\u003e airline name\\ncomp_handler = []\\nfor i in range(n_clusters):\\n    comp_handler.append(mpatches.Patch(color = LABEL_COLOR_MAP[i], label = i))\\n\\nplt.legend(handles=comp_handler, bbox_to_anchor=(1.1, 0.9), \\n           title=\u0027Cluster\u0027, facecolor = \u0027lightgrey\u0027,\\n           shadow = True, frameon = True, framealpha = 1,\\n           fontsize = 13, bbox_transform = plt.gcf().transFigure)\\n\\nplt.tight_layout()\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022abffa92e-d107-405c-8241-9e174971d7d3\u0022,\u0022_uuid\u0022:\u002269709e6dc7e0a40aa0749be602762e56d6d47db2\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022From this representation, it can be seen, for example, that the first principal component allow to separate the tiniest clusters from the rest. More generally, we see that there is always a representation in which two clusters will appear to be distinct.\\n\\n** b/ _Score de silhouette intra-cluster_ **\\n\\nAs with product categories, another way to look at the quality of the separation is to look at silouhette scores within different clusters:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002289a83e55-2681-4c31-9e39-52fe2cd0e5cf\u0022,\u0022_uuid\u0022:\u00223a207d8cfdc08bebeffb5cd8ddb00dfb959efb4a\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022sample_silhouette_values = silhouette_samples(scaled_matrix, clusters_clients)\\n#____________________________________\\n# define individual silouhette scores\\nsample_silhouette_values = silhouette_samples(scaled_matrix, clusters_clients)\\n#__________________\\n# and do the graph\\ngraph_component_silhouette(n_clusters, [-0.15, 0.55], len(scaled_matrix), sample_silhouette_values, clusters_clients)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002274588f7c-8ae6-48e0-833c-db705394f2e4\u0022,\u0022_uuid\u0022:\u00222a0230fe29659164fe82104656849b8bb4af8533\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022** c/ _Customers morphotype_**\\n\\nAt this stage, I have verified that the different clusters are indeed disjoint (at least, in a global way). It remains to understand the habits of the customers in each cluster. To do so, I start by adding to the `selected_customers` dataframe a variable that defines the cluster to which each client belongs:\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00221c45a7fd-b564-4595-b725-0d0ae03a25e7\u0022,\u0022_uuid\u0022:\u002252f45c0a955a33a52c812aaf9e60e5a82f5bd2da\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022selected_customers.loc[:, \u0027cluster\u0027] = clusters_clients\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022749f0a18-3e62-418b-8dab-5febaf415135\u0022,\u0022_uuid\u0022:\u00229e5adb7895a22bb8084255e7247465fc8d3ad9ec\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Then, I average the contents of this dataframe by first selecting the different groups of clients. This gives access to, for example, the average baskets price, the number of visits or the total sums spent by the clients of the different clusters. I also determine the number of clients in each group (variable ** size **):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022edaa1b78-74be-44cf-952d-f5148824b5d8\u0022,\u0022_uuid\u0022:\u00220fb5e92a263ea5290cfe72fb03257ea6eff632ce\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022merged_df = pd.DataFrame()\\nfor i in range(n_clusters):\\n    test = pd.DataFrame(selected_customers[selected_customers[\u0027cluster\u0027] == i].mean())\\n    test = test.T.set_index(\u0027cluster\u0027, drop = True)\\n    test[\u0027size\u0027] = selected_customers[selected_customers[\u0027cluster\u0027] == i].shape[0]\\n    merged_df = pd.concat([merged_df, test])\\n#_____________________________________________________\\nmerged_df.drop(\u0027CustomerID\u0027, axis = 1, inplace = True)\\nprint(\u0027number of customers:\u0027, merged_df[\u0027size\u0027].sum())\\n\\nmerged_df = merged_df.sort_values(\u0027sum\u0027)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00223513ca75-e71a-4c18-b40c-e79a43d06400\u0022,\u0022_uuid\u0022:\u00226103373770bfb5b3e2f60b4c9eee383e1956c2b2\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, I re-organize the content of the dataframe by ordering the different clusters: first, in relation to the amount wpsent in each product category and then, according to the total amount spent:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00229e510c5d-cfa4-4d50-ad2e-93fa01cb319e\u0022,\u0022_uuid\u0022:\u00225c6079b1b9dcb0d894e406255d351680219a5b35\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022liste_index = []\\nfor i in range(5):\\n    column = \u0027categ_{}\u0027.format(i)\\n    liste_index.append(merged_df[merged_df[column] \u003e 45].index.values[0])\\n#___________________________________\\nliste_index_reordered = liste_index\\nliste_index_reordered += [ s for s in merged_df.index if s not in liste_index]\\n#___________________________________________________________\\nmerged_df = merged_df.reindex(index = liste_index_reordered)\\nmerged_df = merged_df.reset_index(drop = False)\\ndisplay(merged_df[[\u0027cluster\u0027, \u0027count\u0027, \u0027min\u0027, \u0027max\u0027, \u0027mean\u0027, \u0027sum\u0027, \u0027categ_0\u0027,\\n                   \u0027categ_1\u0027, \u0027categ_2\u0027, \u0027categ_3\u0027, \u0027categ_4\u0027, \u0027size\u0027]])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022008fe8f4-491a-45d9-9d52-6310d3e1c391\u0022,\u0022_uuid\u0022:\u0022eaabc79f87998688cdde5c37cd526baa9352135b\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022** d / _Customers morphology_ **\\n\\nFinally, I created a representation of the different morphotypes. To do this, I define a class to create \\\u0022Radar Charts\\\u0022 (which has been adapted from this [kernel](https://www.kaggle.com/yassineghouzam/don-t-know-why-employees-leave -read-this)):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022e544d9cd-9589-46e8-9af5-3ad59a193b6b\u0022,\u0022_uuid\u0022:\u00223d7b1bbb5feb7c4e5ab1e48a27104b5fa51cbac4\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022def _scale_data(data, ranges):\\n    (x1, x2) = ranges[0]\\n    d = data[0]\\n    return [(d - y1) / (y2 - y1) * (x2 - x1) + x1 for d, (y1, y2) in zip(data, ranges)]\\n\\nclass RadarChart():\\n    def __init__(self, fig, location, sizes, variables, ranges, n_ordinate_levels = 6):\\n\\n        angles = np.arange(0, 360, 360./len(variables))\\n\\n        ix, iy = location[:] ; size_x, size_y = sizes[:]\\n        \\n        axes = [fig.add_axes([ix, iy, size_x, size_y], polar = True, \\n        label = \\\u0022axes{}\\\u0022.format(i)) for i in range(len(variables))]\\n\\n        _, text = axes[0].set_thetagrids(angles, labels = variables)\\n        \\n        for txt, angle in zip(text, angles):\\n            if angle \u003e -1 and angle \u003c 181:\\n                txt.set_rotation(angle - 90)\\n            else:\\n                txt.set_rotation(angle - 270)\\n        \\n        for ax in axes[1:]:\\n            ax.patch.set_visible(False)\\n            ax.xaxis.set_visible(False)\\n            ax.grid(\\\u0022off\\\u0022)\\n        \\n        for i, ax in enumerate(axes):\\n            grid = np.linspace(*ranges[i],num = n_ordinate_levels)\\n            grid_label = [\\\u0022\\\u0022]+[\\\u0022{:.0f}\\\u0022.format(x) for x in grid[1:-1]]\\n            ax.set_rgrids(grid, labels = grid_label, angle = angles[i])\\n            ax.set_ylim(*ranges[i])\\n        \\n        self.angle = np.deg2rad(np.r_[angles, angles[0]])\\n        self.ranges = ranges\\n        self.ax = axes[0]\\n                \\n    def plot(self, data, *args, **kw):\\n        sdata = _scale_data(data, self.ranges)\\n        self.ax.plot(self.angle, np.r_[sdata, sdata[0]], *args, **kw)\\n\\n    def fill(self, data, *args, **kw):\\n        sdata = _scale_data(data, self.ranges)\\n        self.ax.fill(self.angle, np.r_[sdata, sdata[0]], *args, **kw)\\n\\n    def legend(self, *args, **kw):\\n        self.ax.legend(*args, **kw)\\n        \\n    def title(self, title, *args, **kw):\\n        self.ax.text(0.9, 1, title, transform = self.ax.transAxes, *args, **kw)\\n\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022231c1e12-c833-43ae-86e2-4f32b48c5bb1\u0022,\u0022_uuid\u0022:\u0022fb503c92e6a1ac8f4a6aa6d2136ec94e69a4de48\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022This allows to have a global view of the content of each cluster:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022d0066031-e494-407f-9e9f-b79167244fd1\u0022,\u0022_uuid\u0022:\u00223074b64fa2e091118783baa4452fe7ccc22c82cb\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022fig = plt.figure(figsize=(10,12))\\n\\nattributes = [\u0027count\u0027, \u0027mean\u0027, \u0027sum\u0027, \u0027categ_0\u0027, \u0027categ_1\u0027, \u0027categ_2\u0027, \u0027categ_3\u0027, \u0027categ_4\u0027]\\nranges = [[0.01, 10], [0.01, 1500], [0.01, 10000], [0.01, 75], [0.01, 75], [0.01, 75], [0.01, 75], [0.01, 75]]\\nindex  = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\\n\\nn_groups = n_clusters ; i_cols = 3\\ni_rows = n_groups//i_cols\\nsize_x, size_y = (1/i_cols), (1/i_rows)\\n\\nfor ind in range(n_clusters):\\n    ix = ind%3 ; iy = i_rows - ind//3\\n    pos_x = ix*(size_x + 0.05) ; pos_y = iy*(size_y + 0.05)            \\n    location = [pos_x, pos_y]  ; sizes = [size_x, size_y] \\n    #______________________________________________________\\n    data = np.array(merged_df.loc[index[ind], attributes])    \\n    radar = RadarChart(fig, location, sizes, attributes, ranges)\\n    radar.plot(data, color = \u0027b\u0027, linewidth=2.0)\\n    radar.fill(data, alpha = 0.2, color = \u0027b\u0027)\\n    radar.title(title = \u0027cluster nº{}\u0027.format(index[ind]), color = \u0027r\u0027)\\n    ind += 1 \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022f20f9253-85b2-4bd5-a3f1-c417e3ebd667\u0022,\u0022_uuid\u0022:\u00229df02d92f07ba29fac28109e12b69e2a70fd43cf\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022It can be seen, for example, that the first 5 clusters correspond to a strong preponderance of purchases in a particular category of products. Other clusters will differ from basket averages (** mean **), the total sum spent by the clients (** sum **) or the total number of visits made (** count **).\\n\\n____\\n## 5. Classification of customers\\n\\nIn this part, the objective will be to adjust a classifier that will classify consumers in the different client categories that were established in the previous section. The objective is to make this classification possible at the first visit. To fulfill this objective, I will test several classifiers implemented in `scikit-learn`. First, in order to simplify their use, I define a class that allows to interface several of the functionalities common to these different classifiers: \u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002213991b6e-7070-4e99-985a-8955cd995840\u0022,\u0022_uuid\u0022:\u002233233378b919c14b0b43dd7bb8f5b7023ccb089a\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022class Class_Fit(object):\\n    def __init__(self, clf, params=None):\\n        if params:            \\n            self.clf = clf(**params)\\n        else:\\n            self.clf = clf()\\n\\n    def train(self, x_train, y_train):\\n        self.clf.fit(x_train, y_train)\\n\\n    def predict(self, x):\\n        return self.clf.predict(x)\\n    \\n    def grid_search(self, parameters, Kfold):\\n        self.grid = GridSearchCV(estimator = self.clf, param_grid = parameters, cv = Kfold)\\n        \\n    def grid_fit(self, X, Y):\\n        self.grid.fit(X, Y)\\n        \\n    def grid_predict(self, X, Y):\\n        self.predictions = self.grid.predict(X)\\n        print(\\\u0022Precision: {:.2f} % \\\u0022.format(100*metrics.accuracy_score(Y, self.predictions)))\\n        \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022f3b87dc5-fcd4-454c-9849-441556ae7214\u0022,\u0022_uuid\u0022:\u0022d4afb0435e441c5cfd5bc391e7272b8d4c558cb0\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Since the goal is to define the class to which a client belongs and this, as soon as its first visit, I only keep the variables that describe the content of the basket, and do not take into account the variables related to the frequency of visits or variations of the basket price over time:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00225bdd768a-8cb4-49dc-84fc-33c8b84a3362\u0022,\u0022_uuid\u0022:\u0022df64b250e989c1a33fe31921ee308056fc5a57b5\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022columns = [\u0027mean\u0027, \u0027categ_0\u0027, \u0027categ_1\u0027, \u0027categ_2\u0027, \u0027categ_3\u0027, \u0027categ_4\u0027 ]\\nX = selected_customers[columns]\\nY = selected_customers[\u0027cluster\u0027]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022103f68b9-5503-4c04-af53-15442328061d\u0022,\u0022_uuid\u0022:\u0022fd7f25d71e34ebe5f2d6b64b25c53e6eff5bd024\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, I split the dataset in train and test sets:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022c9c4174c-bd28-47df-9919-e951f45bd7f2\u0022,\u0022_uuid\u0022:\u002243c2d31561df475b5c56f5123c3d1080ed3990a2\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022X_train, X_test, Y_train, Y_test = model_selection.train_test_split(X, Y, train_size = 0.8)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022993f99bb-184f-4511-ac15-43de11249199\u0022,\u0022_uuid\u0022:\u002207c5a612a0d6e812ae597ee5b6f0ab9c9c5c3e06\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n### 5.1 Support Vector Machine Classifier (SVC)\\n\\nThe first classifier I use is the SVC classifier. In order to use it, I create an instance of the `Class_Fit` class and then call` grid_search()`. When calling this method, I provide as parameters:\\n- the hyperparameters for which I will seek an optimal value\\n- the number of folds to be used for cross-validation\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022eb88bafc-1335-47e2-bc5d-469a551e54b6\u0022,\u0022_uuid\u0022:\u002231ad3b4f07ec0b501f70909560735d21e3f5a8da\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022svc = Class_Fit(clf = svm.LinearSVC)\\nsvc.grid_search(parameters = [{\u0027C\u0027:np.logspace(-2,2,10)}], Kfold = 5)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002235d32d3d-bb0e-4134-b7cb-374aca8dbfa2\u0022,\u0022_uuid\u0022:\u0022e854dd6a090e2fa5acf726beaaeefa33872a1f6a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Once this instance is created, I adjust the classifier to the training data:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022f8f0b1ec-6464-4a34-924c-85810c03a8ad\u0022,\u0022_uuid\u0022:\u0022174508011f559d2be87e39718f6798090edef992\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022svc.grid_fit(X = X_train, Y = Y_train)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022157f8b45-94a5-46a7-9045-253da1e80af7\u0022,\u0022_uuid\u0022:\u00226c0a6ae422b144712020c5587effa9ba153165c2\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022then I can test the quality of the prediction with respect to the test data:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00225031fd84-a7a4-4ce1-add7-03e4af50cb15\u0022,\u0022_uuid\u0022:\u0022314d70285360f73a73734e8583d1cb7e58c7f71d\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022svc.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022dca8ec0f-ae93-4b38-9d3c-3e4d7617f551\u0022,\u0022_uuid\u0022:\u002242f54e537dbaaf466a4c1e495408f4c95002ede9\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n#### 5.1.1 Confusion matrix\\n\\nThe accuracy of the results seems to be correct. Nevertheless, let us remember that when the different classes were defined, there was an imbalance in size between the classes obtained. In particular, one class contains around 40% of the clients. It is therefore interesting to look at how the predictions and real values compare to the breasts of the different classes. This is the subject of the confusion matrices and to represent them, I use the code of the [sklearn documentation](http://scikit-learn.org/stable/auto_examples/model_selection/plot_confusion_matrix.html):\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00223d334a90-3134-4e66-babd-7f2ea02efb11\u0022,\u0022_uuid\u0022:\u002250e9d977bebb38f3568c91ab1856061774d115c6\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022def plot_confusion_matrix(cm, classes, normalize=False, title=\u0027Confusion matrix\u0027, cmap=plt.cm.Blues):\\n    if normalize:\\n        cm = cm.astype(\u0027float\u0027) / cm.sum(axis=1)[:, np.newaxis]\\n        print(\\\u0022Normalized confusion matrix\\\u0022)\\n    else:\\n        print(\u0027Confusion matrix, without normalization\u0027)\\n    #_________________________________________________\\n    plt.imshow(cm, interpolation=\u0027nearest\u0027, cmap=cmap)\\n    plt.title(title)\\n    plt.colorbar()\\n    tick_marks = np.arange(len(classes))\\n    plt.xticks(tick_marks, classes, rotation=0)\\n    plt.yticks(tick_marks, classes)\\n    #_________________________________________________\\n    fmt = \u0027.2f\u0027 if normalize else \u0027d\u0027\\n    thresh = cm.max() / 2.\\n    for i, j in itertools.product(range(cm.shape[0]), range(cm.shape[1])):\\n        plt.text(j, i, format(cm[i, j], fmt),\\n                 horizontalalignment=\\\u0022center\\\u0022,\\n                 color=\\\u0022white\\\u0022 if cm[i, j] \u003e thresh else \\\u0022black\\\u0022)\\n    #_________________________________________________\\n    plt.tight_layout()\\n    plt.ylabel(\u0027True label\u0027)\\n    plt.xlabel(\u0027Predicted label\u0027)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002289ba8c7c-42be-44b2-a729-45ac633010bf\u0022,\u0022_uuid\u0022:\u00224dc50a2614b3844ebe152a4d5eca33cb397df026\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022from which I create the following representation:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022eea554d8-a672-4f1e-a6cf-ef4bf6a6950b\u0022,\u0022_uuid\u0022:\u0022edb4632a50b983e80ab28fca93b80e9117d14fc6\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022class_names = [i for i in range(11)]\\ncnf_matrix = confusion_matrix(Y_test, svc.predictions) \\nnp.set_printoptions(precision=2)\\nplt.figure(figsize = (8,8))\\nplot_confusion_matrix(cnf_matrix, classes=class_names, normalize = False, title=\u0027Confusion matrix\u0027)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00221405c216-0a26-49b7-84eb-b7ca59e18751\u0022,\u0022_uuid\u0022:\u002289bea5dbfef84d99e79457142bb29a8ec136cc5a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n#### 5.1.2 Learning curve\\n\\nA typical way to test the quality of a fit is to draw a learning curve. In particular, this type of curves allow to detect possible drawbacks in the model, linked for example to over- or under-fitting. This also shows to which extent the mode could benefit from a larger data sample. In order to draw this curve, I use the [scikit-learn documentation code again](http://scikit-learn.org/stable/auto_examples/model_selection/plot_learning_curve.html#sphx-glr- self-examples-model-selection-pad-learning-curve-py)\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002276b2a6bb-aa79-406f-95ff-48fb3946c5a8\u0022,\u0022_uuid\u0022:\u0022199d688e55c37ba527adb63c31a0c243a45ba8da\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022def plot_learning_curve(estimator, title, X, y, ylim=None, cv=None,\\n                        n_jobs=-1, train_sizes=np.linspace(.1, 1.0, 10)):\\n    \\\u0022\\\u0022\\\u0022Generate a simple plot of the test and training learning curve\\\u0022\\\u0022\\\u0022\\n    plt.figure()\\n    plt.title(title)\\n    if ylim is not None:\\n        plt.ylim(*ylim)\\n    plt.xlabel(\\\u0022Training examples\\\u0022)\\n    plt.ylabel(\\\u0022Score\\\u0022)\\n    train_sizes, train_scores, test_scores = learning_curve(\\n        estimator, X, y, cv=cv, n_jobs=n_jobs, train_sizes=train_sizes)\\n    train_scores_mean = np.mean(train_scores, axis=1)\\n    train_scores_std = np.std(train_scores, axis=1)\\n    test_scores_mean = np.mean(test_scores, axis=1)\\n    test_scores_std = np.std(test_scores, axis=1)\\n    plt.grid()\\n\\n    plt.fill_between(train_sizes, train_scores_mean - train_scores_std,\\n                     train_scores_mean + train_scores_std, alpha=0.1, color=\\\u0022r\\\u0022)\\n    plt.fill_between(train_sizes, test_scores_mean - test_scores_std,\\n                     test_scores_mean + test_scores_std, alpha=0.1, color=\\\u0022g\\\u0022)\\n    plt.plot(train_sizes, train_scores_mean, \u0027o-\u0027, color=\\\u0022r\\\u0022, label=\\\u0022Training score\\\u0022)\\n    plt.plot(train_sizes, test_scores_mean, \u0027o-\u0027, color=\\\u0022g\\\u0022, label=\\\u0022Cross-validation score\\\u0022)\\n\\n    plt.legend(loc=\\\u0022best\\\u0022)\\n    return plt\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022deca3435-0c6d-4798-9efb-fd4e3b28357b\u0022,\u0022_uuid\u0022:\u00222b255e1b50b52bbd9b9f2d4526928a869f9bd4f0\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022from which I represent the leanring curve of the SVC classifier:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00225e33dcc9-e613-4098-b282-70cd63c59768\u0022,\u0022_uuid\u0022:\u0022b89f7776830508bb4a4424c8cdecbe9b6765f43c\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(svc.grid.best_estimator_,\\n                        \\\u0022SVC learning curves\\\u0022, X_train, Y_train, ylim = [1.01, 0.6],\\n                        cv = 5,  train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5,\\n                                                0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00225c0a6c67-93ed-4dd3-bc11-f3cb107ee9c2\u0022,\u0022_uuid\u0022:\u00225f47f200bbc07f370f1a3e8940af87d35a4c08c7\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022On this curve, we can see that the train and cross-validation curves converge towards the same limit when the sample size increases. This is typical of modeling with low variance and proves that the model does not suffer from overfitting. Also, we can see that the accuracy of the training curve is correct which is synonymous of a low bias. Hence the model does not underfit the data.\\n\\n___\\n### 5.2 Logistic Regression\\n\\nI now consider the logistic regression classifier. As before, I create an instance of the `Class_Fit` class, adjust the model on the training data and see how the predictions compare to the real values:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022c37cd77b-f96d-483b-bb57-14db65f97039\u0022,\u0022_uuid\u0022:\u00229ee59b5060327224a4356be75ee1221b4e9fb0ab\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022lr = Class_Fit(clf = linear_model.LogisticRegression)\\nlr.grid_search(parameters = [{\u0027C\u0027:np.logspace(-2,2,20)}], Kfold = 5)\\nlr.grid_fit(X = X_train, Y = Y_train)\\nlr.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002296d297a9-dd64-45b0-bce0-94439293e937\u0022,\u0022_uuid\u0022:\u0022a67cbfe332dd968d4fc99fb6c2c28103efb55c3c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Then, I plot the learning curve to have a feeling of the quality of the model:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00228c4c95f0-8116-4501-ae86-7df54fa6a8dd\u0022,\u0022_uuid\u0022:\u0022203206e691175e8ff82cf72cfb34e82ffd2acf0c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(lr.grid.best_estimator_, \\\u0022Logistic Regression learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.7], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022600918f4-6211-4f52-a6ec-82777e8ca37a\u0022,\u0022_uuid\u0022:\u00226e74472ba1f136a34fcdddf01b19d2e9af9d96fa\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022### 5.3 k-Nearest Neighbors\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002293db008f-7525-4705-aa66-ca3e407bfa3f\u0022,\u0022_uuid\u0022:\u0022c898bc2cc957afd96dd317aecc160b23efe3c973\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022knn = Class_Fit(clf = neighbors.KNeighborsClassifier)\\nknn.grid_search(parameters = [{\u0027n_neighbors\u0027: np.arange(1,50,1)}], Kfold = 5)\\nknn.grid_fit(X = X_train, Y = Y_train)\\nknn.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002280b0d359-06f2-4f75-b394-c77eaefb6a37\u0022,\u0022_uuid\u0022:\u0022c10d7fca1e4070dd6a97e5d9f5879e3632d6e83c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(knn.grid.best_estimator_, \\\u0022Nearest Neighbors learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.7], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002243089987-a289-407c-b6e7-82dd0b4f86fb\u0022,\u0022_uuid\u0022:\u0022ca3adb1bdc494a6b012b200a1f935031eaf4f5b8\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022### 5.4 Decision Tree\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00220a4cd7ef-f03c-4c7a-8b78-0dc26dab137b\u0022,\u0022_uuid\u0022:\u002248dbd3e263d5b8113b8ef64677e6df4c20076a7c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022tr = Class_Fit(clf = tree.DecisionTreeClassifier)\\ntr.grid_search(parameters = [{\u0027criterion\u0027 : [\u0027entropy\u0027, \u0027gini\u0027], \u0027max_features\u0027 :[\u0027sqrt\u0027, \u0027log2\u0027]}], Kfold = 5)\\ntr.grid_fit(X = X_train, Y = Y_train)\\ntr.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022896f795a-1cbb-4d08-9019-a1ab6963fc5c\u0022,\u0022_uuid\u0022:\u002266fdbf731275232a3df7ef73fe54aeeef8dd0c33\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(tr.grid.best_estimator_, \\\u0022Decision tree learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.7], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002267fc7d71-2722-44ef-bf78-893f0e8116d1\u0022,\u0022_uuid\u0022:\u00226d8db24aa70ef84521664c217b0f9fa731f9cbe1\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022### 5.5 Random Forest\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022191ce09c-a67d-434e-99e2-f186d9b21095\u0022,\u0022_uuid\u0022:\u00225fd4df1e26bd7cdf10dfcf245fddafff86790f8c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022rf = Class_Fit(clf = ensemble.RandomForestClassifier)\\nparam_grid = {\u0027criterion\u0027 : [\u0027entropy\u0027, \u0027gini\u0027], \u0027n_estimators\u0027 : [20, 40, 60, 80, 100],\\n               \u0027max_features\u0027 :[\u0027sqrt\u0027, \u0027log2\u0027]}\\nrf.grid_search(parameters = param_grid, Kfold = 5)\\nrf.grid_fit(X = X_train, Y = Y_train)\\nrf.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00228ea75385-53a0-42d2-8f14-0b0d89032b41\u0022,\u0022_uuid\u0022:\u00228bd7e9d31969f8b5fc548ad856012d3027faa9a5\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(rf.grid.best_estimator_, \\\u0022Random Forest learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.7], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00225d7add5f-9247-4f59-a3ab-12a7a5fc269f\u0022,\u0022_uuid\u0022:\u0022ec49824cd052c1898730e7acb6ce684d63c9c22e\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022### 5.6 AdaBoost Classifier\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002291c38cf5-f042-47d8-b74e-f7a0f9718f26\u0022,\u0022_uuid\u0022:\u002226780fd696188d6b3f8cd9dad2f187003148ee19\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022ada = Class_Fit(clf = AdaBoostClassifier)\\nparam_grid = {\u0027n_estimators\u0027 : [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]}\\nada.grid_search(parameters = param_grid, Kfold = 5)\\nada.grid_fit(X = X_train, Y = Y_train)\\nada.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00224d188502-2d63-49f6-96fc-51d08e381b39\u0022,\u0022_uuid\u0022:\u0022fbc49326d70e7ac314cc9c92f5baba69dc3cf7b8\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(ada.grid.best_estimator_, \\\u0022AdaBoost learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.4], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022bca75b42-7617-428a-8d56-b8ec68378cee\u0022,\u0022_uuid\u0022:\u0022376352a7039a8037ba7acbcb788b58cfc9b38e67\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022### 5.7 Gradient Boosting Classifier\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022d3cd367f-d2e9-498d-bb82-c1137dd21fdf\u0022,\u0022_uuid\u0022:\u0022f85e385c75291843a7c8db847aee48070f60e7ee\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022gb = Class_Fit(clf = ensemble.GradientBoostingClassifier)\\nparam_grid = {\u0027n_estimators\u0027 : [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]}\\ngb.grid_search(parameters = param_grid, Kfold = 5)\\ngb.grid_fit(X = X_train, Y = Y_train)\\ngb.grid_predict(X_test, Y_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00222110efe3-4466-4bcb-a74a-0950253d7f60\u0022,\u0022_uuid\u0022:\u0022eeca4c1c096b8a40ea910e2472d5fb6ca44ebb19\u0022,\u0022scrolled\u0022:true,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022g = plot_learning_curve(gb.grid.best_estimator_, \\\u0022Gradient Boosting learning curves\\\u0022, X_train, Y_train,\\n                        ylim = [1.01, 0.7], cv = 5, \\n                        train_sizes = [0.05, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1])\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002247f0fdc5-2871-494f-9158-1a88c449a7d6\u0022,\u0022_uuid\u0022:\u0022609d7ed4c45f18359ad51745f03b2a686175b7ad\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n### 5.8 Let\u0027s vote !\\n\\nFinally, the results of the different classifiers presented in the previous sections can be combined to improve the classification model. This can be achieved by selecting the customer category as the one indicated by the majority of classifiers. To do this, I use the `VotingClassifier` method of the `sklearn` package. As a first step, I adjust the parameters of the various classifiers using the *best* parameters previously found:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022532dcc6f-33a1-4726-a07a-e4bb2ef0b396\u0022,\u0022_uuid\u0022:\u002240c82b43dd34bb9b7685c76bea0f5ca7e761c1d4\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022rf_best  = ensemble.RandomForestClassifier(**rf.grid.best_params_)\\ngb_best  = ensemble.GradientBoostingClassifier(**gb.grid.best_params_)\\nsvc_best = svm.LinearSVC(**svc.grid.best_params_)\\ntr_best  = tree.DecisionTreeClassifier(**tr.grid.best_params_)\\nknn_best = neighbors.KNeighborsClassifier(**knn.grid.best_params_)\\nlr_best  = linear_model.LogisticRegression(**lr.grid.best_params_)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002222aabd16-9cf1-4e3c-bb74-b7ecb6bd9268\u0022,\u0022_uuid\u0022:\u00222b4e1e4f02a6bfbb8b25a84614b2ada700e4ee4a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Then, I define a classifier that merges the results of the various classifiers:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00227d80dd22-3e03-4069-b27d-cfad906a5acd\u0022,\u0022_uuid\u0022:\u00229aedb584c04d4291460c4d30d215e6b2a33d879c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022votingC = ensemble.VotingClassifier(estimators=[(\u0027rf\u0027, rf_best),(\u0027gb\u0027, gb_best),\\n                                                (\u0027knn\u0027, knn_best)], voting=\u0027soft\u0027)    \u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022cc37f5d4-5da2-4d32-a37d-4980b451e467\u0022,\u0022_uuid\u0022:\u00227e88e55a82db913b1544fdd349768b234e612e3b\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022and train it:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022bdd0e288-9e46-477b-94a1-a4bfa7fd9b93\u0022,\u0022_uuid\u0022:\u0022a89f838c7552464dd07c477ec3d9fd1aae91718c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022votingC = votingC.fit(X_train, Y_train)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022eae9f527-9ae0-4ba9-abe2-d667d1cec085\u0022,\u0022_uuid\u0022:\u0022633bb962212746efe42de5702b7083d022da9e3a\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, we can create a prediction for this model:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002240d3aad9-7cdf-45b1-8848-863fd003dbe1\u0022,\u0022_uuid\u0022:\u0022d582d291f5e82fb666b2e7bc80acd2851c9d87c5\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022predictions = votingC.predict(X_test)\\nprint(\\\u0022Precision: {:.2f} % \\\u0022.format(100*metrics.accuracy_score(Y_test, predictions)))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002235f9a337-973f-4b94-9f45-beb59fc6e518\u0022,\u0022collapsed\u0022:true,\u0022_uuid\u0022:\u00227a1fa3d722ee821ebbacd93282098168d095282c\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Note that when defining the `votingC` classifier, I only used a sub-sample of the whole set of classifiers defined above and only retained the *Random Forest*, the *k-Nearest Neighbors* and the *Gradient Boosting* classifiers. In practice, this choice has been done with respect to the performance of the classification carried out in the next section.\\n\\n___\\n## 6. Testing predictions\\n\\nIn the previous section, a few classifiers were trained in order to categorize customers. Until that point, the whole analysis was based on the data of the first 10 months. In this section, I test the model  the last two months of the dataset, that has been stored in the `set_test` dataframe:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00223b0d4452-2d4d-4640-af80-ae4d95a18ebe\u0022,\u0022_uuid\u0022:\u0022230cb86d7b613e90c2e5a6b386779c8847d83d58\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022basket_price = set_test.copy(deep = True)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022c588d958-c150-4ace-a7e9-d660d8ac44fd\u0022,\u0022_uuid\u0022:\u002207cd014e4d2fd526f56b8fb1f68ff65cf14ecbbe\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022In a first step, I regroup reformattes these data according to the same procedure as used on the training set. However, I am correcting the data to take into account the difference in time between the two datasets and weights the variables ** count ** and ** sum ** to obtain an equivalence with the training set:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022a71444d2-fde7-422a-98c8-018d2ed8faff\u0022,\u0022_uuid\u0022:\u0022ad3b38fbda3b8da6f9ea86c0edbcf02002d1f277\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022transactions_per_user=basket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027Basket Price\u0027].agg([\u0027count\u0027,\u0027min\u0027,\u0027max\u0027,\u0027mean\u0027,\u0027sum\u0027])\\nfor i in range(5):\\n    col = \u0027categ_{}\u0027.format(i)\\n    transactions_per_user.loc[:,col] = basket_price.groupby(by=[\u0027CustomerID\u0027])[col].sum() /\\\\\\n                                            transactions_per_user[\u0027sum\u0027]*100\\n\\ntransactions_per_user.reset_index(drop = False, inplace = True)\\nbasket_price.groupby(by=[\u0027CustomerID\u0027])[\u0027categ_0\u0027].sum()\\n\\n#_______________________\\n# Correcting time range\\ntransactions_per_user[\u0027count\u0027] = 5 * transactions_per_user[\u0027count\u0027]\\ntransactions_per_user[\u0027sum\u0027]   = transactions_per_user[\u0027count\u0027] * transactions_per_user[\u0027mean\u0027]\\n\\ntransactions_per_user.sort_values(\u0027CustomerID\u0027, ascending = True)[:5]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022dedce1a8-5db0-463e-9bea-31502016b83c\u0022,\u0022_uuid\u0022:\u00228278c8e0a594d7f907e0565bde0754c7966f8395\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Then, I convert the dataframe into a matrix and retain only variables that define the category to which consumers belong. At this level, I recall the method of normalization that had been used on the training set:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022ad4089ab-f703-483c-8d03-65f3c282c49a\u0022,\u0022_uuid\u0022:\u0022926c8e08380d645553e2c939c1bffd485e52b02e\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022list_cols = [\u0027count\u0027,\u0027min\u0027,\u0027max\u0027,\u0027mean\u0027,\u0027categ_0\u0027,\u0027categ_1\u0027,\u0027categ_2\u0027,\u0027categ_3\u0027,\u0027categ_4\u0027]\\n#_____________________________________________________________\\nmatrix_test = transactions_per_user[list_cols].as_matrix()\\nscaled_test_matrix = scaler.transform(matrix_test)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u002236cc9ffd-33ee-4591-816a-45bdaf2f9bac\u0022,\u0022_uuid\u0022:\u0022662fe343d8246f85db0eb386f3fb9ad7db1fff64\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Each line in this matrix contains a consumer\u0027s buying habits. At this stage, it is a question of using these habits in order to define the category to which the consumer belongs. These categories have been established in Section 4. ** At this stage, it is important to bear in mind that this step does not correspond to the classification stage itself**. Here, we prepare the test data by defining the category to which the customers belong. However, this definition uses data obtained over a period of 2 months (via the variables ** count **, ** min **, ** max ** and ** sum **). The classifier defined in Section 5 uses a more restricted set of variables that will be defined from the first purchase of a client.\\n\\nHere it is a question of using the available data over a period of two months and using this data to define the category to which the customers belong. Then, the classifier can be tested by comparing its predictions with these categories. In order to define the category to which the clients belong, I recall the instance of the `kmeans` method used in section 4. The` predict` method of this instance calculates the distance of the consumers from the centroids of the 11 client classes and the smallest distance will define the belonging to the different categories:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00227627cb8b-d69c-45b2-9460-e37f3440a2cf\u0022,\u0022_uuid\u0022:\u002225274ee1b5fcb9ada2496fef0479ed26b8c90fea\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022Y = kmeans.predict(scaled_test_matrix)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022d31fcdeb-d360-4c6e-be63-119594641030\u0022,\u0022_uuid\u0022:\u00222f319c54df9f2dad18a1b5cfba3c513fcec06a34\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, in order to prepare the execution of the classifier, it is sufficient to select the variables on which it acts:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u0022dc376e15-18a7-45d8-a941-804945f13d0c\u0022,\u0022_uuid\u0022:\u0022db8446dff217a860253c13c56bb6e30e03270e54\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022columns = [\u0027mean\u0027, \u0027categ_0\u0027, \u0027categ_1\u0027, \u0027categ_2\u0027, \u0027categ_3\u0027, \u0027categ_4\u0027 ]\\nX = transactions_per_user[columns]\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022e369377a-c3f3-44a7-b4b6-958d5ba340cb\u0022,\u0022_uuid\u0022:\u0022cb2c10ff04aeff496062c49b2ee1d3ed45e7da31\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022It remains only to examine the predictions of the different classifiers that have been trained in section 5:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u00221226d84c-0b7b-4d0d-b55a-c9c39c9f0d9a\u0022,\u0022_uuid\u0022:\u0022a77b2c4f0fba4a51a4d8915e3cd684e3afd3b6fa\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022classifiers = [(svc, \u0027Support Vector Machine\u0027),\\n                (lr, \u0027Logostic Regression\u0027),\\n                (knn, \u0027k-Nearest Neighbors\u0027),\\n                (tr, \u0027Decision Tree\u0027),\\n                (rf, \u0027Random Forest\u0027),\\n                (gb, \u0027Gradient Boosting\u0027)]\\n#______________________________\\nfor clf, label in classifiers:\\n    print(30*\u0027_\u0027, \u0027\\\\n{}\u0027.format(label))\\n    clf.grid_predict(X, Y)\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022fba41ad5-1481-46a4-956c-6f6562d8cc95\u0022,\u0022_uuid\u0022:\u0022b855c4eed1eb8e5a5a15dd562c6fcb17df2283d9\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022Finally, as anticipated in Section 5.8, it is possible to improve the quality of the classifier by combining their respective predictions. At this level, I chose to mix *Random Forest*, *Gradient Boosting* and *k-Nearest Neighbors* predictions because this leads to a slight improvement in predictions:\u0022},{\u0022metadata\u0022:{\u0022_kg_hide-input\u0022:true,\u0022_cell_guid\u0022:\u002213682ddc-d732-4839-a314-ec1bcd00cf2a\u0022,\u0022_uuid\u0022:\u0022fb82ea972aae88f12a6466a785c7be659984579c\u0022,\u0022trusted\u0022:true},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022predictions = votingC.predict(X)\\nprint(\\\u0022Precision: {:.2f} % \\\u0022.format(100*metrics.accuracy_score(Y, predictions)))\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u00224b652c34-db71-48eb-a33a-cadeae0f29c8\u0022,\u0022_uuid\u0022:\u00224bee5cb8360ea528c471e9526ac961d8b46b936b\u0022},\u0022cell_type\u0022:\u0022markdown\u0022,\u0022source\u0022:\u0022___\\n## 7. Conclusion\\n\\nThe work described in this notebook is based on a database providing details on purchases made on an E-commerce platform over a period of one year. Each entry in the dataset describes the purchase of a product, by a particular customer and at a given date. In total, approximately $\\\\sim$4000 clients appear in the database. Given the available information, I decided to develop a classifier that allows to anticipate the type of purchase that a customer will make, as well as the number of visits that he will make during a year, and this from its first visit to the E-commerce site.\\n\\nThe first stage of this work consisted in describing the different products sold by the site, which was the subject of a first classification. There, I grouped the different products into 5 main categories of goods. In a second step, I performed a classification of the customers by analyzing their consumption habits over a period of 10 months. I have classified clients into 11 major categories based on the type of products they usually buy, the number of visits they make and the amount they spent during the 10 months. Once these categories established, I finally trained several classifiers whose objective is to be able to classify consumers in one of these 11 categories and this from their first purchase. For this, the classifier is based on 5 variables which are:\\n- ** mean **: amount of the basket of the current purchase\\n- ** categ_N ** with $N \\\\in [0: 4]$: percentage spent in product category with index $N$\\n\\nFinally, the quality of the predictions of the different classifiers was tested over the last two months of the dataset. The data were then processed in two steps: first, all the data was considered (ober the 2 months) to define the category to which each client belongs, and then, the classifier predictions were compared with this category assignment. I then found that 75% of clients are awarded the right classes.\\nThe performance of the classifier therefore seems correct given the potential shortcomings of the current model. In particular, a bias that has not been dealt with concerns the seasonality of purchases and the fact that purchasing habits will potentially depend on the time of year (for example, Christmas ). In practice, this seasonal effect may cause the categories defined over a 10-month period to be quite different from those extrapolated from the last two months. In order to correct such bias, it would be beneficial to have data that would cover a longer period of time.\\n\\n\u0022},{\u0022metadata\u0022:{\u0022_cell_guid\u0022:\u0022d27b2130-f92e-4050-b6f9-683ae49ba4f4\u0022,\u0022collapsed\u0022:true,\u0022_uuid\u0022:\u0022af58a547d8cc9d3bbe25d2f9ab5b23b1845b23e2\u0022,\u0022trusted\u0022:false},\u0022cell_type\u0022:\u0022code\u0022,\u0022source\u0022:\u0022\u0022,\u0022execution_count\u0022:null,\u0022outputs\u0022:[]}],\u0022metadata\u0022:{\u0022kernelspec\u0022:{\u0022display_name\u0022:\u0022Python 3\u0022,\u0022language\u0022:\u0022python\u0022,\u0022name\u0022:\u0022python3\u0022},\u0022language_info\u0022:{\u0022name\u0022:\u0022python\u0022,\u0022version\u0022:\u00223.6.6\u0022,\u0022mimetype\u0022:\u0022text/x-python\u0022,\u0022codemirror_mode\u0022:{\u0022name\u0022:\u0022ipython\u0022,\u0022version\u0022:3},\u0022pygments_lexer\u0022:\u0022ipython3\u0022,\u0022nbconvert_exporter\u0022:\u0022python\u0022,\u0022file_extension\u0022:\u0022.py\u0022}},\u0022nbformat\u0022:4,\u0022nbformat_minor\u0022:1}","dateCreated":"2019-03-21T14:19:39.5929583Z"},"resources":null,"isolatorResults":"\u003cresults\u003e\u003cdisk_kb_free\u003e4817576\u003c/disk_kb_free\u003e\u003cdocker_image_digest\u003e6604126aa038ed6b5d97cdfc5cbe6407e807566870638008be52bdf5449d80ff\u003c/docker_image_digest\u003e\u003cdocker_image_id\u003esha256:4c3aeb1026a8d88e0d7e95a7525564edb1ef7cc72c7fd03823de8e4cb2b96e53\u003c/docker_image_id\u003e\u003cdocker_image_name\u003egcr.io/kaggle-images/python\u003c/docker_image_name\u003e\u003cexit_code\u003e0\u003c/exit_code\u003e\u003cfailure_message /\u003e\u003cinvalid_path_errors\u003eFalse\u003c/invalid_path_errors\u003e\u003cout_of_memory\u003eFalse\u003c/out_of_memory\u003e\u003crun_time_seconds\u003e1225.858824037\u003c/run_time_seconds\u003e\u003csucceeded\u003eTrue\u003c/succeeded\u003e\u003ctimeout_exceeded\u003eFalse\u003c/timeout_exceeded\u003e\u003cused_all_space\u003eFalse\u003c/used_all_space\u003e\u003cwas_killed\u003eFalse\u003c/was_killed\u003e\u003c/results\u003e","runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageDigest":"6604126aa038ed6b5d97cdfc5cbe6407e807566870638008be52bdf5449d80ff","dockerImageId":"sha256:4c3aeb1026a8d88e0d7e95a7525564edb1ef7cc72c7fd03823de8e4cb2b96e53","dockerImageName":"kaggle/python","diskKbFree":4817576,"failureMessage":"","exitCode":0,"queuedSeconds":0,"outputSizeBytes":0,"runTimeSeconds":1225.858824037,"usedAllSpace":false,"timeoutExceeded":false,"isValidStatus":false,"wasGpuEnabled":false,"wasInternetEnabled":false,"outOfMemory":false,"invalidPathErrors":false,"succeeded":true,"wasKilled":false},"outputFilesTotalSizeBytes":2251720,"dockerImageVersionId":22557,"usedCustomDockerImage":false,"dataSources":[{"sourceType":"DatasetVersion","sourceId":3404,"databundleVersionId":null,"mountSlug":""}],"useNewKernelsBackend":null},"author":{"id":826901,"displayName":"FabienDaniel","email":null,"editedEmail":null,"editedEmailCode":null,"userName":"fabiendaniel","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/826901-kg.jpg","profileUrl":"/fabiendaniel","registerDate":"0001-01-01T00:00:00Z","lastVisitDate":"0001-01-01T00:00:00Z","statusId":0,"performanceTier":3,"userRoles":null,"userLogins":null,"groupIds":null,"duplicateUsers":null,"hasPhoneVerifications":false,"failedNerdchas":0,"hasPendingNerdcha":false,"deleteRequests":null,"userAttributes":null,"isAdmin":false,"isTvc":false,"isKaggleBot":false,"isAdminOrTvc":false,"isAnonymous":false,"canAct":false,"canBeSeen":false,"thumbnailName":null,"isPhoneVerified":false},"baseUrl":"/fabiendaniel/customer-segmentation","collaborators":{"owner":{"userId":826901,"groupId":null,"groupMemberCount":null,"profileUrl":"/fabiendaniel","thumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/826901-kg.jpg","name":"FabienDaniel","slug":"fabiendaniel","userTier":3,"joinDate":null,"type":"owner","isUser":true,"isGroup":false},"collaborators":[]},"initialTab":"notebook","log":"[{\n  \u0022data\u0022: \u0022[NbConvertApp] Converting notebook __notebook__.ipynb to notebook\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 2.563190485998348\n},{\n  \u0022data\u0022: \u0022[NbConvertApp] Executing notebook with kernel: python3\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 2.751858284995251\n},{\n  \u0022data\u0022: \u0022/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklea\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1032.8804293159992\n},{\n  \u0022data\u0022: \u0022rn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/cond\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1032.8966830699937\n},{\n  \u0022data\u0022: \u0022a/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1032.8986922049953\n},{\n  \u0022data\u0022: \u0022/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1219.7681748229952\n},{\n  \u0022data\u0022: \u0022/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase t\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1219.771958849\n},{\n  \u0022data\u0022: \u0022he number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/svm/base.py:931: ConvergenceWarning: Liblinear failed to converge, increase the number of iterations.\\n  \\\u0022the number of iterations.\\\u0022, ConvergenceWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:433: FutureWarning: Default solver will be changed to \u0027lbfgs\u0027 in 0.22. Specify a solver to silence this warning.\\n  FutureWarning)\\n/opt/conda/lib/python3.6/site-packages/sklearn/linear_model/logistic.py:460: FutureWarning: Default multi_class will be changed to \u0027auto\u0027 in 0.22. Specify the multi_class option to silence this warning.\\n  \\\u0022this warning.\\\u0022, FutureWarning)\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1219.7738870749963\n},{\n  \u0022data\u0022: \u0022[NbConvertApp] Writing 2367554 bytes to __notebook__.ipynb\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1221.6852618659977\n},{\n  \u0022data\u0022: \u0022[NbConvertApp] Converting notebook __notebook__.ipynb to html\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1224.0006693169998\n},{\n  \u0022data\u0022: \u0022[NbConvertApp] Support files will be in __results___files/\\n[NbConvertApp] Making directory __results___files\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1225.2660284859958\n},{\n  \u0022data\u0022: \u0022[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1225.2710690489985\n},{\n  \u0022data\u0022: \u0022[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Making directory __results___files\\n[NbConvertApp] Writing 632050 bytes to __results__.html\\n\u0022,\n  \u0022stream_name\u0022: \u0022stderr\u0022,\n  \u0022time\u0022: 1225.2732899559996\n}]","outputFiles":[],"outputFilesCropped":false,"ouputFilesOwnerInfo":{"databundleVersionId":0,"dataset":null,"competition":null,"kernel":{"kernelId":374483,"kernelVersionId":11888176,"dataviewToken":"eyJhbGciOiJkaXIiLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0..CcwQy__u8nm0dSgHAhXc-Q.ugci9WjkL9AvtuifAXuLlx4Zke49SP7YRK6jfR2rf8kkAfHTYG5ekVnflN3vqIAuv1s8rDp0rUjcI2hvMPdRYqHgxedDqxPCy5AUu6B3yhQyZtuYqTOI_wSk8wsRUXghoEJ7m4OyUtLVxzRtZwPnju1AEGFqDTFDUcUtorl1gyxOwYacppuwB07ujDDC4PYhHDtu65xEbEnl_yY_zbJqMgmikGfErdn94DfQgqsdWWJvWZOqFWQGSS6hLZJ-1gzK5eKLg-U4NWiMbZsS19cDpYXKGZntR1p0WlUBZ72taWa0qSMLZ9t9IW_sIBuP8CrpzrrIO9UgLHZmGB3to5QZSm9wmZUMXSTM6znav4nFX298dR1G_L61T8KkEsjEV1zmtBW_zb4td7y9hidsTD73N5B6r54xxPz_jKfZ7zfdrsM4yLcXigaVg95rINCmOCc0_IxcGf3YgDESpzrAmUzkmw.P56jDDn5lT01Ts7Ae3AWLw","scope":"fabiendaniel/customer-segmentation"},"previewsDisabled":false},"pageMessages":[],"dataSources":[{"sourceType":"DatasetVersion","sourceId":3404,"databundleVersionId":null,"mountSlug":""}],"versions":[{"id":11888176,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2019-03-21T14:19:40.077Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":9,"linesInsertedFromPrevious":7,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:4c3aeb1026a8d88e0d7e95a7525564edb1ef7cc72c7fd03823de8e4cb2b96e53","dockerImageName":"gcr.io/kaggle-images/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1225.858824037,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=11888176","versionNumber":65,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":5885865,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2018-09-21T20:25:07.423Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:92e9bd37d14ad1eb5a164f65de9830da245a7dc7e92d42ccced2d5871e31471c","dockerImageName":"gcr.io/kaggle-images/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1316.076549155,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=5885865","versionNumber":64,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2872649,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2018-03-20T21:26:17.56Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:61cc9a44d41232285d1e8e2cd3011599c03109845d69a1d0702aa211b4428fba","dockerImageName":"gcr.io/kaggle-images/python","exitCode":137,"failureMessage":"The kernel was killed for running longer than 21600 seconds.","isValidStatus":true,"runTimeSeconds":21601.351835238,"succeeded":false,"timeoutExceeded":true,"usedAllSpace":false},"status":"error","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=2872649","versionNumber":63,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2676959,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2018-03-02T09:43:16.78Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:c81fe0a86a684b05f63f50d75dd4307c989db3810d2d425633989b50ceda959d","dockerImageName":"gcr.io/kaggle-images/python","exitCode":137,"failureMessage":"The kernel was killed for running longer than 7200 seconds.","isValidStatus":true,"runTimeSeconds":7202.74589468201,"succeeded":false,"timeoutExceeded":true,"usedAllSpace":false},"status":"error","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=2676959","versionNumber":62,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2614702,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2018-02-23T10:34:56.427Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:c81fe0a86a684b05f63f50d75dd4307c989db3810d2d425633989b50ceda959d","dockerImageName":"gcr.io/kaggle-images/python","exitCode":137,"failureMessage":"The kernel was killed for running longer than 7200 seconds.","isValidStatus":true,"runTimeSeconds":7201.08046137402,"succeeded":false,"timeoutExceeded":true,"usedAllSpace":false},"status":"error","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=2614702","versionNumber":61,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2569508,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2018-02-18T09:42:58.803Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:c81fe0a86a684b05f63f50d75dd4307c989db3810d2d425633989b50ceda959d","dockerImageName":"gcr.io/kaggle-images/python","exitCode":137,"failureMessage":"The kernel was killed for running longer than 3600 seconds.","isValidStatus":true,"runTimeSeconds":3601.85194915696,"succeeded":false,"timeoutExceeded":true,"usedAllSpace":false},"status":"error","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=2569508","versionNumber":60,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2560522,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2018-02-17T08:43:52.957Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:c81fe0a86a684b05f63f50d75dd4307c989db3810d2d425633989b50ceda959d","dockerImageName":"gcr.io/kaggle-images/python","exitCode":137,"failureMessage":"The kernel was killed for running longer than 3600 seconds.","isValidStatus":true,"runTimeSeconds":3601.38200322998,"succeeded":false,"timeoutExceeded":true,"usedAllSpace":false},"status":"error","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=2560522","versionNumber":59,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2556644,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2018-02-16T20:41:07.87Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:c81fe0a86a684b05f63f50d75dd4307c989db3810d2d425633989b50ceda959d","dockerImageName":"gcr.io/kaggle-images/python","exitCode":137,"failureMessage":"The kernel was killed for running longer than 3600 seconds.","isValidStatus":true,"runTimeSeconds":3601.10344718496,"succeeded":false,"timeoutExceeded":true,"usedAllSpace":false},"status":"error","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=2556644","versionNumber":58,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":2093094,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2018-01-07T09:32:56.093Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:32f9e8807f9ad8339795278a2066178e0c1ccb407df64f1c187e4d8995cd0947","dockerImageName":"gcr.io/kaggle-images/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":75.6696923838463,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=2093094","versionNumber":57,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1815996,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-11-27T08:14:51.8Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:03d720e05d4bba74dfbce7c18d491b0fe4c01e08338a7f24950bb2df06e22a07","dockerImageName":"gcr.io/kaggle-images/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1387.22661583801,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1815996","versionNumber":56,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1739449,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-11-12T08:40:40.84Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:43bc317002cc8da8e7df9b66f79cea7a731cadf3e4ded4469822b11f07d54afc","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":29.478707791015,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1739449","versionNumber":55,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1724150,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-11-08T14:30:39.243Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:43bc317002cc8da8e7df9b66f79cea7a731cadf3e4ded4469822b11f07d54afc","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":445.651363661018,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1724150","versionNumber":54,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1704835,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-11-04T09:08:07.69Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:6dac34bf1aa4ac677379893ecedc50f9584d24ea6b1d618dfbc21639abf8cedc","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":34.777462861035,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1704835","versionNumber":53,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1698079,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-11-02T19:10:39.447Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:6dac34bf1aa4ac677379893ecedc50f9584d24ea6b1d618dfbc21639abf8cedc","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":32.4537949920632,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1698079","versionNumber":52,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1666960,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-27T07:39:37.993Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:6dac34bf1aa4ac677379893ecedc50f9584d24ea6b1d618dfbc21639abf8cedc","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":42.2679293570109,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1666960","versionNumber":51,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1662898,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-26T11:27:45.25Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:6dac34bf1aa4ac677379893ecedc50f9584d24ea6b1d618dfbc21639abf8cedc","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":93.4160562260076,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1662898","versionNumber":50,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1648990,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-23T20:51:03.317Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:6dac34bf1aa4ac677379893ecedc50f9584d24ea6b1d618dfbc21639abf8cedc","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":30.7421121479711,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1648990","versionNumber":49,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1625473,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-18T06:02:39.233Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a1be46c738389b6b5d223f48774acc7511285d25f116f616d60cba2fa37f182e","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":25.8385075040278,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1625473","versionNumber":48,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1621176,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-17T06:49:03.817Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a1be46c738389b6b5d223f48774acc7511285d25f116f616d60cba2fa37f182e","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":38.140855501988,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1621176","versionNumber":47,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1617348,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-16T07:55:46.693Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:fa937cc579e5de78f73c825fec0c97fbdfc88e2e2c401d54f616b5f033b9f711","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":30.4523419870529,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1617348","versionNumber":46,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1614879,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-15T14:24:45.55Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:fa937cc579e5de78f73c825fec0c97fbdfc88e2e2c401d54f616b5f033b9f711","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":3629.79724552203,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1614879","versionNumber":45,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1614004,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-15T09:17:43.387Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:fa937cc579e5de78f73c825fec0c97fbdfc88e2e2c401d54f616b5f033b9f711","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1405.60177804303,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1614004","versionNumber":44,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1603209,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-12T12:09:14.277Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:fa937cc579e5de78f73c825fec0c97fbdfc88e2e2c401d54f616b5f033b9f711","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":39.2860814680171,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1603209","versionNumber":43,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1600673,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-11T20:42:41.177Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":29.7768279089942,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1600673","versionNumber":42,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1597270,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-11T05:42:20.267Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":29.4349329750112,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1597270","versionNumber":41,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1593027,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-10T06:13:56.153Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":33.2351169380054,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1593027","versionNumber":40,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1586870,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-09T05:18:49.893Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":47.1740702120587,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1586870","versionNumber":39,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1585440,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-08T19:32:48.47Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":118.131443583989,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1585440","versionNumber":38,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1584292,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-08T12:25:54.813Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":7234.83086669695,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1584292","versionNumber":37,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1583793,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-08T09:05:34.76Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":33.2834326170851,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1583793","versionNumber":36,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1582216,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-07T18:50:14.2Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":3,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":192.536268572032,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1582216","versionNumber":35,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1577190,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-06T11:46:44.62Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":31.9532049529953,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1577190","versionNumber":34,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1576020,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-06T05:07:27.857Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":29.3134508160001,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1576020","versionNumber":33,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1572441,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-05T06:32:52.14Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":38.1597693749936,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1572441","versionNumber":32,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1570342,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-04T17:08:53.533Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":62.163889834992,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1570342","versionNumber":31,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1568435,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-04T06:41:03.867Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":42.3899637879949,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1568435","versionNumber":30,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1566871,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-03T20:42:35.297Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":32.3044392709853,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1566871","versionNumber":29,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1565945,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-03T16:37:49.887Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":80.1250558120082,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1565945","versionNumber":28,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1564954,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-03T12:54:23.207Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":51.3129108620342,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1564954","versionNumber":27,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1563730,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-03T07:31:29.75Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":3,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":421.119473483006,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1563730","versionNumber":26,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1563321,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-03T05:08:47.26Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":84.6474503707141,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1563321","versionNumber":25,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1561203,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-02T17:11:18.113Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":39.9655861519277,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1561203","versionNumber":24,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1559290,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-02T05:08:51.56Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":33.8789101699949,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1559290","versionNumber":23,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1558015,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-01T20:00:54.58Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":45,"linesInsertedFromPrevious":44,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":2018.347910568,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1558015","versionNumber":22,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1556808,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-01T12:42:02.823Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":16,"linesInsertedFromPrevious":15,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":867.853515702009,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1556808","versionNumber":21,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1556148,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-10-01T07:20:11.5Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":31.6983598720399,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1556148","versionNumber":20,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1555398,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-30T22:53:59.823Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":33.2482887490187,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1555398","versionNumber":19,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1554859,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-30T19:06:10.33Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":31.4896944360225,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1554859","versionNumber":18,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1554612,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-30T17:56:53.123Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":40.3533140450018,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1554612","versionNumber":17,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1554198,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-30T15:19:46.323Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":40.5174745169934,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1554198","versionNumber":16,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1553309,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-30T09:22:45.99Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":60.6321258710232,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1553309","versionNumber":15,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1552853,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-30T05:47:26.53Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":31.735713934002,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1552853","versionNumber":14,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1551501,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-29T18:42:19.223Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":10,"linesInsertedFromPrevious":10,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":2646.15679105002,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1551501","versionNumber":13,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1551167,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-29T17:01:26.097Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":12,"linesInsertedFromPrevious":14,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1408.04866233282,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1551167","versionNumber":12,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1550186,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-29T10:54:17.087Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":13,"linesInsertedFromPrevious":12,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1390.66882706201,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1550186","versionNumber":11,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1549827,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-29T07:56:59.823Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":26,"linesInsertedFromPrevious":32,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":2605.031283708,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1549827","versionNumber":10,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1549670,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-29T07:07:04.737Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":11,"linesInsertedFromPrevious":12,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1382.165574785,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Cluster \u0027Em All","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1549670","versionNumber":9,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1549459,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-29T05:09:47.58Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":31.0584251549881,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1549459","versionNumber":8,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1548734,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-28T21:45:56.627Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":24.7684528880054,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1548734","versionNumber":7,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1548300,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-28T19:11:17.207Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":34,"linesInsertedFromPrevious":24,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":1458.789669601,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1548300","versionNumber":6,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1547859,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-28T17:14:37.927Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":1,"linesInsertedFromPrevious":1,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":282.03940001002,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1547859","versionNumber":5,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1547351,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-28T14:58:55.49Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":0,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":32.9637955899962,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1547351","versionNumber":4,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1546906,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-28T12:39:41.627Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":108,"linesInsertedFromPrevious":91,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":6568.334768486,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1546906","versionNumber":3,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1546487,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-28T10:11:35.25Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":24,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":4271.63312223228,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1546487","versionNumber":2,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null},{"id":1543229,"kernelVersionId":null,"isForkParent":false,"isNotebook":true,"languageName":"Python","lastRunTime":"2017-09-27T15:11:34.9Z","linesChangedFromPrevious":0,"linesDeletedFromPrevious":0,"linesInsertedFromPrevious":1375,"outputFilesTotalSizeBytes":0,"runInfo":{"dockerfileUrl":"https://github.com/Kaggle/docker-python/blob/master/Dockerfile","dockerHubUrl":"https://registry.hub.docker.com/u/kaggle/python/","dockerImageId":"sha256:a83b13bf3410f0ffe51c158bc185c7a49905aa411511936f8be3b28b790ca850","dockerImageName":"kaggle/python","exitCode":0,"failureMessage":"","isValidStatus":true,"runTimeSeconds":6373.19132192992,"succeeded":true,"timeoutExceeded":false,"usedAllSpace":false},"status":"complete","title":"Customer Segmentation","url":"/fabiendaniel/customer-segmentation?scriptVersionId=1543229","versionNumber":1,"hasVersionNumber":true,"isRedacted":false,"versionAuthor":null}],"categories":{"categories":[{"id":13302,"name":"classification","displayName":"classification","fullPath":"machine learning \u003e classification","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27classification%27","tagUrl":"/tags/classification","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":428,"competitionCount":2,"scriptCount":4513,"totalCount":4943},{"id":13101,"name":"tutorial","displayName":"tutorial","fullPath":"audience \u003e tutorial","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27tutorial%27","tagUrl":"/tags/tutorial","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":37,"competitionCount":1,"scriptCount":4656,"totalCount":4694},{"id":13304,"name":"clustering","displayName":"clustering","fullPath":"machine learning \u003e clustering","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27clustering%27","tagUrl":"/tags/clustering","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":45,"competitionCount":0,"scriptCount":421,"totalCount":466},{"id":13307,"name":"forecasting","displayName":"forecasting","fullPath":"machine learning \u003e forecasting","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27forecasting%27","tagUrl":"/tags/forecasting","fontAwesomeIcon":null,"description":null,"isInherited":false,"datasetCount":51,"competitionCount":0,"scriptCount":139,"totalCount":190},{"id":12027,"name":"marketing","displayName":"marketing","fullPath":"technology and applied sciences \u003e marketing","listingUrl":"/kernels?sortBy=relevance\u0026group=all\u0026search=tag%3A%27marketing%27","tagUrl":"/tags/marketing","fontAwesomeIcon":null,"description":"Marketing is the activity of connecting consumers to products and services. Find datasets, kernels, and competitions related to marketing in this tag.","isInherited":false,"datasetCount":31,"competitionCount":4,"scriptCount":22,"totalCount":57}],"type":"script"},"submitToCompetitionInfo":null,"downloadAllFilesUrl":"/kernels/svzip/11888176","submission":null,"menuLinks":[{"href":"/fabiendaniel/customer-segmentation/notebook","text":"Notebook","title":"Notebook","tab":"notebook","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/fabiendaniel/customer-segmentation/code","text":"Code","title":"Code","tab":"code","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/fabiendaniel/customer-segmentation/data","text":"Data","title":"Data","tab":"data","count":1,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/fabiendaniel/customer-segmentation/log","text":"Log","title":"Log","tab":"log","count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},{"href":"/fabiendaniel/customer-segmentation/comments","text":"Comments","title":"Comments","tab":"comments","count":34,"showZeroCountExplicitly":true,"reportEventCategory":null,"reportEventType":null}],"rightMenuLinks":[],"callToAction":{"href":"/kernels/fork-version/11888176","text":"Fork Notebook","title":"Fork Notebook","tab":null,"count":null,"showZeroCountExplicitly":false,"reportEventCategory":null,"reportEventType":null},"voteButton":{"totalVotes":334,"medalVotes":70,"hasAlreadyVotedUp":false,"hasAlreadyVotedDown":false,"canUpvote":true,"canDownvote":false,"voteUpUrl":"/kernels/vote?id=374483","voteDownUrl":null,"voters":[{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/49985-gp.jpg","displayName":"Adrián Plattner","profileUrl":"/adrianplattner","tier":"Novice","tierInt":0,"userId":49985,"userName":"adrianplattner"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/102662-fb.jpg","displayName":"Taeho Hong","profileUrl":"/idealab","tier":"Novice","tierInt":0,"userId":102662,"userName":"idealab"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/103225-kg.jpg","displayName":"Bukun","profileUrl":"/ambarish","tier":"Master","tierInt":3,"userId":103225,"userName":"ambarish"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/104579-kg.jpg","displayName":"Pratj","profileUrl":"/pratjain","tier":"Contributor","tierInt":1,"userId":104579,"userName":"pratjain"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/109123-gr.jpg","displayName":"Dan Ofer","profileUrl":"/danofer","tier":"Expert","tierInt":2,"userId":109123,"userName":"danofer"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/114317-fb.jpg","displayName":"Anoop Madhusudanan","profileUrl":"/amazedsaint","tier":"Novice","tierInt":0,"userId":114317,"userName":"amazedsaint"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/122248-fb.jpg","displayName":"Ish Yadav","profileUrl":"/ishyadav","tier":"Novice","tierInt":0,"userId":122248,"userName":"ishyadav"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/208547-fb.jpg","displayName":"Thang Vo","profileUrl":"/thangvo","tier":"Novice","tierInt":0,"userId":208547,"userName":"thangvo"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Mukunde Gael","profileUrl":"/mukunde","tier":"Contributor","tierInt":1,"userId":209382,"userName":"mukunde"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"sushmit roy","profileUrl":"/sushmit","tier":"Novice","tierInt":0,"userId":211060,"userName":"sushmit"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/224465-gp.jpg","displayName":"Jermyn ","profileUrl":"/jermynbek","tier":"Novice","tierInt":0,"userId":224465,"userName":"jermynbek"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/235748-gp.jpg","displayName":"Xiaoyu Sun","profileUrl":"/sumi25","tier":"Novice","tierInt":0,"userId":235748,"userName":"sumi25"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/260853-kg.JPG","displayName":"Christina Boididou","profileUrl":"/christinampoid","tier":"Contributor","tierInt":1,"userId":260853,"userName":"christinampoid"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/266498-fb.jpg","displayName":"TheRahib786 .","profileUrl":"/rahib4","tier":"Novice","tierInt":0,"userId":266498,"userName":"rahib4"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/284275-fb.jpg","displayName":"Vaibhav Sahu","profileUrl":"/sahuvaib","tier":"Contributor","tierInt":1,"userId":284275,"userName":"sahuvaib"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/285230-fb.jpg","displayName":"J Su","profileUrl":"/jsu1285230","tier":"Novice","tierInt":0,"userId":285230,"userName":"jsu1285230"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/327387-gr.jpg","displayName":"Farzad Nozarian","profileUrl":"/farzadnozarian","tier":"Novice","tierInt":0,"userId":327387,"userName":"farzadnozarian"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/338428-kg.jpg","displayName":"wacholderbeere","profileUrl":"/wacholderbeere","tier":"Contributor","tierInt":1,"userId":338428,"userName":"wacholderbeere"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/353419-fb.jpg","displayName":"AmareshKumarSahu","profileUrl":"/amareshkumarsahu","tier":"Novice","tierInt":0,"userId":353419,"userName":"amareshkumarsahu"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/365853-gr.jpg","displayName":"KagglerSN","profileUrl":"/snehal1409","tier":"Contributor","tierInt":1,"userId":365853,"userName":"snehal1409"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/368276-gp.jpg","displayName":"ssstone","profileUrl":"/stone2009","tier":"Novice","tierInt":0,"userId":368276,"userName":"stone2009"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/379526-gp.jpg","displayName":"niranjanrajawat","profileUrl":"/niting3","tier":"Novice","tierInt":0,"userId":379526,"userName":"niting3"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/384029-kg.jpeg","displayName":"ifashion","profileUrl":"/ifashion","tier":"Contributor","tierInt":1,"userId":384029,"userName":"ifashion"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"ajkglobal","profileUrl":"/ajkglobal","tier":"Novice","tierInt":0,"userId":418557,"userName":"ajkglobal"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"tvk","profileUrl":"/tejavenkat","tier":"Novice","tierInt":0,"userId":450551,"userName":"tejavenkat"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/466751-gr.jpg","displayName":"SiyangWang","profileUrl":"/siyangwang","tier":"Novice","tierInt":0,"userId":466751,"userName":"siyangwang"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/486482-kg.jpeg","displayName":"sapientiae","profileUrl":"/vivekwisdom","tier":"Contributor","tierInt":1,"userId":486482,"userName":"vivekwisdom"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"vamsidv2010","profileUrl":"/vamsidv2010","tier":"Novice","tierInt":0,"userId":492374,"userName":"vamsidv2010"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/495305-kg.jpg","displayName":"Megan Risdal","profileUrl":"/mrisdal","tier":"Staff","tierInt":5,"userId":495305,"userName":"mrisdal"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/515640-fb.jpg","displayName":"NickYeo","profileUrl":"/likkhian","tier":"Novice","tierInt":0,"userId":515640,"userName":"likkhian"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/530635-kg.jpg","displayName":"Hugo Pinto","profileUrl":"/huguera","tier":"Expert","tierInt":2,"userId":530635,"userName":"huguera"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Miosse","profileUrl":"/miosse","tier":"Novice","tierInt":0,"userId":538613,"userName":"miosse"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"TrevorCook","profileUrl":"/trevcook","tier":"Novice","tierInt":0,"userId":556125,"userName":"trevcook"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/559929-fb.jpg","displayName":"Jumadi Subadri","profileUrl":"/jumadistk","tier":"Novice","tierInt":0,"userId":559929,"userName":"jumadistk"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/584879-gp.jpg","displayName":"Lingzhu","profileUrl":"/lingzhuli","tier":"Novice","tierInt":0,"userId":584879,"userName":"lingzhuli"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/590484-gp.jpg","displayName":"Haby","profileUrl":"/habyha","tier":"Contributor","tierInt":1,"userId":590484,"userName":"habyha"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/616782-fb.jpg","displayName":"ShubhamBiswas","profileUrl":"/shubh123","tier":"Contributor","tierInt":1,"userId":616782,"userName":"shubh123"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Mileta","profileUrl":"/mileta1976","tier":"Contributor","tierInt":1,"userId":627288,"userName":"mileta1976"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/627388-kg.png","displayName":"Sri Yogesh","profileUrl":"/yogesh94","tier":"Expert","tierInt":2,"userId":627388,"userName":"yogesh94"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/637809-kg.png","displayName":"Gloriaaaa222","profileUrl":"/duanhonggao","tier":"Contributor","tierInt":1,"userId":637809,"userName":"duanhonggao"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"robogo","profileUrl":"/robogo","tier":"Novice","tierInt":0,"userId":643417,"userName":"robogo"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/648298-kg.jpg","displayName":"ievgen","profileUrl":"/ievgenvp","tier":"Expert","tierInt":2,"userId":648298,"userName":"ievgenvp"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"hrabai","profileUrl":"/hrabai","tier":"Novice","tierInt":0,"userId":652297,"userName":"hrabai"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/653405-kg.png","displayName":"M Hendra Herviawan","profileUrl":"/hendraherviawan","tier":"Contributor","tierInt":1,"userId":653405,"userName":"hendraherviawan"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/654742-kg.JPG","displayName":"Dubro","profileUrl":"/dubravkodolic","tier":"Novice","tierInt":0,"userId":654742,"userName":"dubravkodolic"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Mehrdad Nouralishahi","profileUrl":"/amroli","tier":"Novice","tierInt":0,"userId":675137,"userName":"amroli"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/685015-kg.jpg","displayName":"Damiano","profileUrl":"/damianpanek","tier":"Expert","tierInt":2,"userId":685015,"userName":"damianpanek"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/687546-gp.jpg","displayName":"KyleXY","profileUrl":"/kylexy999","tier":"Novice","tierInt":0,"userId":687546,"userName":"kylexy999"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"PavleVasic","profileUrl":"/pavlevasic","tier":"Novice","tierInt":0,"userId":690513,"userName":"pavlevasic"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/694883-gp.jpg","displayName":"VarsheindraGautam","profileUrl":"/varshei","tier":"Novice","tierInt":0,"userId":694883,"userName":"varshei"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/696465-kg.jpg","displayName":"Gon-soo","profileUrl":"/kissidea","tier":"Novice","tierInt":0,"userId":696465,"userName":"kissidea"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Goran","profileUrl":"/gangjeleski","tier":"Novice","tierInt":0,"userId":696958,"userName":"gangjeleski"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"zcakliu","profileUrl":"/zcakliu","tier":"Novice","tierInt":0,"userId":710712,"userName":"zcakliu"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/718275-kg.png","displayName":"IoannisKBreier","profileUrl":"/jbreier","tier":"Novice","tierInt":0,"userId":718275,"userName":"jbreier"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/727797-kg.jpg","displayName":"Anisotropic","profileUrl":"/arthurtok","tier":"Grandmaster","tierInt":4,"userId":727797,"userName":"arthurtok"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/730088-gp.jpg","displayName":"RiccardoLavelli","profileUrl":"/rlavelli1","tier":"Novice","tierInt":0,"userId":730088,"userName":"rlavelli1"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/730393-gp.jpg","displayName":"ychen3018","profileUrl":"/yilunccc","tier":"Novice","tierInt":0,"userId":730393,"userName":"yilunccc"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/736296-fb.jpg","displayName":"ShivajiAlaparthi","profileUrl":"/shivaji9999","tier":"Novice","tierInt":0,"userId":736296,"userName":"shivaji9999"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"SarahM","profileUrl":"/sarahm","tier":"Novice","tierInt":0,"userId":739123,"userName":"sarahm"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/753415-gr.jpg","displayName":"Pragyan","profileUrl":"/pragyann","tier":"Novice","tierInt":0,"userId":753415,"userName":"pragyann"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/778593-kg.jpg","displayName":"Himanshu Pachori","profileUrl":"/himanshupachori","tier":"Novice","tierInt":0,"userId":778593,"userName":"himanshupachori"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/779333-kg.png","displayName":"Arjun Joshua","profileUrl":"/arjunjoshua","tier":"Novice","tierInt":0,"userId":779333,"userName":"arjunjoshua"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Dr.PanuKh1431","profileUrl":"/kailassrt","tier":"Novice","tierInt":0,"userId":808519,"userName":"kailassrt"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/817385-kg.jpg","displayName":"Clem Castellano","profileUrl":"/lesibius","tier":"Contributor","tierInt":1,"userId":817385,"userName":"lesibius"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/817967-fb.jpg","displayName":"FadhlAlakwaa","profileUrl":"/fadlyemen","tier":"Novice","tierInt":0,"userId":817967,"userName":"fadlyemen"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/826901-kg.jpg","displayName":"FabienDaniel","profileUrl":"/fabiendaniel","tier":"Master","tierInt":3,"userId":826901,"userName":"fabiendaniel"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/840766-gp.jpg","displayName":"C. W. Tsai","profileUrl":"/cwtsai","tier":"Novice","tierInt":0,"userId":840766,"userName":"cwtsai"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/842072-kg.png","displayName":"Franco12","profileUrl":"/franco12","tier":"Novice","tierInt":0,"userId":842072,"userName":"franco12"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/848433-kg.png","displayName":"KaranGautam","profileUrl":"/karangautam","tier":"Contributor","tierInt":1,"userId":848433,"userName":"karangautam"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/856688-kg.jpg","displayName":"Mustafa","profileUrl":"/mustafaapinjari","tier":"Contributor","tierInt":1,"userId":856688,"userName":"mustafaapinjari"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/862457-fb.jpg","displayName":"ArunavaRoyChoudhury","profileUrl":"/aruroyc","tier":"Novice","tierInt":0,"userId":862457,"userName":"aruroyc"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/864755-gp.jpg","displayName":"Hieutudo","profileUrl":"/huuhieudo","tier":"Novice","tierInt":0,"userId":864755,"userName":"huuhieudo"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/866788-kg.jpg","displayName":"nicapotato","profileUrl":"/nicapotato","tier":"Master","tierInt":3,"userId":866788,"userName":"nicapotato"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/869279-kg.png","displayName":"Alex Shvets","profileUrl":"/shvetsiya","tier":"Master","tierInt":3,"userId":869279,"userName":"shvetsiya"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/873789-kg.jpg","displayName":"ltcddata","profileUrl":"/datagenome","tier":"Novice","tierInt":0,"userId":873789,"userName":"datagenome"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/875295-gp.jpg","displayName":"Lissette Guzman","profileUrl":"/lissetteg","tier":"Contributor","tierInt":1,"userId":875295,"userName":"lissetteg"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/876019-kg.png","displayName":"Krushna Agulla","profileUrl":"/klv101101","tier":"Novice","tierInt":0,"userId":876019,"userName":"klv101101"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/884906-gp.jpg","displayName":"Kapil Kumar","profileUrl":"/kapil319","tier":"Novice","tierInt":0,"userId":884906,"userName":"kapil319"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/925797-kg.jpg","displayName":"AshuDS","profileUrl":"/ashutoshds","tier":"Contributor","tierInt":1,"userId":925797,"userName":"ashutoshds"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Sampada","profileUrl":"/sampada","tier":"Novice","tierInt":0,"userId":928208,"userName":"sampada"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/941755-gp.jpg","displayName":"JoseQuinonez","profileUrl":"/josequinonez","tier":"Novice","tierInt":0,"userId":941755,"userName":"josequinonez"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/948243-kg.png","displayName":"Shekhar","profileUrl":"/shekhart47","tier":"Novice","tierInt":0,"userId":948243,"userName":"shekhart47"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/959538-kg.jpg","displayName":"Dunno","profileUrl":"/heyahere","tier":"Novice","tierInt":0,"userId":959538,"userName":"heyahere"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/969955-kg.jpg","displayName":"Kuei Po Huang","profileUrl":"/kueipo","tier":"Master","tierInt":3,"userId":969955,"userName":"kueipo"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/970962-kg.jpg","displayName":"David Gladson","profileUrl":"/davidgladson47","tier":"Contributor","tierInt":1,"userId":970962,"userName":"davidgladson47"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"arpita","profileUrl":"/arpitagupta2915","tier":"Contributor","tierInt":1,"userId":975552,"userName":"arpitagupta2915"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"DiegoFernández","profileUrl":"/diegofndz","tier":"Novice","tierInt":0,"userId":977272,"userName":"diegofndz"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/992409-kg.jpg","displayName":"Husein Zolkepli","profileUrl":"/huseinzol05","tier":"Contributor","tierInt":1,"userId":992409,"userName":"huseinzol05"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1043977-fb.jpg","displayName":"Ivan Markov","profileUrl":"/hellyhenry","tier":"Novice","tierInt":0,"userId":1043977,"userName":"hellyhenry"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Bishnu","profileUrl":"/bishnumurmu","tier":"Contributor","tierInt":1,"userId":1048952,"userName":"bishnumurmu"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Amit","profileUrl":"/amitgupta2533","tier":"Novice","tierInt":0,"userId":1059391,"userName":"amitgupta2533"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1061417-kg.JPG","displayName":"Mauricio Ferrari","profileUrl":"/mdatasets","tier":"Novice","tierInt":0,"userId":1061417,"userName":"mdatasets"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Suma","profileUrl":"/sumac646","tier":"Novice","tierInt":0,"userId":1065614,"userName":"sumac646"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1072393-gp.jpg","displayName":"ElliottMiller","profileUrl":"/elliottmiller","tier":"Contributor","tierInt":1,"userId":1072393,"userName":"elliottmiller"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1096201-gp.jpg","displayName":"Sangamesh K S","profileUrl":"/sangameshks","tier":"Contributor","tierInt":1,"userId":1096201,"userName":"sangameshks"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1106296-kg.jpg","displayName":"GSD","profileUrl":"/gsdeepakkumar","tier":"Expert","tierInt":2,"userId":1106296,"userName":"gsdeepakkumar"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1108609-fb.jpg","displayName":"SumitGanguly","profileUrl":"/arianna17","tier":"Novice","tierInt":0,"userId":1108609,"userName":"arianna17"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Jiafeng Xu","profileUrl":"/jiafengx","tier":"Novice","tierInt":0,"userId":1111212,"userName":"jiafengx"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1116025-gr.jpg","displayName":"Ashish Jha","profileUrl":"/ronniee","tier":"Novice","tierInt":0,"userId":1116025,"userName":"ronniee"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1117764-fb.jpg","displayName":"Michael ","profileUrl":"/omaze1","tier":"Novice","tierInt":0,"userId":1117764,"userName":"omaze1"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1118029-kg.jpg","displayName":"Vipul Sharma","profileUrl":"/vipul93","tier":"Novice","tierInt":0,"userId":1118029,"userName":"vipul93"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"AnnXu","profileUrl":"/hellomrbye","tier":"Novice","tierInt":0,"userId":1121809,"userName":"hellomrbye"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1127283-gp.jpg","displayName":"Kshitiz goel","profileUrl":"/kshitiz111","tier":"Novice","tierInt":0,"userId":1127283,"userName":"kshitiz111"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1136782-gr.jpg","displayName":"Buc Lertrand","profileUrl":"/buclertrand","tier":"Novice","tierInt":0,"userId":1136782,"userName":"buclertrand"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1149136-gp.jpg","displayName":"Prateek","profileUrl":"/pratik2901","tier":"Contributor","tierInt":1,"userId":1149136,"userName":"pratik2901"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1150961-gr.jpg","displayName":"Shibangi Mukherjee","profileUrl":"/shibangi","tier":"Contributor","tierInt":1,"userId":1150961,"userName":"shibangi"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1156643-fb.jpg","displayName":"Harshit Joshi","profileUrl":"/hj5992","tier":"Novice","tierInt":0,"userId":1156643,"userName":"hj5992"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1159339-fb.jpg","displayName":"Suan Chin Yeo","profileUrl":"/suanchinyeo","tier":"Novice","tierInt":0,"userId":1159339,"userName":"suanchinyeo"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1164979-kg.jpg","displayName":"Ramesh","profileUrl":"/rameshpeddamalla","tier":"Novice","tierInt":0,"userId":1164979,"userName":"rameshpeddamalla"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Saquib_Hashmi","profileUrl":"/saquibhashmi","tier":"Contributor","tierInt":1,"userId":1181137,"userName":"saquibhashmi"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Michael","profileUrl":"/mireinhold","tier":"Novice","tierInt":0,"userId":1183832,"userName":"mireinhold"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1187967-gp.jpg","displayName":"pawan","profileUrl":"/pawanyalla","tier":"Novice","tierInt":0,"userId":1187967,"userName":"pawanyalla"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Timothy Quiros","profileUrl":"/timquiros","tier":"Novice","tierInt":0,"userId":1189141,"userName":"timquiros"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"NaMa","profileUrl":"/chippy","tier":"Novice","tierInt":0,"userId":1196647,"userName":"chippy"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1212194-gp.jpg","displayName":"Siddhanth VInay","profileUrl":"/sidvin97","tier":"Novice","tierInt":0,"userId":1212194,"userName":"sidvin97"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1213582-kg.jpg","displayName":"Sebi","profileUrl":"/sebitch","tier":"Novice","tierInt":0,"userId":1213582,"userName":"sebitch"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1214665-gr.jpg","displayName":"Martin Karu","profileUrl":"/martinkaru","tier":"Novice","tierInt":0,"userId":1214665,"userName":"martinkaru"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Maaz Farooqi","profileUrl":"/maazmikail17","tier":"Novice","tierInt":0,"userId":1222572,"userName":"maazmikail17"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Eswara Babu","profileUrl":"/eswarbabu88","tier":"Contributor","tierInt":1,"userId":1226461,"userName":"eswarbabu88"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1236610-kg.JPG","displayName":"Shenshen","profileUrl":"/wenjintana","tier":"Novice","tierInt":0,"userId":1236610,"userName":"wenjintana"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1243773-kg.JPG","displayName":"Omkar Pawar","profileUrl":"/opawar600","tier":"Contributor","tierInt":1,"userId":1243773,"userName":"opawar600"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1246337-kg.png","displayName":"Pedro Hojas","profileUrl":"/pahojas","tier":"Novice","tierInt":0,"userId":1246337,"userName":"pahojas"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1247835-kg.jpg","displayName":"Marwan Mostafa","profileUrl":"/marwanelghitany","tier":"Contributor","tierInt":1,"userId":1247835,"userName":"marwanelghitany"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Paul Beelen","profileUrl":"/paulbeelen","tier":"Novice","tierInt":0,"userId":1251761,"userName":"paulbeelen"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1251803-gp.jpg","displayName":"AbhishekTawar","profileUrl":"/abhishektawar","tier":"Novice","tierInt":0,"userId":1251803,"userName":"abhishektawar"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1260859-gr.jpg","displayName":"Jesús Suárez","profileUrl":"/chuchivic","tier":"Novice","tierInt":0,"userId":1260859,"userName":"chuchivic"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"TianyiHuang","profileUrl":"/tianyihuang","tier":"Novice","tierInt":0,"userId":1260872,"userName":"tianyihuang"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Jung Won Choi","profileUrl":"/jwleochoi","tier":"Contributor","tierInt":1,"userId":1268612,"userName":"jwleochoi"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1270393-kg.png","displayName":"GeekYoung","profileUrl":"/dzzxjl","tier":"Contributor","tierInt":1,"userId":1270393,"userName":"dzzxjl"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1272856-kg.png","displayName":"AleVa","profileUrl":"/alessandronesti","tier":"Novice","tierInt":0,"userId":1272856,"userName":"alessandronesti"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Joelle","profileUrl":"/jlamarche111","tier":"Novice","tierInt":0,"userId":1284798,"userName":"jlamarche111"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Steven","profileUrl":"/smaikim","tier":"Novice","tierInt":0,"userId":1301555,"userName":"smaikim"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1310882-gp.jpg","displayName":"lina","profileUrl":"/lyna2012","tier":"Novice","tierInt":0,"userId":1310882,"userName":"lyna2012"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1317377-fb.jpg","displayName":"RafaelSaraiva","profileUrl":"/saraiva","tier":"Novice","tierInt":0,"userId":1317377,"userName":"saraiva"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"OSM","profileUrl":"/smong88","tier":"Novice","tierInt":0,"userId":1324961,"userName":"smong88"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1331637-gp.jpg","displayName":"Krishna Chaitanya","profileUrl":"/krishnachaitanya01","tier":"Novice","tierInt":0,"userId":1331637,"userName":"krishnachaitanya01"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1342418-kg.jpg","displayName":"Hakeem Frank","profileUrl":"/hakeemtfrank","tier":"Contributor","tierInt":1,"userId":1342418,"userName":"hakeemtfrank"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1346751-kg.jpeg","displayName":"MENGRAN TANG","profileUrl":"/microtang","tier":"Novice","tierInt":0,"userId":1346751,"userName":"microtang"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1351870-fb.jpg","displayName":"OlaGawor","profileUrl":"/karczi","tier":"Novice","tierInt":0,"userId":1351870,"userName":"karczi"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Nicole","profileUrl":"/linyue","tier":"Novice","tierInt":0,"userId":1355576,"userName":"linyue"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1368362-kg.png","displayName":"Vikrant Patil","profileUrl":"/patvik","tier":"Contributor","tierInt":1,"userId":1368362,"userName":"patvik"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1380847-kg.JPG","displayName":"jiezheng","profileUrl":"/zhengjie1985","tier":"Novice","tierInt":0,"userId":1380847,"userName":"zhengjie1985"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Mrunal Chaudhary","profileUrl":"/mrunal220193","tier":"Novice","tierInt":0,"userId":1385575,"userName":"mrunal220193"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Divija Zoldeo","profileUrl":"/divijaz","tier":"Novice","tierInt":0,"userId":1389022,"userName":"divijaz"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Hadi Hobb","profileUrl":"/dzlam1993","tier":"Novice","tierInt":0,"userId":1414169,"userName":"dzlam1993"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1427766-gp.jpg","displayName":"Hasan B A","profileUrl":"/hbahba","tier":"Novice","tierInt":0,"userId":1427766,"userName":"hbahba"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1436706-kg.jpg","displayName":"Leonid Gilburd","profileUrl":"/leonidg","tier":"Contributor","tierInt":1,"userId":1436706,"userName":"leonidg"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1436798-kg.jpg","displayName":"Beatrice Cai","profileUrl":"/beatricecai","tier":"Novice","tierInt":0,"userId":1436798,"userName":"beatricecai"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1436822-kg.jpg","displayName":"jordaycs","profileUrl":"/jordaycs","tier":"Novice","tierInt":0,"userId":1436822,"userName":"jordaycs"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1440891-kg.JPG","displayName":"srini B","profileUrl":"/srinivasmj","tier":"Novice","tierInt":0,"userId":1440891,"userName":"srinivasmj"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1441093-fb.jpg","displayName":"Robin Praet","profileUrl":"/robinpraet","tier":"Contributor","tierInt":1,"userId":1441093,"userName":"robinpraet"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1451364-fb.jpg","displayName":"mubarak","profileUrl":"/mbnasiha","tier":"Novice","tierInt":0,"userId":1451364,"userName":"mbnasiha"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1453167-gp.jpg","displayName":"Sudharsan","profileUrl":"/sudharsan1396","tier":"Novice","tierInt":0,"userId":1453167,"userName":"sudharsan1396"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1457829-kg.jpg","displayName":"Mehdi","profileUrl":"/mnoori","tier":"Expert","tierInt":2,"userId":1457829,"userName":"mnoori"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1468405-kg.JPG","displayName":"Richieone13","profileUrl":"/richieone13","tier":"Contributor","tierInt":1,"userId":1468405,"userName":"richieone13"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1479579-kg.png","displayName":"Ron McChesney","profileUrl":"/cheznation","tier":"Novice","tierInt":0,"userId":1479579,"userName":"cheznation"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1498325-gp.jpg","displayName":"islandemiaj","profileUrl":"/islandemiaj","tier":"Novice","tierInt":0,"userId":1498325,"userName":"islandemiaj"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"shimopino","profileUrl":"/pinocookie","tier":"Contributor","tierInt":1,"userId":1505292,"userName":"pinocookie"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Anthony Lui","profileUrl":"/awlui90","tier":"Novice","tierInt":0,"userId":1509563,"userName":"awlui90"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1518041-kg.jpg","displayName":"Itumeleng Mothapo ","profileUrl":"/itsamoth","tier":"Novice","tierInt":0,"userId":1518041,"userName":"itsamoth"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Harshal Choudhari","profileUrl":"/harshalchoudhari","tier":"Novice","tierInt":0,"userId":1528110,"userName":"harshalchoudhari"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1529421-kg.jpg","displayName":"dhkim","profileUrl":"/dhkdn9192","tier":"Contributor","tierInt":1,"userId":1529421,"userName":"dhkdn9192"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Xinruluo","profileUrl":"/xinruluo","tier":"Novice","tierInt":0,"userId":1535749,"userName":"xinruluo"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"StPinHH","profileUrl":"/jundiao","tier":"Contributor","tierInt":1,"userId":1551499,"userName":"jundiao"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Hua Yang","profileUrl":"/yanghua23","tier":"Novice","tierInt":0,"userId":1551598,"userName":"yanghua23"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Belcebub","profileUrl":"/belcebub","tier":"Novice","tierInt":0,"userId":1555619,"userName":"belcebub"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Yiqing Huang","profileUrl":"/yiqinghuang91","tier":"Novice","tierInt":0,"userId":1557845,"userName":"yiqinghuang91"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"DONGKWON","profileUrl":"/dongkwonyang","tier":"Novice","tierInt":0,"userId":1574772,"userName":"dongkwonyang"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1575931-gp.jpg","displayName":"Robbo","profileUrl":"/cereusperuv","tier":"Novice","tierInt":0,"userId":1575931,"userName":"cereusperuv"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1578005-kg.jpeg","displayName":"Juliette","profileUrl":"/jlemains","tier":"Contributor","tierInt":1,"userId":1578005,"userName":"jlemains"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1588126-fb.jpg","displayName":"Jay Kwon","profileUrl":"/jaykwon","tier":"Novice","tierInt":0,"userId":1588126,"userName":"jaykwon"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"wey wenn","profileUrl":"/wwwong","tier":"Novice","tierInt":0,"userId":1589476,"userName":"wwwong"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1596629-fb.jpg","displayName":"mayu","profileUrl":"/mayurirai","tier":"Novice","tierInt":0,"userId":1596629,"userName":"mayurirai"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1597443-fb.jpg","displayName":"sj72425","profileUrl":"/sahaj72425","tier":"Novice","tierInt":0,"userId":1597443,"userName":"sahaj72425"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Dan Qin","profileUrl":"/dannaqin","tier":"Novice","tierInt":0,"userId":1611284,"userName":"dannaqin"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Elen Tevanyan","profileUrl":"/elentevanyan","tier":"Novice","tierInt":0,"userId":1612024,"userName":"elentevanyan"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Chris Miller","profileUrl":"/cpatrickmiller","tier":"Novice","tierInt":0,"userId":1618869,"userName":"cpatrickmiller"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1622612-gp.jpg","displayName":"Suraj Kumaran","profileUrl":"/surajkumaran","tier":"Novice","tierInt":0,"userId":1622612,"userName":"surajkumaran"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1622920-fb.jpg","displayName":"Karthic Venkatesh","profileUrl":"/karthicvenkatesh","tier":"Novice","tierInt":0,"userId":1622920,"userName":"karthicvenkatesh"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Andy White","profileUrl":"/codermoder79","tier":"Novice","tierInt":0,"userId":1631859,"userName":"codermoder79"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Priyanka Sodhani","profileUrl":"/prisoda","tier":"Novice","tierInt":0,"userId":1642085,"userName":"prisoda"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1653306-gp.jpg","displayName":"Vinay","profileUrl":"/vinaykanth","tier":"Novice","tierInt":0,"userId":1653306,"userName":"vinaykanth"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1667090-kg.jpg","displayName":"Kunduz Kossymbayeva","profileUrl":"/ketty111","tier":"Novice","tierInt":0,"userId":1667090,"userName":"ketty111"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1675859-kg.png","displayName":"WhereIsTheCarmenInSanDiago","profileUrl":"/nitt0x0","tier":"Novice","tierInt":0,"userId":1675859,"userName":"nitt0x0"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"kamzmartin","profileUrl":"/martinmutugi","tier":"Novice","tierInt":0,"userId":1695436,"userName":"martinmutugi"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"yaozhengjie","profileUrl":"/yaozhengjie","tier":"Novice","tierInt":0,"userId":1714662,"userName":"yaozhengjie"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Charalampos","profileUrl":"/charalamposargyriou","tier":"Novice","tierInt":0,"userId":1715168,"userName":"charalamposargyriou"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1722134-fb.jpg","displayName":"Kenji C","profileUrl":"/chaziu","tier":"Novice","tierInt":0,"userId":1722134,"userName":"chaziu"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"dospin95","profileUrl":"/dospin95","tier":"Novice","tierInt":0,"userId":1740814,"userName":"dospin95"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1744874-fb.jpg","displayName":"Ayushi Tiwari","profileUrl":"/ayu5hi","tier":"Novice","tierInt":0,"userId":1744874,"userName":"ayu5hi"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Billy","profileUrl":"/billygao654","tier":"Novice","tierInt":0,"userId":1746634,"userName":"billygao654"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1763162-fb.jpg","displayName":"APZinampan","profileUrl":"/apzinampan","tier":"Novice","tierInt":0,"userId":1763162,"userName":"apzinampan"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"AlOtaibi,Intisar","profileUrl":"/insarn","tier":"Novice","tierInt":0,"userId":1767160,"userName":"insarn"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1783760-kg.JPG","displayName":"W.YAMAG","profileUrl":"/wataru0942","tier":"Novice","tierInt":0,"userId":1783760,"userName":"wataru0942"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1791243-gp.jpg","displayName":"Yaxi Han","profileUrl":"/yahan001","tier":"Novice","tierInt":0,"userId":1791243,"userName":"yahan001"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Ishtiaq","profileUrl":"/iafridi","tier":"Novice","tierInt":0,"userId":1824807,"userName":"iafridi"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1830820-kg.jpeg","displayName":"Johnny Yiu","profileUrl":"/johnnyyiu","tier":"Contributor","tierInt":1,"userId":1830820,"userName":"johnnyyiu"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"DGarcia","profileUrl":"/dgmunoz","tier":"Novice","tierInt":0,"userId":1849422,"userName":"dgmunoz"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1873860-kg.jpeg","displayName":"Rupa Lahiri","profileUrl":"/rblcoder","tier":"Expert","tierInt":2,"userId":1873860,"userName":"rblcoder"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Martynas Lozys","profileUrl":"/marloz","tier":"Novice","tierInt":0,"userId":1897887,"userName":"marloz"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1929760-gp.jpg","displayName":"Lien Nguyen","profileUrl":"/liennguyen","tier":"Novice","tierInt":0,"userId":1929760,"userName":"liennguyen"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1949372-gr.jpg","displayName":"Mohamed Merabet","profileUrl":"/hamito","tier":"Contributor","tierInt":1,"userId":1949372,"userName":"hamito"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Guillaume Arnould","profileUrl":"/arnould","tier":"Novice","tierInt":0,"userId":1951445,"userName":"arnould"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1959246-gp.jpg","displayName":"casper.tw","profileUrl":"/casper1217","tier":"Contributor","tierInt":1,"userId":1959246,"userName":"casper1217"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"sangw","profileUrl":"/sangwjung","tier":"Novice","tierInt":0,"userId":1980249,"userName":"sangwjung"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"chen li","profileUrl":"/chenli0515","tier":"Novice","tierInt":0,"userId":1992459,"userName":"chenli0515"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1993754-kg.png","displayName":"Youngsoo Lee","profileUrl":"/yslee04","tier":"Master","tierInt":3,"userId":1993754,"userName":"yslee04"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/1994920-kg.png","displayName":"Amol Deshmukh","profileUrl":"/des137","tier":"Contributor","tierInt":1,"userId":1994920,"userName":"des137"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Padma_Rakesh_Sagar","profileUrl":"/rakeshmothukuru1","tier":"Novice","tierInt":0,"userId":2007661,"userName":"rakeshmothukuru1"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2013843-gp.jpg","displayName":"Vijeta Deshpande","profileUrl":"/vkdeshpande","tier":"Novice","tierInt":0,"userId":2013843,"userName":"vkdeshpande"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Adele Wang","profileUrl":"/adele1996","tier":"Novice","tierInt":0,"userId":2017259,"userName":"adele1996"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"John Chang","profileUrl":"/johnchang5788","tier":"Novice","tierInt":0,"userId":2019806,"userName":"johnchang5788"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"tangyoubing","profileUrl":"/tangyoubing","tier":"Novice","tierInt":0,"userId":2031439,"userName":"tangyoubing"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Tan Ergen","profileUrl":"/mumus77","tier":"Novice","tierInt":0,"userId":2033763,"userName":"mumus77"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Hugo Britto","profileUrl":"/brittoh","tier":"Novice","tierInt":0,"userId":2043754,"userName":"brittoh"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Laurence Jeffcoate","profileUrl":"/shortal8","tier":"Novice","tierInt":0,"userId":2115243,"userName":"shortal8"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"AshtonDu","profileUrl":"/ashtondu","tier":"Novice","tierInt":0,"userId":2118585,"userName":"ashtondu"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2133066-fb.jpg","displayName":"fwiktor","profileUrl":"/wikifed","tier":"Contributor","tierInt":1,"userId":2133066,"userName":"wikifed"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2137637-gp.jpg","displayName":"Robert Wolf","profileUrl":"/fisherslo","tier":"Novice","tierInt":0,"userId":2137637,"userName":"fisherslo"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Ajeng Prastiwi","profileUrl":"/ajengprstw","tier":"Novice","tierInt":0,"userId":2144114,"userName":"ajengprstw"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2162427-kg.jpg","displayName":"Ruzannah","profileUrl":"/mutiihaha","tier":"Novice","tierInt":0,"userId":2162427,"userName":"mutiihaha"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2167882-gr.jpg","displayName":"Sam Stoelinga","profileUrl":"/samosx","tier":"Novice","tierInt":0,"userId":2167882,"userName":"samosx"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2173451-fb.jpg","displayName":"mehmetokta","profileUrl":"/mehmetokta","tier":"Novice","tierInt":0,"userId":2173451,"userName":"mehmetokta"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Shu Qin","profileUrl":"/shuqinem","tier":"Novice","tierInt":0,"userId":2187732,"userName":"shuqinem"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2188044-kg.png","displayName":"smapira","profileUrl":"/smapira","tier":"Novice","tierInt":0,"userId":2188044,"userName":"smapira"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2190802-kg.JPG","displayName":"Helen","profileUrl":"/helenlui","tier":"Novice","tierInt":0,"userId":2190802,"userName":"helenlui"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Nii Amoo Decardi-Nelson","profileUrl":"/niiamoo","tier":"Novice","tierInt":0,"userId":2191608,"userName":"niiamoo"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2199842-gp.jpg","displayName":"adendum","profileUrl":"/adendum","tier":"Novice","tierInt":0,"userId":2199842,"userName":"adendum"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2213243-kg.jpg","displayName":"Katya Pushkareva","profileUrl":"/katyapush","tier":"Novice","tierInt":0,"userId":2213243,"userName":"katyapush"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"GnlP","profileUrl":"/gnlpltusa","tier":"Novice","tierInt":0,"userId":2241312,"userName":"gnlpltusa"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Ping Yu","profileUrl":"/pingyu97","tier":"Novice","tierInt":0,"userId":2242108,"userName":"pingyu97"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"k+k","profileUrl":"/kksleep","tier":"Novice","tierInt":0,"userId":2252200,"userName":"kksleep"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2260579-gp.jpg","displayName":"Ajar Parama","profileUrl":"/ajarparama","tier":"Novice","tierInt":0,"userId":2260579,"userName":"ajarparama"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"cheertt","profileUrl":"/cheertt","tier":"Novice","tierInt":0,"userId":2290264,"userName":"cheertt"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"sethinasia","profileUrl":"/sethinasia","tier":"Novice","tierInt":0,"userId":2295249,"userName":"sethinasia"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"TJ Melchor","profileUrl":"/tjmelchor","tier":"Novice","tierInt":0,"userId":2331135,"userName":"tjmelchor"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2362166-gp.jpg","displayName":"Rodrigo Casiano Morales (RCM3)","profileUrl":"/rodrigorcm3","tier":"Novice","tierInt":0,"userId":2362166,"userName":"rodrigorcm3"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2373911-fb.jpg","displayName":"peterzsj6","profileUrl":"/peterzsj6","tier":"Contributor","tierInt":1,"userId":2373911,"userName":"peterzsj6"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2379280-fb.jpg","displayName":"nancy","profileUrl":"/nzou6259","tier":"Novice","tierInt":0,"userId":2379280,"userName":"nzou6259"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2386636-gp.jpg","displayName":"Manav Desai","profileUrl":"/mkd1997","tier":"Contributor","tierInt":1,"userId":2386636,"userName":"mkd1997"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Deepak Thandra","profileUrl":"/dthandra","tier":"Novice","tierInt":0,"userId":2395727,"userName":"dthandra"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"lipha01","profileUrl":"/lipha01","tier":"Novice","tierInt":0,"userId":2397501,"userName":"lipha01"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"clarabai","profileUrl":"/clarabai","tier":"Novice","tierInt":0,"userId":2434636,"userName":"clarabai"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2436577-gr.jpg","displayName":"Abhishek Rajbhoj","profileUrl":"/abhishekr7","tier":"Novice","tierInt":0,"userId":2436577,"userName":"abhishekr7"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2466118-gp.jpg","displayName":"Fuad Arshad","profileUrl":"/fuadar","tier":"Novice","tierInt":0,"userId":2466118,"userName":"fuadar"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"MonsterXian","profileUrl":"/monsterxian","tier":"Novice","tierInt":0,"userId":2501685,"userName":"monsterxian"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2512614-gp.jpg","displayName":"Shadow","profileUrl":"/bourbour","tier":"Novice","tierInt":0,"userId":2512614,"userName":"bourbour"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Jesús Hernández","profileUrl":"/jesusshem","tier":"Novice","tierInt":0,"userId":2522026,"userName":"jesusshem"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2535352-kg.jpg","displayName":"Kassem","profileUrl":"/elcaiseri","tier":"Expert","tierInt":2,"userId":2535352,"userName":"elcaiseri"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2538164-kg.jpeg","displayName":"Alexandre Henrique","profileUrl":"/alexandrehsd","tier":"Novice","tierInt":0,"userId":2538164,"userName":"alexandrehsd"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Cola Jiang","profileUrl":"/rabbit0116","tier":"Novice","tierInt":0,"userId":2574949,"userName":"rabbit0116"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2580678-kg.jpg","displayName":"Nasser Aldawsari","profileUrl":"/nasser9355","tier":"Novice","tierInt":0,"userId":2580678,"userName":"nasser9355"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Ye Tian","profileUrl":"/yesweetie","tier":"Novice","tierInt":0,"userId":2594400,"userName":"yesweetie"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2596534-gr.jpg","displayName":"Dawid Półchłopek","profileUrl":"/rapsad","tier":"Novice","tierInt":0,"userId":2596534,"userName":"rapsad"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Thrylokya","profileUrl":"/dsvthrylokya","tier":"Novice","tierInt":0,"userId":2610722,"userName":"dsvthrylokya"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Guo Tongtong","profileUrl":"/y0sh1111","tier":"Novice","tierInt":0,"userId":2613271,"userName":"y0sh1111"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Jetro Gainza","profileUrl":"/jgainza","tier":"Novice","tierInt":0,"userId":2613875,"userName":"jgainza"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"twoBr0TWOb","profileUrl":"/twobr0twob","tier":"Novice","tierInt":0,"userId":2622594,"userName":"twobr0twob"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2650381-kg.jpg","displayName":"Jevon Sevilla","profileUrl":"/jevonsevilla","tier":"Novice","tierInt":0,"userId":2650381,"userName":"jevonsevilla"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2653074-gp.jpg","displayName":"Masoud","profileUrl":"/masoudshab","tier":"Novice","tierInt":0,"userId":2653074,"userName":"masoudshab"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Pierre","profileUrl":"/pcschroeder2","tier":"Novice","tierInt":0,"userId":2664153,"userName":"pcschroeder2"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2670886-fb.jpg","displayName":"sumanth","profileUrl":"/sumanthssr","tier":"Novice","tierInt":0,"userId":2670886,"userName":"sumanthssr"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Dong-in","profileUrl":"/donginkim88","tier":"Novice","tierInt":0,"userId":2687923,"userName":"donginkim88"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2694771-fb.jpg","displayName":"Nectaria Pierrou","profileUrl":"/nectariapierrou","tier":"Novice","tierInt":0,"userId":2694771,"userName":"nectariapierrou"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2709479-gp.jpg","displayName":"Shilpa","profileUrl":"/shilpagoyal","tier":"Novice","tierInt":0,"userId":2709479,"userName":"shilpagoyal"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2732287-fb.jpg","displayName":"Pierre Kossowski","profileUrl":"/pierrekos","tier":"Novice","tierInt":0,"userId":2732287,"userName":"pierrekos"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"zoeythomas","profileUrl":"/zoeythomas","tier":"Novice","tierInt":0,"userId":2736209,"userName":"zoeythomas"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Arun Shrivastava","profileUrl":"/arun112","tier":"Contributor","tierInt":1,"userId":2744691,"userName":"arun112"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Camel Bhoola","profileUrl":"/bhoolabhoola","tier":"Novice","tierInt":0,"userId":2752864,"userName":"bhoolabhoola"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"jmd5676081","profileUrl":"/supriya0tiwari01","tier":"Novice","tierInt":0,"userId":2784881,"userName":"supriya0tiwari01"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Mikko Kouhia","profileUrl":"/mkouhia","tier":"Novice","tierInt":0,"userId":2809623,"userName":"mkouhia"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"asya t","profileUrl":"/asyatikkanen","tier":"Novice","tierInt":0,"userId":2824194,"userName":"asyatikkanen"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Denis Volchugin","profileUrl":"/volchugin","tier":"Novice","tierInt":0,"userId":2826627,"userName":"volchugin"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Dunno","profileUrl":"/chxliu","tier":"Novice","tierInt":0,"userId":2831168,"userName":"chxliu"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2831847-kg.jpg","displayName":"Ghousethanedar","profileUrl":"/ghousethanedar","tier":"Contributor","tierInt":1,"userId":2831847,"userName":"ghousethanedar"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Salm ","profileUrl":"/nianqi110","tier":"Novice","tierInt":0,"userId":2860376,"userName":"nianqi110"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Tiamo","profileUrl":"/ljonly1","tier":"Novice","tierInt":0,"userId":2860554,"userName":"ljonly1"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"ah_wai","profileUrl":"/wonderkidcw","tier":"Novice","tierInt":0,"userId":2864835,"userName":"wonderkidcw"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2871867-fb.jpg","displayName":"Divya","profileUrl":"/divs2306","tier":"Novice","tierInt":0,"userId":2871867,"userName":"divs2306"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"yalun","profileUrl":"/yalunluo","tier":"Novice","tierInt":0,"userId":2879340,"userName":"yalunluo"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Praveen","profileUrl":"/mpk11235","tier":"Novice","tierInt":0,"userId":2887594,"userName":"mpk11235"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2890285-gp.jpg","displayName":"Dreamspace","profileUrl":"/dreamspace","tier":"Novice","tierInt":0,"userId":2890285,"userName":"dreamspace"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"JoDectective","profileUrl":"/jodectective","tier":"Novice","tierInt":0,"userId":2910260,"userName":"jodectective"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"pkasaine123","profileUrl":"/pkasaine123","tier":"Novice","tierInt":0,"userId":2912316,"userName":"pkasaine123"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"sandilya machiraju","profileUrl":"/sandilya45","tier":"Novice","tierInt":0,"userId":2928263,"userName":"sandilya45"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Nikos Mantziaris","profileUrl":"/mantziaris","tier":"Novice","tierInt":0,"userId":2928952,"userName":"mantziaris"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2957903-kg.JPG","displayName":"SungJun DO","profileUrl":"/dsjunn","tier":"Contributor","tierInt":1,"userId":2957903,"userName":"dsjunn"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/2993307-kg.jpg","displayName":"Harrywu","profileUrl":"/teamowu","tier":"Novice","tierInt":0,"userId":2993307,"userName":"teamowu"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3027403-kg.jpg","displayName":"Renan Machado","profileUrl":"/renanmav","tier":"Contributor","tierInt":1,"userId":3027403,"userName":"renanmav"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Li Meng","profileUrl":"/att2int","tier":"Novice","tierInt":0,"userId":3034253,"userName":"att2int"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Huy Tran","profileUrl":"/dhuy237","tier":"Novice","tierInt":0,"userId":3037612,"userName":"dhuy237"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3089313-kg.jpg","displayName":"Rodrigo Hjort","profileUrl":"/agajorte","tier":"Contributor","tierInt":1,"userId":3089313,"userName":"agajorte"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3145510-kg.jpg","displayName":"Sylvain J.","profileUrl":"/slvjgd","tier":"Contributor","tierInt":1,"userId":3145510,"userName":"slvjgd"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"huangxieyue","profileUrl":"/huangxieyue","tier":"Novice","tierInt":0,"userId":3154219,"userName":"huangxieyue"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3179872-kg.jpg","displayName":"Andriansyah Muqiit","profileUrl":"/muqiitsaputra","tier":"Contributor","tierInt":1,"userId":3179872,"userName":"muqiitsaputra"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Jerome Hoen","profileUrl":"/jeromehoen","tier":"Novice","tierInt":0,"userId":3192561,"userName":"jeromehoen"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"bluprint_","profileUrl":"/bluprint","tier":"Novice","tierInt":0,"userId":3194878,"userName":"bluprint"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3275526-kg.jpeg","displayName":"Aeeo","profileUrl":"/aeehuan","tier":"Novice","tierInt":0,"userId":3275526,"userName":"aeehuan"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3275954-kg.jpg","displayName":"tomato","profileUrl":"/jianghaijin","tier":"Novice","tierInt":0,"userId":3275954,"userName":"jianghaijin"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3294491-gr.jpg","displayName":"Nikhil","profileUrl":"/nikhil6811","tier":"Novice","tierInt":0,"userId":3294491,"userName":"nikhil6811"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Haneul Bae","profileUrl":"/show1296","tier":"Novice","tierInt":0,"userId":3303719,"userName":"show1296"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Pratik J","profileUrl":"/pratikjaipurkar","tier":"Novice","tierInt":0,"userId":3331541,"userName":"pratikjaipurkar"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"ChrisGoughSA","profileUrl":"/chrisgoughsa","tier":"Novice","tierInt":0,"userId":3403294,"userName":"chrisgoughsa"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Anil Betta","profileUrl":"/yourkarma","tier":"Novice","tierInt":0,"userId":3425395,"userName":"yourkarma"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"An Nguyen","profileUrl":"/annguyen52","tier":"Novice","tierInt":0,"userId":3428519,"userName":"annguyen52"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Alfonsus Giovanni","profileUrl":"/alfngio","tier":"Novice","tierInt":0,"userId":3438010,"userName":"alfngio"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"abhishek","profileUrl":"/muzicmaniac7","tier":"Novice","tierInt":0,"userId":3462627,"userName":"muzicmaniac7"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"sbarnett","profileUrl":"/shinekab22","tier":"Novice","tierInt":0,"userId":3465627,"userName":"shinekab22"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"ZHAOGY","profileUrl":"/zhaogy1234567","tier":"Novice","tierInt":0,"userId":3486227,"userName":"zhaogy1234567"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3493749-fb.jpg","displayName":"Feodora Obraztsova","profileUrl":"/teoluna","tier":"Novice","tierInt":0,"userId":3493749,"userName":"teoluna"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"gpangrango","profileUrl":"/gpangrango","tier":"Novice","tierInt":0,"userId":3499628,"userName":"gpangrango"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Pavano","profileUrl":"/pavano1760","tier":"Novice","tierInt":0,"userId":3508537,"userName":"pavano1760"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"rhfall","profileUrl":"/rhfall","tier":"Novice","tierInt":0,"userId":3520497,"userName":"rhfall"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3525196-kg.jpeg","displayName":"Kiranmayi Vadlamudi","profileUrl":"/charliesangel","tier":"Novice","tierInt":0,"userId":3525196,"userName":"charliesangel"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Andrea Susanna","profileUrl":"/andsus","tier":"Novice","tierInt":0,"userId":3588901,"userName":"andsus"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3666613-fb.jpg","displayName":"Shivam Singh","profileUrl":"/shivamsingh00236","tier":"Novice","tierInt":0,"userId":3666613,"userName":"shivamsingh00236"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Uxue","profileUrl":"/uxueayechu","tier":"Novice","tierInt":0,"userId":3714840,"userName":"uxueayechu"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"hanumantha rao","profileUrl":"/hanu418","tier":"Novice","tierInt":0,"userId":3717583,"userName":"hanu418"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Emre Varol","profileUrl":"/iamvarol","tier":"Novice","tierInt":0,"userId":3837313,"userName":"iamvarol"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Uzair Mustufa","profileUrl":"/uzairmustufa","tier":"Novice","tierInt":0,"userId":3870900,"userName":"uzairmustufa"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Philipp Wonneberger","profileUrl":"/philippwonneberger","tier":"Novice","tierInt":0,"userId":3875876,"userName":"philippwonneberger"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/3890720-gr.jpg","displayName":"Tam Phan","profileUrl":"/tamphan175","tier":"Novice","tierInt":0,"userId":3890720,"userName":"tamphan175"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"JoyceLC","profileUrl":"/lcjoyce","tier":"Novice","tierInt":0,"userId":3932508,"userName":"lcjoyce"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Zachary9","profileUrl":"/zachary9","tier":"Novice","tierInt":0,"userId":4004163,"userName":"zachary9"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Prasad Sawant","profileUrl":"/prasadnsawant","tier":"Novice","tierInt":0,"userId":4008874,"userName":"prasadnsawant"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/4014520-fb.jpg","displayName":"Bhumika Singh Rathore","profileUrl":"/bhumikasinghrathore","tier":"Novice","tierInt":0,"userId":4014520,"userName":"bhumikasinghrathore"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/4026835-gr.jpg","displayName":"ducanh6498","profileUrl":"/ducanh6498","tier":"Novice","tierInt":0,"userId":4026835,"userName":"ducanh6498"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"betinadata","profileUrl":"/betinadata","tier":"Novice","tierInt":0,"userId":4130792,"userName":"betinadata"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Oak Seeds","profileUrl":"/oakseeds","tier":"Novice","tierInt":0,"userId":4139315,"userName":"oakseeds"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"shipei feng","profileUrl":"/shipeifeng","tier":"Novice","tierInt":0,"userId":4147859,"userName":"shipeifeng"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Shin Mon","profileUrl":"/shinmon","tier":"Novice","tierInt":0,"userId":4195417,"userName":"shinmon"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Maika G. Mitchell, PhD","profileUrl":"/maikagmitchellphd","tier":"Novice","tierInt":0,"userId":4223621,"userName":"maikagmitchellphd"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"connie0608","profileUrl":"/connie0608","tier":"Novice","tierInt":0,"userId":4245553,"userName":"connie0608"},{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Cassidy Sater","profileUrl":"/cassidysater","tier":"Novice","tierInt":0,"userId":4316883,"userName":"cassidysater"}],"currentUserInfo":{"avatarThumbnailUrl":"https://storage.googleapis.com/kaggle-avatars/thumbnails/default-thumb.png","displayName":"Alireza Alizadegan","userName":"alizadegan","profileUrl":"/alizadegan","tier":"Novice","tierInt":0,"userId":3743521},"showVoters":true,"alwaysShowVoters":true},"parentDataSource":null,"parentName":"E-Commerce Data","parentUrl":"/carrie1/ecommerce-data","thumbnailImageUrl":"https://storage.googleapis.com/kaggle-datasets-images/1985/3404/86a442881be475eef09214be8458269f/dataset-thumbnail.jpg","canWrite":false,"canAdminister":false,"currentUserHasForked":false,"forkParentIsRedacted":false,"forkDiffLinesChanged":0,"forkDiffLinesDeleted":0,"forkDiffLinesInserted":0,"forkDiffUrl":null,"forkParentAuthorDisplayName":null,"forkParentAuthorUrl":null,"forkParentTitle":null,"forkParentUrl":null,"canSeeDataExplorerV2":true,"canSeeInnerTableOfContents":true,"simplifiedViewer":false,"kernelOutputDataset":null});performance && performance.mark && performance.mark("KernelViewer.componentCouldBootstrap");</script>

<form action="https://www.kaggle.com/fabiendaniel/customer-segmentation/notebook" id="__AjaxAntiForgeryForm" method="post"><input name="X-XSRF-TOKEN" type="hidden" value="CfDJ8LdUzqlsSWBPr4Ce3rb9VL-DKi-OzqOcP1SQBFknAtRCkz3B-KHsLpIBAVYQvMHqG3aUlS8eVJiSi7RLodfroIg6mGWix_t9EjT1dP4Olb00hzhSGtXShWNF1tIECtVBovtKzqU-9X_BFMpkcFbNwacPQDbuBhIJm3cI8ype3pUHzWlW6LBUuM5oItpCh_4_0Q"></form>
<script nonce="" type="text/x-mathjax-config;executed=true">
    MathJax.Hub.Config({
    "HTML-CSS": {
    preferredFont: "TeX",
    availableFonts: ["STIX", "TeX"],
    linebreaks: {
    automatic: true
    },
    EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
    inlineMath: [["\\(", "\\)"], ["\\\\(", "\\\\)"]],
    displayMath: [["$$", "$$"], ["\\[", "\\]"]],
    processEscapes: true,
    ignoreClass: "tex2jax_ignore|dno"
    },
    TeX: {
    noUndefined: {
    attributes: {
    mathcolor: "red",
    mathbackground: "#FFEEEE",
    mathsize: "90%"
    }
    }
    },
    Macros: {
    href: "{}"
    },
    skipStartupTypeset: true,
    messageStyle: "none"
    });
</script>
<script nonce="" type="text/javascript" async="" crossorigin="anonymous" src="./Customer Segmentation _ Kaggle_files/MathJax.js.download"></script>


<script type="text/javascript" nonce="">
    window.addEventListener("message", function(event) {
        if (event.origin !== "https://www.kaggleusercontent.com" &&
            !event.origin.match(/^http:\/\/localhost/)) {
            return;
        }

        if (typeof event.data === "object" &&
            event.data.name === "getResourceUrls") {
            event.source.postMessage({
                name: "setResourceUrls",
                scripts: [
                    "/static/assets/notebookviewer.js?v=2fe21b8125af87991205",
                    "/static/assets/vendor.js?v=fbff425529a3c318a342",
                ],
                styles: [
                    "/static/assets/notebookviewer.css?v=ba9a5a399d463b503f1f",
                    "/static/assets/vendor.css?v=6476c0ac5e57e890b785",
                ],
            }, event.origin);
        }
    });
</script>
        </div>

            <div class="site-layout__footer">
                <footer class="site-footer">
    <div class="site-footer__content">
        <div class="site-footer__copyright">
            <span>© 2020 Kaggle Inc</span>
        </div>
        <nav class="site-footer__nav">
            <a href="https://www.kaggle.com/team">Our Team</a>
            <a href="https://www.kaggle.com/terms">Terms</a>
            <a href="https://www.kaggle.com/privacy">Privacy</a>
            <a href="https://www.kaggle.com/contact">Contact/Support</a>
        </nav>
        <nav class="site-footer__social">
            <div data-component-name="SocialIcons" style="display: flex; flex-direction: column; flex: 1 0 auto;"><div style="--mdc-theme-on-primary:#fff; --mdc-theme-on-surface:rgba(0, 0, 0, 0.87); --mdc-theme-text-primary-on-background:rgba(0, 0, 0, 0.87); --mdc-theme-text-secondary-on-background:rgba(0, 0, 0, 0.54); --mdc-theme-text-hint-on-background:rgba(0, 0, 0, 0.38); --mdc-theme-text-disabled-on-background:rgba(0, 0, 0, 0.38); --mdc-theme-text-icon-on-background:rgba(0, 0, 0, 0.38); --mdc-theme-primary:#20BEFF; --mdc-theme-error:#F58B8A; --mdc-theme-background:#F8F8F8; --mdc-theme-surface:#F8F8F8; --mdc-theme-primary-bg:#20BEFF; --mdc-theme-secondary-bg:#919294;"><div class="social-icons"><a class="social-icons__link" href="https://www.youtube.com/kaggle" title="Follow Kaggle on YouTube"><i class="fa fa-youtube-square"></i></a><a class="social-icons__link" href="http://www.twitter.com/kaggle" title="Follow Kaggle on Twitter"><i class="fa fa-twitter-square"></i></a><a class="social-icons__link" href="http://www.facebook.com/kaggle" title="Follow Kaggle on Facebook"><i class="fa fa-facebook-square"></i></a><a class="social-icons__link" href="http://www.linkedin.com/company/kaggle" title="Follow Kaggle on LinkedIn"><i class="fa fa-linkedin-square"></i></a></div></div></div><script nonce="">var Kaggle=window.Kaggle||{};Kaggle.State=Kaggle.State||[];Kaggle.State.push({});performance && performance.mark && performance.mark("SocialIcons.componentCouldBootstrap");</script>
        </nav>
    </div>
</footer>

            </div>
    </div>



    <!-- Cheers, web-79d9ff687c-gz7j4p. -->

    </main>


<iframe id="intercom-frame" style="position: absolute !important; opacity: 0 !important; width: 1px !important; height: 1px !important; top: 0 !important; left: 0 !important; border: none !important; display: block !important; z-index: -1 !important;" aria-hidden="true" tabindex="-1" title="Intercom" src="./Customer Segmentation _ Kaggle_files/saved_resource.html"></iframe><div id="intercom-css-container"><style data-emotion="intercom-global"></style></div><div id="intercom-container" class="intercom-namespace"><style>html.intercom-mobile-messenger-active,html.intercom-mobile-messenger-active > body,html.intercom-modal-open,#intercom-container-body{overflow:hidden !important;}html.intercom-mobile-messenger-active,html.intercom-mobile-messenger-active > body{position:static !important;}html.intercom-mobile-messenger-active > body{height:0 !important;margin:0 !important;}iframe#intercom-frame{position:absolute !important;opacity:0 !important;width:1px !important;height:1px !important;top:0 !important;left:0 !important;border:none !important;display:block !important;z-index:-1 !important;}</style><div class="intercom-app" aria-live="polite"><div id="intercom-modal-container"></div></div></div></body></html>